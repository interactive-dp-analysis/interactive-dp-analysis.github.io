import{w as Qd}from"./index.12ece268.js";import{V as Zf,S as Zd,i as Xd,s as tp,q as I,r as A,b as ep,u as q0,H as el,h as b,o as H0,k as v,a as E,y as Zt,l as w,m as x,c as T,z as Xt,n as Y,G as m,A as te,g as ee,d as ie,B as ne}from"./index.fc46900e.js";const Al="tutorial",qr="part1",Hr="part2",Yr="part3",Y0=[Al,qr,Hr,Yr],ip=[Al],G0={[Al]:"Tutorial",[qr]:"ACS",[Hr]:"DIA",[Yr]:"STU"},K0={[qr]:"ACS",[Hr]:"DIA",[Yr]:"STU"},mI={[qr]:0,[Hr]:0,[Yr]:0};let J0=Y0.length;function yI(e,t){let i=ip.concat(t);if(i.includes(e)){let n=i.indexOf(e);return n+1==J0?null:i[n+1]}}function gI(e,t){return t[t.length-1]===e}function _I(e){return G0[e]}function bI(e){return ip.includes(e)}const vI=!1,Q0={"Content-Type":"application/json"},Z0="GET";async function X0(e){return await fetch("./participant_data/"+e,{method:Z0,headers:Q0})}const st=Array.isArray;function Ht(e){return e!=null?st(e)?e:[e]:[]}function tg(e=0,t=1/0){return`${Xf(e)} < row_number() && row_number() <= ${Xf(t)}`}function Xf(e){return e<0?`count() + ${e}`:e}class np{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,i){return this.__derive(this,t,i)}filter(t){return this.__filter(this,t)}slice(t,i){return this.filter(tg(t,i)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,i){return this.__relocate(this,Ht(t),i)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,i){return this.__sample(this,t,i)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,i){return this.__impute(this,t,i)}fold(t,i){return this.__fold(this,t,i)}pivot(t,i,n){return this.__pivot(this,t,i,n)}spread(t,i){return this.__spread(this,t,i)}unroll(t,i){return this.__unroll(this,t,i)}lookup(t,i,...n){return this.__lookup(this,t,i,n.flat())}join(t,i,n,s){return this.__join(this,t,i,n,s)}join_left(t,i,n,s){const r={...s,left:!0,right:!1};return this.__join(this,t,i,n,r)}join_right(t,i,n,s){const r={...s,left:!1,right:!0};return this.__join(this,t,i,n,r)}join_full(t,i,n,s){const r={...s,left:!0,right:!0};return this.__join(this,t,i,n,r)}cross(t,i,n){return this.__cross(this,t,i,n)}semijoin(t,i){return this.__semijoin(this,t,i)}antijoin(t,i){return this.__antijoin(this,t,i)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function j(e){throw Error(e)}function Pt(e){return typeof e=="number"}function pt(e){return typeof e=="function"}function zs(e,t){const i=Array(e);if(pt(t))for(let n=0;n<e;++n)i[n]=t(n);else i.fill(t);return i}let eg=class extends np{constructor(t,i,n,s,r,a,o){super(o),this._names=Object.freeze(t),this._data=n,this._total=i,this._nrows=s?s.count():i,this._mask=i!==this._nrows&&s||null,this._group=r||null,this._order=a||null}create(t){j("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,i){return this.array(t,i)}array(t,i){j("Not implemented")}*values(t){const i=this.getter(t),n=this.numRows();for(let s=0;s<n;++s)yield i(s)}get(t,i=0){j("Not implemented")}getter(t){j("Not implemented")}objects(t){j("Not implemented")}object(t){j("Not implemented")}[Symbol.iterator](){j("Not implemented")}print(t={}){Pt(t)?t={limit:t}:t.limit==null&&(t.limit=10);const i=this.objects({...t,grouped:!1}),n=`${this[Symbol.toStringTag]}. Showing ${i.length} rows.`;return console.log(n),console.table(i),this}indices(t=!0){if(this._index)return this._index;const i=this.numRows(),n=new Uint32Array(i),s=this.isOrdered(),r=this.mask();let a=-1;if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))n[++a]=o;else for(let o=0;o<i;++o)n[++a]=o;if(t&&s){const o=this._order,c=this._data;n.sort((u,l)=>o(u,l,c))}return(t||!s)&&(this._index=n),n}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:i,size:n}=this._group,s=zs(n,()=>[]),r=this._index,a=this.mask(),o=this.numRows();if(r&&this.isOrdered())for(let c=0,u;c<o;++c)u=r[c],s[i[u]].push(u);else if(a)for(let c=a.next(0);c>=0;c=a.next(c+1))s[i[c]].push(c);else for(let c=0;c<o;++c)s[i[c]].push(c);if(t&&!r&&this.isOrdered()){const c=this._order,u=this._data;for(let l=0;l<n;++l)s[l].sort((p,d)=>c(p,d,u))}return(t||!this.isOrdered())&&(this._partitions=s),s}scan(t,i,n=1/0,s=0){const r=this._mask,a=this._nrows,o=this._data;let c=s||0;if(c>a)return;const u=Math.min(a,c+n),l=()=>c=this._total;if(i&&this.isOrdered()||r&&this._index){const p=this.indices(),d=this._data;for(;c<u;++c)t(p[c],d,l)}else if(r){let p=u-c+1;for(c=r.nth(c);--p&&c>-1;c=r.next(c+1))t(c,o,l)}else for(;c<u;++c)t(c,o,l)}slice(t=0,i=1/0){if(this.isGrouped())return super.slice(t,i);const n=[],s=this.numRows();return t=Math.max(0,t+(t<0?s:0)),i=Math.min(s,Math.max(0,i+(i<0?s:0))),this.scan(r=>n.push(r),!0,i-t,t),this.reify(n)}reduce(t){return this.__reduce(this,t)}},ig=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},ng=function(e){return e&&pt(e.get)?e:new ig(e)};function li(e){return e instanceof Date}function Rt(e){return e===Object(e)}function qa(e){return e instanceof RegExp}function Ft(e){return typeof e=="string"}function sg(e,t){const i=n=>j(`Illegal argument type: ${n||typeof e}`);return e instanceof Map?td(e.entries(),t):li(e)?i("Date"):qa(e)?i("RegExp"):Ft(e)?i():st(e)?rg(e,t):pt(e[Symbol.iterator])?ag(e,t):Rt(e)?td(Object.entries(e),t):i()}function td(e,t=["key","value"]){const i=[],n=[];for(const[r,a]of e)i.push(r),n.push(a);const s={};return t[0]&&(s[t[0]]=i),t[1]&&(s[t[1]]=n),s}function rg(e,t){const i=e.length,n={},s=r=>n[r]=Array(i);if(i){t=t||Object.keys(e[0]);const r=t.map(s),a=r.length;for(let o=0;o<i;++o){const c=e[o];for(let u=0;u<a;++u)r[u][o]=c[t[u]]}}else t&&t.forEach(s);return n}function ag(e,t){const i={},n=a=>i[a]=[];let s,r;for(const a of e){s||(t=t||Object.keys(a),s=t.map(n),r=s.length);for(let o=0;o<r;++o)s[o].push(a[t[o]])}return!s&&t&&t.forEach(n),i}const{hasOwnProperty:og}=Object.prototype;function Oe(e,t){return og.call(e,t)}function le(e){return e?new ed({...e.data()},e.columnNames()):new ed}class ed{constructor(t,i){this.data=t||{},this.names=i||[]}add(t,i){return this.has(t)||this.names.push(t+""),this.data[t]=i}has(t){return Oe(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const nt=void 0,cg=Object.getPrototypeOf(Int8Array);function Gr(e){return e instanceof cg}function Tn(e){return st(e)||Gr(e)}function Ce(e){return e!=null&&e===e}const Ar=e=>Tn(e)||Ft(e),ug={compact:e=>Tn(e)?e.filter(t=>Ce(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,i)=>Ar(e)?e.includes(t,i):!1,indexof:(e,t)=>Ar(e)?e.indexOf(t):-1,join:(e,t)=>Tn(e)?e.join(t):nt,lastindexof:(e,t)=>Ar(e)?e.lastIndexOf(t):-1,length:e=>Ar(e)?e.length:0,pluck:(e,t)=>Tn(e)?e.map(i=>Ce(i)?i[t]:nt):nt,reverse:e=>Tn(e)?e.slice().reverse():Ft(e)?e.split("").reverse().join(""):nt,slice:(e,t,i)=>Ar(e)?e.slice(t,i):nt};function lg(e,t,i,n,s){return e==null?null:e<t?-1/0:e>i?1/0:(e=Math.max(t,Math.min(e,i)),t+n*Math.floor(1e-14+(e-t)/n+(s||0)))}function Ra(e,t,i="0"){const n=e+"",s=n.length;return s<t?Array(t-s+1).join(i)+n:n}const Le=e=>(e<10?"0":"")+e,hg=e=>e<0?"-"+Ra(-e,6):e>9999?"+"+Ra(e,6):Ra(e,4);function sp(e,t,i,n,s,r,a,o,c){const u=o?"Z":"";return hg(e)+"-"+Le(t+1)+"-"+Le(i)+(!c||a?"T"+Le(n)+":"+Le(s)+":"+Le(r)+"."+Ra(a,3)+u:r?"T"+Le(n)+":"+Le(s)+":"+Le(r)+u:s||n||!o?"T"+Le(n)+":"+Le(s)+u:"")}function rp(e,t){return isNaN(e)?"Invalid Date":sp(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function go(e,t){return isNaN(e)?"Invalid Date":sp(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const fg=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function ap(e){return e.match(fg)}function dg(e,t=Date.parse){return ap(e)?t(e):e}const op=6e4,cp=864e5,up=6048e5,_t=new Date,bt=new Date,wt=e=>(_t.setTime(typeof e=="string"?dg(e):e),_t);function pg(e,t,i,n,s,r,a){return arguments.length?new Date(e,t||0,i??1,n||0,s||0,r||0,a||0):new Date(Date.now())}function mg(e,t,i,n,s,r,a){return arguments.length?new Date(Date.UTC(e,t||0,i??1,n||0,s||0,r||0,a||0)):new Date(Date.now())}function yg(e){bt.setTime(+e),bt.setHours(0,0,0,0),_t.setTime(+bt),_t.setMonth(0),_t.setDate(1);const t=(bt.getTimezoneOffset()-_t.getTimezoneOffset())*op;return Math.floor(1+(bt-_t-t)/cp)}function gg(e){bt.setTime(+e),bt.setUTCHours(0,0,0,0);const t=Date.UTC(bt.getUTCFullYear(),0,1);return Math.floor(1+(bt-t)/cp)}function _g(e,t){const i=t||0;bt.setTime(+e),bt.setDate(bt.getDate()-(bt.getDay()+7-i)%7),bt.setHours(0,0,0,0),_t.setTime(+e),_t.setMonth(0),_t.setDate(1),_t.setDate(1-(_t.getDay()+7-i)%7),_t.setHours(0,0,0,0);const n=(bt.getTimezoneOffset()-_t.getTimezoneOffset())*op;return Math.floor((1+(bt-_t)-n)/up)}function bg(e,t){const i=t||0;return bt.setTime(+e),bt.setUTCDate(bt.getUTCDate()-(bt.getUTCDay()+7-i)%7),bt.setUTCHours(0,0,0,0),_t.setTime(+e),_t.setUTCMonth(0),_t.setUTCDate(1),_t.setUTCDate(1-(_t.getUTCDay()+7-i)%7),_t.setUTCHours(0,0,0,0),Math.floor((1+(bt-_t))/up)}const vg={format_date:(e,t)=>rp(wt(e),!t),format_utcdate:(e,t)=>go(wt(e),!t),timestamp:e=>+wt(e),year:e=>wt(e).getFullYear(),quarter:e=>Math.floor(wt(e).getMonth()/3),month:e=>wt(e).getMonth(),date:e=>wt(e).getDate(),dayofweek:e=>wt(e).getDay(),hours:e=>wt(e).getHours(),minutes:e=>wt(e).getMinutes(),seconds:e=>wt(e).getSeconds(),milliseconds:e=>wt(e).getMilliseconds(),utcyear:e=>wt(e).getUTCFullYear(),utcquarter:e=>Math.floor(wt(e).getUTCMonth()/3),utcmonth:e=>wt(e).getUTCMonth(),utcdate:e=>wt(e).getUTCDate(),utcdayofweek:e=>wt(e).getUTCDay(),utchours:e=>wt(e).getUTCHours(),utcminutes:e=>wt(e).getUTCMinutes(),utcseconds:e=>wt(e).getUTCSeconds(),utcmilliseconds:e=>wt(e).getUTCMilliseconds(),datetime:pg,dayofyear:yg,week:_g,utcdatetime:mg,utcdayofyear:gg,utcweek:bg,now:Date.now};function El(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:li(e)||li(t)?+e==+t:qa(e)&&qa(t)?e+""==t+"":Rt(e)&&Rt(t)?wg(e,t):!1}function wg(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return id(e,t);const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length||(i.sort(),n.sort(),!id(i,n,(r,a)=>r===a)))return!1;const s=i.length;for(let r=0;r<s;++r){const a=i[r];if(!El(e[a],t[a]))return!1}return!0}function id(e,t,i=El){const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;++s)if(!i(e[s],t[s]))return!1;return!0}const xg={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let Sg=Math.random;function Ws(){return Sg()}const Ig={random:Ws,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function Tl(e){return e instanceof Map}function Ag(e){return e instanceof Set}function Pa(e){return Tl(e)||Ag(e)}function Lu(e){return Array.from(e)}const Eg={has:(e,t)=>Pa(e)?e.has(t):e!=null?Oe(e,t):!1,keys:e=>Tl(e)?Lu(e.keys()):e!=null?Object.keys(e):[],values:e=>Pa(e)?Lu(e.values()):e!=null?Object.values(e):[],entries:e=>Pa(e)?Lu(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):nt};function Tg(e,t,i){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Oe(t,e))return t[e];return i!==void 0?i:e}function Cg(e,t,i){let n=arguments.length;e=+e,t=+t,i=n<2?(t=e,e=0,1):n<3?1:+i,n=Math.max(0,Math.ceil((t-e)/i))|0;const s=new Array(n);for(let r=0;r<n;++r)s[r]=e+r*i;return s}const kg={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,i)=>e==null?!1:String(e).endsWith(t,i),match:(e,t,i)=>{const n=e==null?e:String(e).match(t);return i==null||n==null?n:typeof i=="number"?n[i]:n.groups?n.groups[i]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,i)=>e==null?e:String(e).padEnd(t,i),padstart:(e,t,i)=>e==null?e:String(e).padStart(t,i),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,i)=>e==null?e:String(e).replace(t,String(i)),substring:(e,t,i)=>e==null?e:String(e).substring(t,i),split:(e,t,i)=>e==null?[]:String(e).split(t,i),startswith:(e,t,i)=>e==null?!1:String(e).startsWith(t,i),trim:e=>e==null?e:String(e).trim()},Ss={bin:lg,equal:El,recode:Tg,sequence:Cg,...ug,...vg,...xg,...Ig,...Eg,...kg};function Dr(e){return typeof e=="bigint"}function Ye(e){return e===void 0?e+"":Dr(e)?e+"n":JSON.stringify(e)}function U(e,t=[],i=[]){return new Og(e,Ht(t),Ht(i))}let Og=class{constructor(t,i,n){this.name=t,this.fields=i,this.params=n}toString(){const t=[...this.fields.map(i=>`d[${Ye(i)}]`),...this.params.map(Ye)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const lp=e=>U("any",e),hp=()=>U("count"),fp=e=>U("array_agg",e),dp=e=>U("array_agg_distinct",e),pp=(e,t)=>U("map_agg",[e,t]),mp=(e,t)=>U("object_agg",[e,t]),yp=(e,t)=>U("entries_agg",[e,t]),II={...Ss,row_object:(...e)=>U("row_object",null,e.flat()),count:hp,any:lp,array_agg:fp,array_agg_distinct:dp,object_agg:mp,map_agg:pp,entries_agg:yp,valid:e=>U("valid",e),invalid:e=>U("invalid",e),distinct:e=>U("distinct",e),mode:e=>U("mode",e),sum:e=>U("sum",e),product:e=>U("product",e),mean:e=>U("mean",e),average:e=>U("average",e),variance:e=>U("variance",e),variancep:e=>U("variancep",e),stdev:e=>U("stdev",e),stdevp:e=>U("stdevp",e),min:e=>U("min",e),max:e=>U("max",e),quantile:(e,t)=>U("quantile",e,t),median:e=>U("median",e),covariance:(e,t)=>U("covariance",[e,t]),covariancep:(e,t)=>U("covariancep",[e,t]),corr:(e,t)=>U("corr",[e,t]),bins:(e,t,i,n)=>U("bins",e,[t,i,n]),row_number:()=>U("row_number"),rank:()=>U("rank"),avg_rank:()=>U("avg_rank"),dense_rank:()=>U("dense_rank"),percent_rank:()=>U("percent_rank"),cume_dist:()=>U("cume_dist"),ntile:e=>U("ntile",null,e),lag:(e,t,i)=>U("lag",e,[t,i]),lead:(e,t,i)=>U("lead",e,[t,i]),first_value:e=>U("first_value",e),last_value:e=>U("last_value",e),nth_value:(e,t)=>U("nth_value",e,t),fill_down:(e,t)=>U("fill_down",e,t),fill_up:(e,t)=>U("fill_up",e,t)};function Bg(e,t){e=Pa(e)?e:new Set(e);let i=t,n=0;for(;e.has(i);)i=t+ ++n;return i}function Ng(e,t){if(!e||!t)return e;const{keys:i,rows:n,size:s}=e,r=new Int32Array(s);t.scan(l=>r[i[l]]=1);const a=r.reduce((l,p)=>l+p,0);if(a===s)return e;const o=Array(a);let c=0;for(let l=0;l<s;++l)r[l]&&(o[r[l]=c++]=n[l]);const u=new Uint32Array(i.length);return t.scan(l=>u[l]=r[i[l]]),{...e,keys:u,rows:o,size:c}}function Fg(e,t,i,n){const{keys:s,rows:r,size:a}=e;let o=r,c=a,u=null;if(i){u=new Int32Array(a),t(g=>u[s[g]]=1);const y=u.reduce((g,_)=>g+_,0);if(y!==a){o=Array(y),c=0;for(let g=0;g<a;++g)u[g]&&(o[u[g]=c++]=r[g])}}let l=-1;const p=new Uint32Array(n);return t(c!==a?y=>p[++l]=u[s[y]]:y=>p[++l]=s[y]),{...e,keys:p,rows:o,size:c}}function Lg(e,t,i,n){const s=n==="map"||n===!0?pp:n==="entries"?yp:n==="object"?mp:j('groups option must be "map", "entries", or "object".'),{names:r}=e.groups(),a=Bg(e.columnNames(),"_");let o=e.select().reify(t).create({data:{[a]:i}}).rollup({[a]:fp(a)});for(let c=r.length;--c>=0;)o=o.groupby(r.slice(0,c)).rollup({[a]:s(r[c],a)});return o.get(a)}const Dg="ArrayPattern",Mg="ArrowFunctionExpression",Rg="FunctionExpression",Bi="Identifier",qs="Literal",gp="MemberExpression",Pg="ObjectExpression",_p="ObjectPattern",bp="Property",Kr="Column",Vg="Constant",Ug="Dictionary",$g="Function",jg="Parameter",vp="Op",dt=(e,t)=>{const i=zg[e.type];return i?i(e,t):j(`Unsupported expression construct: ${e.type}`)},Du=(e,t)=>"("+dt(e.left,t)+" "+e.operator+" "+dt(e.right,t)+")",Mu=(e,t)=>"("+Me(e.params,t)+")=>"+dt(e.body,t),nd=(e,t)=>dt(e.callee,t)+"("+Me(e.arguments,t)+")",Me=(e,t,i=",")=>e.map(n=>dt(n,t)).join(i),wp=e=>e.computed?`[${Ye(e.name)}]`:`.${e.name}`,sd=(e,t,i)=>{const n=e.table||"";return`data${n}${wp(e)}.${i}(${t.index}${n})`},zg={Constant:e=>e.raw,Column:(e,t)=>sd(e,t,"get"),Dictionary:(e,t)=>sd(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${wp(e)}`,Op:(e,t)=>`op(${Ye(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:i,expressions:n}=e,s=n.length;let r=i[0].value.raw;for(let a=0;a<s;)r+="${"+dt(n[a],t)+"}"+i[++a].value.raw;return"`"+r+"`"},MemberExpression:(e,t)=>{const i=!e.computed,n=dt(e.object,t),s=dt(e.property,t);return n+(i?"."+s:"["+s+"]")},CallExpression:nd,NewExpression:(e,t)=>"new "+nd(e,t),ArrayExpression:(e,t)=>"["+Me(e.elements,t)+"]",AssignmentExpression:Du,BinaryExpression:Du,LogicalExpression:Du,UnaryExpression:(e,t)=>"("+e.operator+dt(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+dt(e.test,t)+"?"+dt(e.consequent,t)+":"+dt(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Me(e.properties,t)+"})",Property:(e,t)=>{const i=dt(e.key,t);return(e.computed?`[${i}]`:i)+":"+dt(e.value,t)},ArrowFunctionExpression:Mu,FunctionExpression:Mu,FunctionDeclaration:Mu,ArrayPattern:(e,t)=>"["+Me(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Me(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Me(e.declarations,t,","),VariableDeclarator:(e,t)=>dt(e.id,t)+"="+dt(e.init,t),SpreadElement:(e,t)=>"..."+dt(e.argument,t),BlockStatement:(e,t)=>"{"+Me(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>dt(e.expression,t),IfStatement:(e,t)=>"if ("+dt(e.test,t)+")"+dt(e.consequent,t)+(e.alternate?" else "+dt(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+dt(e.discriminant,t)+") {"+Me(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+dt(e.test,t):"default")+": "+Me(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+dt(e.argument,t),Program:(e,t)=>dt(e.body[0],t)};function Ha(e,t={index:"row"}){return dt(e,t)}function Wg(e,t,i=15,n=!0,s=0,r){const o=Math.LN10;if(r==null){const c=Math.ceil(Math.log(i)/o),u=t-e||Math.abs(e)||1,l=[5,2];for(r=Math.max(s,Math.pow(10,Math.round(Math.log(u)/o)-c));Math.ceil(u/r)>i;)r*=10;const p=l.length;for(let d=0;d<p;++d){const y=r/l[d];y>=s&&u/y<=i&&(r=y)}}if(n){let c=Math.log(r);const u=c>=0?0:~~(-c/o)+1,l=Math.pow(10,-u-1);c=Math.floor(e/r+l)*r,e=e<c?c-r:c,t=Math.ceil(t/r)*r}return[e,t===e?e+r:t,r]}function Bs(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:li(e)?+e:st(e)||Gr(e)?`[${e.map(Bs)}]`:qa(e)?e+"":qg(e)}function qg(e){let t="{",i=-1;for(const n in e)++i>0&&(t+=","),t+=`"${n}":${Bs(e[n])}`;return t+="}",t}function Ya(e,t){const i=e.length;return i===1?(n,s)=>Bs(e[0](n,s)):(n,s)=>{let r="";for(let a=0;a<i;++a){a>0&&(r+="|");const o=e[a](n,s);if(t&&(o==null||o!==o))return null;r+=Bs(o)}return r}}function Hg(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const i=Bs(t),n=e.get(i);n?++n.n:e.set(i,{v:t,n:1})},decrement(t){const i=Bs(t),n=e.get(i);n.n===1?e.delete(i):--n.n},forEach(t){e.forEach(({v:i,n})=>t(i,n))}}}function ni(){}function Yg(e,t=0,i=e.length){let n=e[t++];for(let s=t;s<i;++s)n*=e[s];return n}function St(e){return e.init=e.init||ni,e.add=e.add||ni,e.rem=e.rem||ni,e}function rd(e,t){return e.product_v=!1,e.product=t}const xp={count:{create:()=>St({value:e=>e.count}),param:[]},array_agg:{create:()=>St({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>St({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>St({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>St({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>St({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:nt}),param:[1]},valid:{create:()=>St({value:e=>e.valid}),param:[1]},invalid:{create:()=>St({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=Hg(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>St({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>St({value:e=>{let t=nt,i=0;return e.distinct.forEach((n,s)=>{s>i&&(i=s,t=n)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:nt,add:(e,t)=>Dr(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>rd(e,1),value:e=>e.valid?e.product_v?rd(e,Yg(e.list.values())):e.product:void 0,add:(e,t)=>Dr(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:nt,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>St({value:e=>e.valid?e.mean:nt}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):nt,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>St({value:e=>e.valid>1?e.dev/e.valid:nt}),param:[1],req:["variance"]},stdev:{create:()=>St({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):nt}),param:[1],req:["variance"]},stdevp:{create:()=>St({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):nt}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=nt,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===nt)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=nt,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===nt)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>St({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>St({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):nt,add:(e,t,i)=>{const n=t-e.mean_x,s=i-e.mean_y;e.mean_x+=n/e.valid,e.mean_y+=s/e.valid;const r=i-e.mean_y;e.dev_x+=n*(t-e.mean_x),e.dev_y+=s*r,e.cov+=n*r},rem:(e,t,i)=>{const n=t-e.mean_x,s=i-e.mean_y;e.mean_x-=e.valid?n/e.valid:e.mean_x,e.mean_y-=e.valid?s/e.valid:e.mean_y;const r=i-e.mean_y;e.dev_x-=n*(t-e.mean_x),e.dev_y-=s*r,e.cov-=n*r}}),param:[2]},covariancep:{create:()=>St({value:e=>e.valid>1?e.cov/e.valid:nt}),param:[2],req:["covariance"]},corr:{create:()=>St({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):nt}),param:[2],req:["covariance"]},bins:{create:(e,t,i,n)=>St({value:s=>Wg(s.min,s.max,e,t,i,n)}),param:[1,4],req:["min","max"]}},ad={create(){let e;return{init:()=>e=1,value:t=>{const i=t.index;return i&&!t.peer(i)?e=i+1:e}}},param:[]},od={create(){let e;return{init:()=>e=0,value:t=>{const{index:i,peer:n,size:s}=t;let r=i;if(e<r){for(;r+1<s&&n(r+1);)++r;e=r}return(1+e)/s}}},param:[]},Sp={row_number:{create(){return{init:ni,value:e=>e.index+1}},param:[]},rank:ad,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:i=>{const n=i.index;if(n>=e){for(t=e=n+1;i.peer(e);t+=++e);t/=e-n}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const i=t.index;return i&&!t.peer(i)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=ad.create();return{init:e,value:i=>(t(i)-1)/(i.size-1)}},param:[]},cume_dist:od,ntile:{create(e){e=+e,e>0||j("ntile num must be greater than zero.");const{init:t,value:i}=od.create();return{init:t,value:n=>Math.ceil(e*i(n))}},param:[0,1]},lag:{create(e,t=nt){return e=+e||1,{init:ni,value:(i,n)=>{const s=i.index-e;return s>=0?i.value(s,n):t}}},param:[1,2]},lead:{create(e,t=nt){return e=+e||1,{init:ni,value:(i,n)=>{const s=i.index+e;return s<i.size?i.value(s,n):t}}},param:[1,2]},first_value:{create(){return{init:ni,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:ni,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||j("nth_value nth must be greater than zero."),{init:ni,value:(t,i)=>{const n=t.i0+(e-1);return n<t.i1?t.value(n,i):nt}}},param:[1,1]},fill_down:{create(e=nt){let t;return{init:()=>t=e,value:(i,n)=>{const s=i.value(i.index,n);return Ce(s)?t=s:t}}},param:[1,1]},fill_up:{create(e=nt){let t,i;return{init:()=>(t=e,i=-1),value:(n,s)=>n.index<=i?t:(i=Gg(n,s,n.index))>=0?t=n.value(i,s):(i=n.size,t=e)}},param:[1,1]}};function Gg(e,t,i){for(const n=e.size;i<n;++i)if(Ce(e.value(i,t)))return i;return-1}function Cl(e){return Oe(xp,e)}function kl(e){return Oe(Sp,e)}function Ip(e){return Oe(Ss,e)||e==="row_object"}function Ap(e){return Cl(e)&&xp[e]}function Ep(e){return kl(e)&&Sp[e]}function Er(e,t,i){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,i)}const Ol={escape:(e,t,i)=>Er(e,t,i),expr:(e,t)=>Er(`(row,data,op)=>${e}`,Ss,t),expr2:(e,t)=>Er(`(row0,data0,row,data)=>${e}`,Ss,t),join:(e,t)=>Er(`(row1,data1,row2,data2)=>${e}`,Ss,t),param:(e,t)=>Er(e,Ss,t)},Kg={"==":1,"!=":1,"===":1,"!==":1};function Tp(e,t,i=0,n,s){if(e.type=Kr,e.name=t,e.table=i,s&&n&&pt(n.keyFor)){const r=Kg[s.operator]?s.left===e?s.right:s.left:s.callee&&s.callee.name==="equal"?s.arguments[s.arguments[0]===e?1:0]:null;r&&r.type===qs&&Jg(s,e,r,n.keyFor(r.value))}return e}function Jg(e,t,i,n){return n<0?(e.type=qs,e.value=!1,e.raw="false"):(t.type=Ug,i.value=n,i.raw=n+""),!0}function _o(e){return st(e)?e:Tl(e)?e.entries():e?Object.entries(e):[]}const Cp="row_object";function kp(e,t){e.type=Pg;const i=e.properties=[];for(const n of _o(t)){const[s,r]=st(n)?n:[n,n];i.push({type:bp,key:{type:qs,raw:Ye(r)},value:Tp({computed:!0},s)})}return e}function Op(e){return Ha(kp({},e))}function Bp(e){return Ol.expr(Op(e))}function si(e,t,i,n){function s(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function o(l){try{u(n.next(l))}catch(p){a(p)}}function c(l){try{u(n.throw(l))}catch(p){a(p)}}function u(l){l.done?r(l.value):s(l.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function cd(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function Cn(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),s,r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(d){n[d]&&(s[d]=function(y){return new Promise(function(g,_){r.push([d,y,g,_])>1||o(d,y)})})}function o(d,y){try{c(n[d](y))}catch(g){p(r[0][3],g)}}function c(d){d.value instanceof Q?Promise.resolve(d.value.v).then(u,l):p(r[0][2],d)}function u(d){o("next",d)}function l(d){o("throw",d)}function p(d,y){d(y),r.shift(),r.length&&o(r[0][0],r[0][1])}}function Ru(e){var t,i;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,r){t[s]=e[s]?function(a){return(i=!i)?{value:Q(e[s](a)),done:!1}:r?r(a):a}:r}}function Nr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof cd=="function"?cd(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=e[r]&&function(a){return new Promise(function(o,c){a=e[r](a),s(o,c,a.done,a.value)})}}function s(r,a,o,c){Promise.resolve(c).then(function(u){r({value:u,done:o})},a)}}const Qg=new TextDecoder("utf-8"),il=e=>Qg.decode(e),Zg=new TextEncoder,Bl=e=>Zg.encode(e),[AI,Np]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[Fp,EI]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Nl,TI]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),Xg=e=>typeof e=="boolean",jt=e=>typeof e=="function",$i=e=>e!=null&&Object(e)===e,bo=e=>$i(e)&&jt(e.then),Fl=e=>$i(e)&&jt(e[Symbol.iterator]),vo=e=>$i(e)&&jt(e[Symbol.asyncIterator]),t_=e=>$i(e)&&"done"in e&&"value"in e,Lp=e=>"_getDOMStream"in e&&"_getNodeStream"in e,e_=e=>$i(e)&&jt(e.abort)&&jt(e.getWriter)&&!Lp(e),i_=e=>$i(e)&&jt(e.end)&&jt(e.write)&&Xg(e.writable)&&!Lp(e),n_=e=>$i(e)&&jt(e.clear)&&jt(e.bytes)&&jt(e.position)&&jt(e.setPosition)&&jt(e.capacity)&&jt(e.getBufferIdentifier)&&jt(e.createLong),Ll=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function s_(e){const t=e[0]?[e[0]]:[];let i,n,s,r;for(let a,o,c=0,u=0,l=e.length;++c<l;){if(a=t[u],o=e[c],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset){o&&(t[++u]=o);continue}if({byteOffset:i,byteLength:s}=a,{byteOffset:n,byteLength:r}=o,i+s<n||n+r<i){o&&(t[++u]=o);continue}t[u]=new Uint8Array(a.buffer,i,n-i+r)}return t}function Ga(e,t,i=0,n=t.byteLength){const s=e.byteLength,r=new Uint8Array(e.buffer,e.byteOffset,s),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,s));return r.set(a,i),e}function Ge(e,t){const i=s_(e),n=i.reduce((l,p)=>l+p.byteLength,0);let s,r,a,o=0,c=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,n);for(const l=i.length;++c<l;){if(s=i[c],r=s.subarray(0,Math.min(s.length,u-o)),u<=o+r.length){r.length<s.length?i[c]=s.subarray(r.length):r.length===s.length&&c++,a?Ga(a,r,o):a=r;break}Ga(a||(a=new Uint8Array(u)),r,o),o+=r.length}return[a||new Uint8Array(0),i.slice(c),n-(a?a.byteLength:0)]}function Bt(e,t){let i=t_(t)?t.value:t;return i instanceof e?e===Uint8Array?new e(i.buffer,i.byteOffset,i.byteLength):i:i?(typeof i=="string"&&(i=Bl(i)),i instanceof ArrayBuffer?new e(i):i instanceof Ll?new e(i):n_(i)?Bt(e,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new e(0):new e(i.buffer,i.byteOffset,i.byteLength/e.BYTES_PER_ELEMENT):e.from(i)):new e(0)}const Tr=e=>Bt(Int32Array,e),ut=e=>Bt(Uint8Array,e),nl=e=>(e.next(),e);function*r_(e,t){const i=function*(s){yield s},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Ll?i(t):Fl(t)?t:i(t);return yield*nl(function*(s){let r=null;do r=s.next(yield Bt(e,r));while(!r.done)}(n[Symbol.iterator]())),new e}const a_=e=>r_(Uint8Array,e);function Dp(e,t){return Cn(this,arguments,function*(){if(bo(t))return yield Q(yield Q(yield*Ru(Nr(Dp(e,yield Q(t))))));const n=function(a){return Cn(this,arguments,function*(){yield yield Q(yield Q(a))})},s=function(a){return Cn(this,arguments,function*(){yield Q(yield*Ru(Nr(nl(function*(o){let c=null;do c=o.next(yield c==null?void 0:c.value);while(!c.done)}(a[Symbol.iterator]())))))})},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Ll?n(t):Fl(t)?s(t):vo(t)?t:n(t);return yield Q(yield*Ru(Nr(nl(function(a){return Cn(this,arguments,function*(){let o=null;do o=yield Q(a.next(yield yield Q(Bt(e,o))));while(!o.done)})}(r[Symbol.asyncIterator]()))))),yield Q(new e)})}const o_=e=>Dp(Uint8Array,e);function Dl(e,t,i){if(e!==0){i=i.slice(0,t+1);for(let n=-1;++n<=t;)i[n]+=e}return i}function c_(e,t){let i=0;const n=e.length;if(n!==t.length)return!1;if(n>0)do if(e[i]!==t[i])return!1;while(++i<n);return!0}const ud={fromIterable(e){return Oa(u_(e))},fromAsyncIterable(e){return Oa(l_(e))},fromDOMStream(e){return Oa(h_(e))},fromNodeStream(e){return Oa(d_(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Oa=e=>(e.next(),e);function*u_(e){let t,i=!1,n=[],s,r,a,o=0;function c(){return r==="peek"?Ge(n,a)[0]:([s,n,o]=Ge(n,a),s)}({cmd:r,size:a}=yield null);const u=a_(e)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(a-o)?u.next():u.next(a-o),!t&&s.byteLength>0&&(n.push(s),o+=s.byteLength),t||a<=o)do({cmd:r,size:a}=yield c());while(a<o);while(!t)}catch(l){(i=!0)&&typeof u.throw=="function"&&u.throw(l)}finally{i===!1&&typeof u.return=="function"&&u.return(null)}return null}function l_(e){return Cn(this,arguments,function*(){let i,n=!1,s=[],r,a,o,c=0;function u(){return a==="peek"?Ge(s,o)[0]:([r,s,c]=Ge(s,o),r)}({cmd:a,size:o}=yield yield Q(null));const l=o_(e)[Symbol.asyncIterator]();try{do if({done:i,value:r}=Number.isNaN(o-c)?yield Q(l.next()):yield Q(l.next(o-c)),!i&&r.byteLength>0&&(s.push(r),c+=r.byteLength),i||o<=c)do({cmd:a,size:o}=yield yield Q(u()));while(o<c);while(!i)}catch(p){(n=!0)&&typeof l.throw=="function"&&(yield Q(l.throw(p)))}finally{n===!1&&typeof l.return=="function"&&(yield Q(l.return(new Uint8Array(0))))}return yield Q(null)})}function h_(e){return Cn(this,arguments,function*(){let i=!1,n=!1,s=[],r,a,o,c=0;function u(){return a==="peek"?Ge(s,o)[0]:([r,s,c]=Ge(s,o),r)}({cmd:a,size:o}=yield yield Q(null));const l=new f_(e);try{do if({done:i,value:r}=Number.isNaN(o-c)?yield Q(l.read()):yield Q(l.read(o-c)),!i&&r.byteLength>0&&(s.push(ut(r)),c+=r.byteLength),i||o<=c)do({cmd:a,size:o}=yield yield Q(u()));while(o<c);while(!i)}catch(p){(n=!0)&&(yield Q(l.cancel(p)))}finally{n===!1?yield Q(l.cancel()):e.locked&&l.releaseLock()}return yield Q(null)})}class f_{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return si(this,void 0,void 0,function*(){const{reader:i,source:n}=this;i&&(yield i.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return si(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const i=yield this.reader.read();return!i.done&&(i.value=ut(i)),i})}}const Pu=(e,t)=>{const i=s=>n([t,s]);let n;return[t,i,new Promise(s=>(n=s)&&e.once(t,i))]};function d_(e){return Cn(this,arguments,function*(){const i=[];let n="error",s=!1,r=null,a,o,c=0,u=[],l;function p(){return a==="peek"?Ge(u,o)[0]:([l,u,c]=Ge(u,o),l)}if({cmd:a,size:o}=yield yield Q(null),e.isTTY)return yield yield Q(new Uint8Array(0)),yield Q(null);try{i[0]=Pu(e,"end"),i[1]=Pu(e,"error");do{if(i[2]=Pu(e,"readable"),[n,r]=yield Q(Promise.race(i.map(y=>y[2]))),n==="error")break;if((s=n==="end")||(Number.isFinite(o-c)?(l=ut(e.read(o-c)),l.byteLength<o-c&&(l=ut(e.read()))):l=ut(e.read()),l.byteLength>0&&(u.push(l),c+=l.byteLength)),s||o<=c)do({cmd:a,size:o}=yield yield Q(p()));while(o<c)}while(!s)}finally{yield Q(d(i,n==="error"?r:null))}return yield Q(null);function d(y,g){return l=u=null,new Promise((_,S)=>{for(const[C,H]of y)e.off(C,H);try{const C=e.destroy;C&&C.call(e,g),g=void 0}catch(C){g=C||g}finally{g!=null?S(g):_()}})}})}var ce;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(ce||(ce={}));var _e;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(_e||(_e={}));var Nt;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Nt||(Nt={}));var Ke;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Ke||(Ke={}));var Z;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Z||(Z={}));var Je;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Je||(Je={}));var Ct;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Ct||(Ct={}));var f;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(f||(f={}));var ei;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(ei||(ei={}));const p_=void 0;function Ni(e){if(e===null)return"null";if(e===p_)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Ni(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,i)=>typeof i=="bigint"?`${i}`:i)}const m_=Symbol.for("isArrowBigNum");function Ne(e,...t){return t.length===0?Object.setPrototypeOf(Bt(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Ne.prototype[m_]=!0;Ne.prototype.toJSON=function(){return`"${Mn(this)}"`};Ne.prototype.valueOf=function(){return Mp(this)};Ne.prototype.toString=function(){return Mn(this)};Ne.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Mp(this);case"string":return Mn(this);case"default":return sl(this)}return Mn(this)};function Es(...e){return Ne.apply(this,e)}function Ts(...e){return Ne.apply(this,e)}function Mr(...e){return Ne.apply(this,e)}Object.setPrototypeOf(Es.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Ts.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Mr.prototype,Object.create(Uint32Array.prototype));Object.assign(Es.prototype,Ne.prototype,{constructor:Es,signed:!0,TypedArray:Int32Array,BigIntArray:Fp});Object.assign(Ts.prototype,Ne.prototype,{constructor:Ts,signed:!1,TypedArray:Uint32Array,BigIntArray:Nl});Object.assign(Mr.prototype,Ne.prototype,{constructor:Mr,signed:!0,TypedArray:Uint32Array,BigIntArray:Nl});function Mp(e){const{buffer:t,byteOffset:i,length:n,signed:s}=e,r=new Nl(t,i,n),a=s&&r[r.length-1]&BigInt(1)<<BigInt(63);let o=BigInt(a?1:0),c=BigInt(0);if(a){for(const u of r)o+=~u*(BigInt(1)<<BigInt(32)*c++);o*=BigInt(-1)}else for(const u of r)o+=u*(BigInt(1)<<BigInt(32)*c++);return o}let Mn,sl;Np?(sl=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Vu(e),Mn=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:Vu(e)):(Mn=Vu,sl=Mn);function Vu(e){let t="";const i=new Uint32Array(2);let n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const s=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let r=-1;const a=n.length-1;do{for(i[0]=n[r=0];r<a;)n[r++]=i[1]=i[0]/10,i[0]=(i[0]-i[1]*10<<16)+n[r];n[r]=i[1]=i[0]/10,i[0]=i[0]-i[1]*10,t=`${i[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t||"0"}class Ml{static new(t,i){switch(i){case!0:return new Es(t);case!1:return new Ts(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Fp:return new Es(t)}return t.byteLength===16?new Mr(t):new Ts(t)}static signed(t){return new Es(t)}static unsigned(t){return new Ts(t)}static decimal(t){return new Mr(t)}constructor(t,i){return Ml.new(t,i)}}var Rp,Pp,Vp,Up,$p,jp,zp,Wp,qp,Hp,Yp,Gp,Kp,Jp,Qp,Zp,Xp,tm,em;class G{static isNull(t){return(t==null?void 0:t.typeId)===f.Null}static isInt(t){return(t==null?void 0:t.typeId)===f.Int}static isFloat(t){return(t==null?void 0:t.typeId)===f.Float}static isBinary(t){return(t==null?void 0:t.typeId)===f.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===f.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===f.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===f.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===f.Date}static isTime(t){return(t==null?void 0:t.typeId)===f.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===f.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===f.Interval}static isList(t){return(t==null?void 0:t.typeId)===f.List}static isStruct(t){return(t==null?void 0:t.typeId)===f.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===f.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===f.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===f.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===f.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===f.Dictionary}static isDenseUnion(t){return G.isUnion(t)&&t.mode===_e.Dense}static isSparseUnion(t){return G.isUnion(t)&&t.mode===_e.Sparse}get typeId(){return f.NONE}}Rp=Symbol.toStringTag;G[Rp]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(G.prototype);let hi=class extends G{toString(){return"Null"}get typeId(){return f.Null}};Pp=Symbol.toStringTag;hi[Pp]=(e=>e[Symbol.toStringTag]="Null")(hi.prototype);class Vt extends G{constructor(t,i){super(),this.isSigned=t,this.bitWidth=i}get typeId(){return f.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Vp=Symbol.toStringTag;Vt[Vp]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Vt.prototype);class Rl extends Vt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class Pl extends Vt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Fi extends Vt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class Vl extends Vt{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class Ul extends Vt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class $l extends Vt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class jl extends Vt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class zl extends Vt{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(Rl.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Pl.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Fi.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Vl.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Ul.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty($l.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(jl.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(zl.prototype,"ArrayType",{value:BigUint64Array});class Li extends G{constructor(t){super(),this.precision=t}get typeId(){return f.Float}get ArrayType(){switch(this.precision){case Nt.HALF:return Uint16Array;case Nt.SINGLE:return Float32Array;case Nt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Up=Symbol.toStringTag;Li[Up]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Li.prototype);class im extends Li{constructor(){super(Nt.HALF)}}class Wl extends Li{constructor(){super(Nt.SINGLE)}}class ql extends Li{constructor(){super(Nt.DOUBLE)}}Object.defineProperty(im.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Wl.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(ql.prototype,"ArrayType",{value:Float64Array});let Rr=class extends G{constructor(){super()}get typeId(){return f.Binary}toString(){return"Binary"}};$p=Symbol.toStringTag;Rr[$p]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Rr.prototype);let Ns=class extends G{constructor(){super()}get typeId(){return f.Utf8}toString(){return"Utf8"}};jp=Symbol.toStringTag;Ns[jp]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Ns.prototype);let Pr=class extends G{constructor(){super()}get typeId(){return f.Bool}toString(){return"Bool"}};zp=Symbol.toStringTag;Pr[zp]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Pr.prototype);let Ka=class extends G{constructor(t,i,n=128){super(),this.scale=t,this.precision=i,this.bitWidth=n}get typeId(){return f.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Wp=Symbol.toStringTag;Ka[Wp]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Ka.prototype);class Fs extends G{constructor(t){super(),this.unit=t}get typeId(){return f.Date}toString(){return`Date${(this.unit+1)*32}<${Ke[this.unit]}>`}}qp=Symbol.toStringTag;Fs[qp]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Fs.prototype);class y_ extends Fs{constructor(){super(Ke.DAY)}}class g_ extends Fs{constructor(){super(Ke.MILLISECOND)}}class fi extends G{constructor(t,i){super(),this.unit=t,this.bitWidth=i}get typeId(){return f.Time}toString(){return`Time${this.bitWidth}<${Z[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Hp=Symbol.toStringTag;fi[Hp]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(fi.prototype);class __ extends fi{constructor(){super(Z.SECOND,32)}}class b_ extends fi{constructor(){super(Z.MILLISECOND,32)}}class v_ extends fi{constructor(){super(Z.MICROSECOND,64)}}class w_ extends fi{constructor(){super(Z.NANOSECOND,64)}}class Ja extends G{constructor(t,i){super(),this.unit=t,this.timezone=i}get typeId(){return f.Timestamp}toString(){return`Timestamp<${Z[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Yp=Symbol.toStringTag;Ja[Yp]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(Ja.prototype);class Ls extends G{constructor(t){super(),this.unit=t}get typeId(){return f.Interval}toString(){return`Interval<${Je[this.unit]}>`}}Gp=Symbol.toStringTag;Ls[Gp]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Ls.prototype);class x_ extends Ls{constructor(){super(Je.DAY_TIME)}}class S_ extends Ls{constructor(){super(Je.YEAR_MONTH)}}let Ds=class extends G{constructor(t){super(),this.children=[t]}get typeId(){return f.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Kp=Symbol.toStringTag;Ds[Kp]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Ds.prototype);class Mt extends G{constructor(t){super(),this.children=t}get typeId(){return f.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Jp=Symbol.toStringTag;Mt[Jp]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Mt.prototype);class Vr extends G{constructor(t,i,n){super(),this.mode=t,this.children=n,this.typeIds=i=Int32Array.from(i),this.typeIdToChildIndex=i.reduce((s,r,a)=>(s[r]=a)&&s||s,Object.create(null))}get typeId(){return f.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Qp=Symbol.toStringTag;Vr[Qp]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Vr.prototype);let Qa=class extends G{constructor(t){super(),this.byteWidth=t}get typeId(){return f.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Zp=Symbol.toStringTag;Qa[Zp]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Qa.prototype);let Ms=class extends G{constructor(t,i){super(),this.listSize=t,this.children=[i]}get typeId(){return f.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Xp=Symbol.toStringTag;Ms[Xp]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Ms.prototype);class Ur extends G{constructor(t,i=!1){super(),this.children=[t],this.keysSorted=i}get typeId(){return f.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}tm=Symbol.toStringTag;Ur[tm]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Ur.prototype);const I_=(e=>()=>++e)(-1);class Di extends G{constructor(t,i,n,s){super(),this.indices=i,this.dictionary=t,this.isOrdered=s||!1,this.id=n==null?I_():typeof n=="number"?n:n.low}get typeId(){return f.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}em=Symbol.toStringTag;Di[em]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Di.prototype);function Ve(e){const t=e;switch(e.typeId){case f.Decimal:return e.bitWidth/32;case f.Timestamp:return 2;case f.Date:return 1+t.unit;case f.Interval:return 1+t.unit;case f.FixedSizeList:return t.listSize;case f.FixedSizeBinary:return t.byteWidth;default:return 1}}class X{visitMany(t,...i){return t.map((n,s)=>this.visit(n,...i.map(r=>r[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,i=!0){return A_(this,t,i)}getVisitFnByTypeId(t,i=!0){return bs(this,t,i)}visitNull(t,...i){return null}visitBool(t,...i){return null}visitInt(t,...i){return null}visitFloat(t,...i){return null}visitUtf8(t,...i){return null}visitBinary(t,...i){return null}visitFixedSizeBinary(t,...i){return null}visitDate(t,...i){return null}visitTimestamp(t,...i){return null}visitTime(t,...i){return null}visitDecimal(t,...i){return null}visitList(t,...i){return null}visitStruct(t,...i){return null}visitUnion(t,...i){return null}visitDictionary(t,...i){return null}visitInterval(t,...i){return null}visitFixedSizeList(t,...i){return null}visitMap(t,...i){return null}}function A_(e,t,i=!0){return typeof t=="number"?bs(e,t,i):typeof t=="string"&&t in f?bs(e,f[t],i):t&&t instanceof G?bs(e,ld(t),i):t!=null&&t.type&&t.type instanceof G?bs(e,ld(t.type),i):bs(e,f.NONE,i)}function bs(e,t,i=!0){let n=null;switch(t){case f.Null:n=e.visitNull;break;case f.Bool:n=e.visitBool;break;case f.Int:n=e.visitInt;break;case f.Int8:n=e.visitInt8||e.visitInt;break;case f.Int16:n=e.visitInt16||e.visitInt;break;case f.Int32:n=e.visitInt32||e.visitInt;break;case f.Int64:n=e.visitInt64||e.visitInt;break;case f.Uint8:n=e.visitUint8||e.visitInt;break;case f.Uint16:n=e.visitUint16||e.visitInt;break;case f.Uint32:n=e.visitUint32||e.visitInt;break;case f.Uint64:n=e.visitUint64||e.visitInt;break;case f.Float:n=e.visitFloat;break;case f.Float16:n=e.visitFloat16||e.visitFloat;break;case f.Float32:n=e.visitFloat32||e.visitFloat;break;case f.Float64:n=e.visitFloat64||e.visitFloat;break;case f.Utf8:n=e.visitUtf8;break;case f.Binary:n=e.visitBinary;break;case f.FixedSizeBinary:n=e.visitFixedSizeBinary;break;case f.Date:n=e.visitDate;break;case f.DateDay:n=e.visitDateDay||e.visitDate;break;case f.DateMillisecond:n=e.visitDateMillisecond||e.visitDate;break;case f.Timestamp:n=e.visitTimestamp;break;case f.TimestampSecond:n=e.visitTimestampSecond||e.visitTimestamp;break;case f.TimestampMillisecond:n=e.visitTimestampMillisecond||e.visitTimestamp;break;case f.TimestampMicrosecond:n=e.visitTimestampMicrosecond||e.visitTimestamp;break;case f.TimestampNanosecond:n=e.visitTimestampNanosecond||e.visitTimestamp;break;case f.Time:n=e.visitTime;break;case f.TimeSecond:n=e.visitTimeSecond||e.visitTime;break;case f.TimeMillisecond:n=e.visitTimeMillisecond||e.visitTime;break;case f.TimeMicrosecond:n=e.visitTimeMicrosecond||e.visitTime;break;case f.TimeNanosecond:n=e.visitTimeNanosecond||e.visitTime;break;case f.Decimal:n=e.visitDecimal;break;case f.List:n=e.visitList;break;case f.Struct:n=e.visitStruct;break;case f.Union:n=e.visitUnion;break;case f.DenseUnion:n=e.visitDenseUnion||e.visitUnion;break;case f.SparseUnion:n=e.visitSparseUnion||e.visitUnion;break;case f.Dictionary:n=e.visitDictionary;break;case f.Interval:n=e.visitInterval;break;case f.IntervalDayTime:n=e.visitIntervalDayTime||e.visitInterval;break;case f.IntervalYearMonth:n=e.visitIntervalYearMonth||e.visitInterval;break;case f.FixedSizeList:n=e.visitFixedSizeList;break;case f.Map:n=e.visitMap;break}if(typeof n=="function")return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${f[t]}'`)}function ld(e){switch(e.typeId){case f.Null:return f.Null;case f.Int:{const{bitWidth:t,isSigned:i}=e;switch(t){case 8:return i?f.Int8:f.Uint8;case 16:return i?f.Int16:f.Uint16;case 32:return i?f.Int32:f.Uint32;case 64:return i?f.Int64:f.Uint64}return f.Int}case f.Float:switch(e.precision){case Nt.HALF:return f.Float16;case Nt.SINGLE:return f.Float32;case Nt.DOUBLE:return f.Float64}return f.Float;case f.Binary:return f.Binary;case f.Utf8:return f.Utf8;case f.Bool:return f.Bool;case f.Decimal:return f.Decimal;case f.Time:switch(e.unit){case Z.SECOND:return f.TimeSecond;case Z.MILLISECOND:return f.TimeMillisecond;case Z.MICROSECOND:return f.TimeMicrosecond;case Z.NANOSECOND:return f.TimeNanosecond}return f.Time;case f.Timestamp:switch(e.unit){case Z.SECOND:return f.TimestampSecond;case Z.MILLISECOND:return f.TimestampMillisecond;case Z.MICROSECOND:return f.TimestampMicrosecond;case Z.NANOSECOND:return f.TimestampNanosecond}return f.Timestamp;case f.Date:switch(e.unit){case Ke.DAY:return f.DateDay;case Ke.MILLISECOND:return f.DateMillisecond}return f.Date;case f.Interval:switch(e.unit){case Je.DAY_TIME:return f.IntervalDayTime;case Je.YEAR_MONTH:return f.IntervalYearMonth}return f.Interval;case f.Map:return f.Map;case f.List:return f.List;case f.Struct:return f.Struct;case f.Union:switch(e.mode){case _e.Dense:return f.DenseUnion;case _e.Sparse:return f.SparseUnion}return f.Union;case f.FixedSizeBinary:return f.FixedSizeBinary;case f.FixedSizeList:return f.FixedSizeList;case f.Dictionary:return f.Dictionary}throw new Error(`Unrecognized type '${f[e.typeId]}'`)}X.prototype.visitInt8=null;X.prototype.visitInt16=null;X.prototype.visitInt32=null;X.prototype.visitInt64=null;X.prototype.visitUint8=null;X.prototype.visitUint16=null;X.prototype.visitUint32=null;X.prototype.visitUint64=null;X.prototype.visitFloat16=null;X.prototype.visitFloat32=null;X.prototype.visitFloat64=null;X.prototype.visitDateDay=null;X.prototype.visitDateMillisecond=null;X.prototype.visitTimestampSecond=null;X.prototype.visitTimestampMillisecond=null;X.prototype.visitTimestampMicrosecond=null;X.prototype.visitTimestampNanosecond=null;X.prototype.visitTimeSecond=null;X.prototype.visitTimeMillisecond=null;X.prototype.visitTimeMicrosecond=null;X.prototype.visitTimeNanosecond=null;X.prototype.visitDenseUnion=null;X.prototype.visitSparseUnion=null;X.prototype.visitIntervalDayTime=null;X.prototype.visitIntervalYearMonth=null;const nm=new Float64Array(1),_s=new Uint32Array(nm.buffer);function sm(e){const t=(e&31744)>>10,i=(e&1023)/1024,n=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,t-15)*(1+i)}function rm(e){if(e!==e)return 32256;nm[0]=e;const t=(_s[1]&2147483648)>>16&65535;let i=_s[1]&2146435072,n=0;return i>=1089470464?_s[0]>0?i=31744:(i=(i&2080374784)>>16,n=(_s[1]&1048575)>>10):i<=1056964608?(n=1048576+(_s[1]&1048575),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=(_s[1]&1048575)+512>>10),t|i|n&65535}class R extends X{}function $(e){return(t,i,n)=>{if(t.setValid(i,n!=null))return e(t,i,n)}}const E_=(e,t,i)=>{e[t]=Math.trunc(i/864e5)},Hl=(e,t,i)=>{e[t]=Math.trunc(i%4294967296),e[t+1]=Math.trunc(i/4294967296)},T_=(e,t,i)=>{e[t]=Math.trunc(i*1e3%4294967296),e[t+1]=Math.trunc(i*1e3/4294967296)},C_=(e,t,i)=>{e[t]=Math.trunc(i*1e6%4294967296),e[t+1]=Math.trunc(i*1e6/4294967296)},am=(e,t,i,n)=>{if(i+1<t.length){const{[i]:s,[i+1]:r}=t;e.set(n.subarray(0,r-s),s)}},k_=({offset:e,values:t},i,n)=>{const s=e+i;n?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},mi=({values:e},t,i)=>{e[t]=i},Yl=({values:e},t,i)=>{e[t]=i},om=({values:e},t,i)=>{e[t]=rm(i)},O_=(e,t,i)=>{switch(e.type.precision){case Nt.HALF:return om(e,t,i);case Nt.SINGLE:case Nt.DOUBLE:return Yl(e,t,i)}},Gl=({values:e},t,i)=>{E_(e,t,i.valueOf())},Kl=({values:e},t,i)=>{Hl(e,t*2,i.valueOf())},cm=({stride:e,values:t},i,n)=>{t.set(n.subarray(0,e),e*i)},B_=({values:e,valueOffsets:t},i,n)=>am(e,t,i,n),N_=({values:e,valueOffsets:t},i,n)=>{am(e,t,i,Bl(n))},um=(e,t,i)=>{e.type.unit===Ke.DAY?Gl(e,t,i):Kl(e,t,i)},Jl=({values:e},t,i)=>Hl(e,t*2,i/1e3),Ql=({values:e},t,i)=>Hl(e,t*2,i),Zl=({values:e},t,i)=>T_(e,t*2,i),Xl=({values:e},t,i)=>C_(e,t*2,i),lm=(e,t,i)=>{switch(e.type.unit){case Z.SECOND:return Jl(e,t,i);case Z.MILLISECOND:return Ql(e,t,i);case Z.MICROSECOND:return Zl(e,t,i);case Z.NANOSECOND:return Xl(e,t,i)}},th=({values:e},t,i)=>{e[t]=i},eh=({values:e},t,i)=>{e[t]=i},ih=({values:e},t,i)=>{e[t]=i},nh=({values:e},t,i)=>{e[t]=i},hm=(e,t,i)=>{switch(e.type.unit){case Z.SECOND:return th(e,t,i);case Z.MILLISECOND:return eh(e,t,i);case Z.MICROSECOND:return ih(e,t,i);case Z.NANOSECOND:return nh(e,t,i)}},fm=({values:e,stride:t},i,n)=>{e.set(n.subarray(0,t),t*i)},F_=(e,t,i)=>{const n=e.children[0],s=e.valueOffsets,r=be.getVisitFn(n);if(Array.isArray(i))for(let a=-1,o=s[t],c=s[t+1];o<c;)r(n,o++,i[++a]);else for(let a=-1,o=s[t],c=s[t+1];o<c;)r(n,o++,i.get(++a))},L_=(e,t,i)=>{const n=e.children[0],{valueOffsets:s}=e,r=be.getVisitFn(n);let{[t]:a,[t+1]:o}=s;const c=i instanceof Map?i.entries():Object.entries(i);for(const u of c)if(r(n,a,u),++a>=o)break},D_=(e,t)=>(i,n,s,r)=>n&&i(n,e,t[r]),M_=(e,t)=>(i,n,s,r)=>n&&i(n,e,t.get(r)),R_=(e,t)=>(i,n,s,r)=>n&&i(n,e,t.get(s.name)),P_=(e,t)=>(i,n,s,r)=>n&&i(n,e,t[s.name]),V_=(e,t,i)=>{const n=e.type.children.map(r=>be.getVisitFn(r.type)),s=i instanceof Map?R_(t,i):i instanceof rt?M_(t,i):Array.isArray(i)?D_(t,i):P_(t,i);e.type.children.forEach((r,a)=>s(n[a],e.children[a],r,a))},U_=(e,t,i)=>{e.type.mode===_e.Dense?dm(e,t,i):pm(e,t,i)},dm=(e,t,i)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[n];be.visit(s,e.valueOffsets[t],i)},pm=(e,t,i)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[n];be.visit(s,t,i)},$_=(e,t,i)=>{var n;(n=e.dictionary)===null||n===void 0||n.set(e.values[t],i)},mm=(e,t,i)=>{e.type.unit===Je.DAY_TIME?sh(e,t,i):rh(e,t,i)},sh=({values:e},t,i)=>{e.set(i.subarray(0,2),2*t)},rh=({values:e},t,i)=>{e[t]=i[0]*12+i[1]%12},j_=(e,t,i)=>{const{stride:n}=e,s=e.children[0],r=be.getVisitFn(s);if(Array.isArray(i))for(let a=-1,o=t*n;++a<n;)r(s,o+a,i[a]);else for(let a=-1,o=t*n;++a<n;)r(s,o+a,i.get(a))};R.prototype.visitBool=$(k_);R.prototype.visitInt=$(mi);R.prototype.visitInt8=$(mi);R.prototype.visitInt16=$(mi);R.prototype.visitInt32=$(mi);R.prototype.visitInt64=$(mi);R.prototype.visitUint8=$(mi);R.prototype.visitUint16=$(mi);R.prototype.visitUint32=$(mi);R.prototype.visitUint64=$(mi);R.prototype.visitFloat=$(O_);R.prototype.visitFloat16=$(om);R.prototype.visitFloat32=$(Yl);R.prototype.visitFloat64=$(Yl);R.prototype.visitUtf8=$(N_);R.prototype.visitBinary=$(B_);R.prototype.visitFixedSizeBinary=$(cm);R.prototype.visitDate=$(um);R.prototype.visitDateDay=$(Gl);R.prototype.visitDateMillisecond=$(Kl);R.prototype.visitTimestamp=$(lm);R.prototype.visitTimestampSecond=$(Jl);R.prototype.visitTimestampMillisecond=$(Ql);R.prototype.visitTimestampMicrosecond=$(Zl);R.prototype.visitTimestampNanosecond=$(Xl);R.prototype.visitTime=$(hm);R.prototype.visitTimeSecond=$(th);R.prototype.visitTimeMillisecond=$(eh);R.prototype.visitTimeMicrosecond=$(ih);R.prototype.visitTimeNanosecond=$(nh);R.prototype.visitDecimal=$(fm);R.prototype.visitList=$(F_);R.prototype.visitStruct=$(V_);R.prototype.visitUnion=$(U_);R.prototype.visitDenseUnion=$(dm);R.prototype.visitSparseUnion=$(pm);R.prototype.visitDictionary=$($_);R.prototype.visitInterval=$(mm);R.prototype.visitIntervalDayTime=$(sh);R.prototype.visitIntervalYearMonth=$(rh);R.prototype.visitFixedSizeList=$(j_);R.prototype.visitMap=$(L_);const be=new R,Ee=Symbol.for("parent"),Cs=Symbol.for("rowIndex");class ah{constructor(t,i){return this[Ee]=t,this[Cs]=i,new Proxy(this,new W_)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Cs],i=this[Ee],n=i.type.children,s={};for(let r=-1,a=n.length;++r<a;)s[n[r].name]=Yt.visit(i.children[r],t);return s}toString(){return`{${[...this].map(([t,i])=>`${Ni(t)}: ${Ni(i)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new z_(this[Ee],this[Cs])}}class z_{constructor(t,i){this.childIndex=0,this.children=t.children,this.rowIndex=i,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Yt.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ah.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ee]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Cs]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class W_{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ee].type.children.map(i=>i.name)}has(t,i){return t[Ee].type.children.findIndex(n=>n.name===i)!==-1}getOwnPropertyDescriptor(t,i){if(t[Ee].type.children.findIndex(n=>n.name===i)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,i){if(Reflect.has(t,i))return t[i];const n=t[Ee].type.children.findIndex(s=>s.name===i);if(n!==-1){const s=Yt.visit(t[Ee].children[n],t[Cs]);return Reflect.set(t,i,s),s}}set(t,i,n){const s=t[Ee].type.children.findIndex(r=>r.name===i);return s!==-1?(be.visit(t[Ee].children[s],t[Cs],n),Reflect.set(t,i,n)):Reflect.has(t,i)||typeof i=="symbol"?Reflect.set(t,i,n):!1}}class F extends X{}function P(e){return(t,i)=>t.getValid(i)?e(t,i):null}const q_=(e,t)=>864e5*e[t],oh=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),H_=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Y_=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,ym=e=>new Date(e),G_=(e,t)=>ym(q_(e,t)),K_=(e,t)=>ym(oh(e,t)),J_=(e,t)=>null,gm=(e,t,i)=>{if(i+1>=t.length)return null;const n=t[i],s=t[i+1];return e.subarray(n,s)},Q_=({offset:e,values:t},i)=>{const n=e+i;return(t[n>>3]&1<<n%8)!==0},_m=({values:e},t)=>G_(e,t),bm=({values:e},t)=>K_(e,t*2),ji=({stride:e,values:t},i)=>t[e*i],Z_=({stride:e,values:t},i)=>sm(t[e*i]),vm=({values:e},t)=>e[t],X_=({stride:e,values:t},i)=>t.subarray(e*i,e*(i+1)),t1=({values:e,valueOffsets:t},i)=>gm(e,t,i),e1=({values:e,valueOffsets:t},i)=>{const n=gm(e,t,i);return n!==null?il(n):null},i1=({values:e},t)=>e[t],n1=({type:e,values:t},i)=>e.precision!==Nt.HALF?t[i]:sm(t[i]),s1=(e,t)=>e.type.unit===Ke.DAY?_m(e,t):bm(e,t),wm=({values:e},t)=>1e3*oh(e,t*2),xm=({values:e},t)=>oh(e,t*2),Sm=({values:e},t)=>H_(e,t*2),Im=({values:e},t)=>Y_(e,t*2),r1=(e,t)=>{switch(e.type.unit){case Z.SECOND:return wm(e,t);case Z.MILLISECOND:return xm(e,t);case Z.MICROSECOND:return Sm(e,t);case Z.NANOSECOND:return Im(e,t)}},Am=({values:e},t)=>e[t],Em=({values:e},t)=>e[t],Tm=({values:e},t)=>e[t],Cm=({values:e},t)=>e[t],a1=(e,t)=>{switch(e.type.unit){case Z.SECOND:return Am(e,t);case Z.MILLISECOND:return Em(e,t);case Z.MICROSECOND:return Tm(e,t);case Z.NANOSECOND:return Cm(e,t)}},o1=({values:e,stride:t},i)=>Ml.decimal(e.subarray(t*i,t*(i+1))),c1=(e,t)=>{const{valueOffsets:i,stride:n,children:s}=e,{[t*n]:r,[t*n+1]:a}=i,c=s[0].slice(r,a-r);return new rt([c])},u1=(e,t)=>{const{valueOffsets:i,children:n}=e,{[t]:s,[t+1]:r}=i,a=n[0];return new wo(a.slice(s,r-s))},l1=(e,t)=>new ah(e,t),h1=(e,t)=>e.type.mode===_e.Dense?km(e,t):Om(e,t),km=(e,t)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],n=e.children[i];return Yt.visit(n,e.valueOffsets[t])},Om=(e,t)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],n=e.children[i];return Yt.visit(n,t)},f1=(e,t)=>{var i;return(i=e.dictionary)===null||i===void 0?void 0:i.get(e.values[t])},d1=(e,t)=>e.type.unit===Je.DAY_TIME?Bm(e,t):Nm(e,t),Bm=({values:e},t)=>e.subarray(2*t,2*(t+1)),Nm=({values:e},t)=>{const i=e[t],n=new Int32Array(2);return n[0]=Math.trunc(i/12),n[1]=Math.trunc(i%12),n},p1=(e,t)=>{const{stride:i,children:n}=e,r=n[0].slice(t*i,i);return new rt([r])};F.prototype.visitNull=P(J_);F.prototype.visitBool=P(Q_);F.prototype.visitInt=P(i1);F.prototype.visitInt8=P(ji);F.prototype.visitInt16=P(ji);F.prototype.visitInt32=P(ji);F.prototype.visitInt64=P(vm);F.prototype.visitUint8=P(ji);F.prototype.visitUint16=P(ji);F.prototype.visitUint32=P(ji);F.prototype.visitUint64=P(vm);F.prototype.visitFloat=P(n1);F.prototype.visitFloat16=P(Z_);F.prototype.visitFloat32=P(ji);F.prototype.visitFloat64=P(ji);F.prototype.visitUtf8=P(e1);F.prototype.visitBinary=P(t1);F.prototype.visitFixedSizeBinary=P(X_);F.prototype.visitDate=P(s1);F.prototype.visitDateDay=P(_m);F.prototype.visitDateMillisecond=P(bm);F.prototype.visitTimestamp=P(r1);F.prototype.visitTimestampSecond=P(wm);F.prototype.visitTimestampMillisecond=P(xm);F.prototype.visitTimestampMicrosecond=P(Sm);F.prototype.visitTimestampNanosecond=P(Im);F.prototype.visitTime=P(a1);F.prototype.visitTimeSecond=P(Am);F.prototype.visitTimeMillisecond=P(Em);F.prototype.visitTimeMicrosecond=P(Tm);F.prototype.visitTimeNanosecond=P(Cm);F.prototype.visitDecimal=P(o1);F.prototype.visitList=P(c1);F.prototype.visitStruct=P(l1);F.prototype.visitUnion=P(h1);F.prototype.visitDenseUnion=P(km);F.prototype.visitSparseUnion=P(Om);F.prototype.visitDictionary=P(f1);F.prototype.visitInterval=P(d1);F.prototype.visitIntervalDayTime=P(Bm);F.prototype.visitIntervalYearMonth=P(Nm);F.prototype.visitFixedSizeList=P(p1);F.prototype.visitMap=P(u1);const Yt=new F,Te=Symbol.for("keys"),ks=Symbol.for("vals");class wo{constructor(t){return this[Te]=new rt([t.children[0]]).memoize(),this[ks]=t.children[1],new Proxy(this,new y1)}[Symbol.iterator](){return new m1(this[Te],this[ks])}get size(){return this[Te].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Te],i=this[ks],n={};for(let s=-1,r=t.length;++s<r;)n[t.get(s)]=Yt.visit(i,s);return n}toString(){return`{${[...this].map(([t,i])=>`${Ni(t)}: ${Ni(i)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class m1{constructor(t,i){this.keys=t,this.vals=i,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Yt.visit(this.vals,t)]})}}class y1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Te].toArray().map(String)}has(t,i){return t[Te].includes(i)}getOwnPropertyDescriptor(t,i){if(t[Te].indexOf(i)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,i){if(Reflect.has(t,i))return t[i];const n=t[Te].indexOf(i);if(n!==-1){const s=Yt.visit(Reflect.get(t,ks),n);return Reflect.set(t,i,s),s}}set(t,i,n){const s=t[Te].indexOf(i);return s!==-1?(be.visit(Reflect.get(t,ks),s,n),Reflect.set(t,i,n)):Reflect.has(t,i)?Reflect.set(t,i,n):!1}}Object.defineProperties(wo.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Te]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ks]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let hd;function Fm(e,t,i,n){const{length:s=0}=e;let r=typeof t!="number"?0:t,a=typeof i!="number"?s:i;return r<0&&(r=(r%s+s)%s),a<0&&(a=(a%s+s)%s),a<r&&(hd=r,r=a,a=hd),a>s&&(a=s),n?n(e,r,a):[r,a]}const fd=e=>e!==e;function Hs(e){if(typeof e!=="object"||e===null)return fd(e)?fd:i=>i===e;if(e instanceof Date){const i=e.valueOf();return n=>n instanceof Date?n.valueOf()===i:!1}return ArrayBuffer.isView(e)?i=>i?c_(e,i):!1:e instanceof Map?_1(e):Array.isArray(e)?g1(e):e instanceof rt?b1(e):v1(e,!0)}function g1(e){const t=[];for(let i=-1,n=e.length;++i<n;)t[i]=Hs(e[i]);return xo(t)}function _1(e){let t=-1;const i=[];for(const n of e.values())i[++t]=Hs(n);return xo(i)}function b1(e){const t=[];for(let i=-1,n=e.length;++i<n;)t[i]=Hs(e.get(i));return xo(t)}function v1(e,t=!1){const i=Object.keys(e);if(!t&&i.length===0)return()=>!1;const n=[];for(let s=-1,r=i.length;++s<r;)n[s]=Hs(e[i[s]]);return xo(n,i)}function xo(e,t){return i=>{if(!i||typeof i!="object")return!1;switch(i.constructor){case Array:return w1(e,i);case Map:return dd(e,i,i.keys());case wo:case ah:case Object:case void 0:return dd(e,i,t||Object.keys(i))}return i instanceof rt?x1(e,i):!1}}function w1(e,t){const i=e.length;if(t.length!==i)return!1;for(let n=-1;++n<i;)if(!e[n](t[n]))return!1;return!0}function x1(e,t){const i=e.length;if(t.length!==i)return!1;for(let n=-1;++n<i;)if(!e[n](t.get(n)))return!1;return!0}function dd(e,t,i){const n=i[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),r=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let a=0;const o=e.length;let c=r.next(),u=n.next(),l=s.next();for(;a<o&&!u.done&&!l.done&&!c.done&&!(u.value!==l.value||!e[a](c.value));++a,u=n.next(),l=s.next(),c=r.next());return a===o&&u.done&&l.done&&c.done?!0:(n.return&&n.return(),s.return&&s.return(),r.return&&r.return(),!1)}function Lm(e,t,i,n){return(i&1<<n)!==0}function S1(e,t,i,n){return(i&1<<n)>>n}function ch(e,t,i){const n=i.byteLength+7&-8;if(e>0||i.byteLength<n){const s=new Uint8Array(n);return s.set(e%8===0?i.subarray(e>>3):Dm(new uh(i,e,t,null,Lm)).subarray(0,n)),s}return i}function Dm(e){const t=[];let i=0,n=0,s=0;for(const a of e)a&&(s|=1<<n),++n===8&&(t[i++]=s,s=n=0);(i===0||n>0)&&(t[i++]=s);const r=new Uint8Array(t.length+7&-8);return r.set(t),r}class uh{constructor(t,i,n,s,r){this.bytes=t,this.length=n,this.context=s,this.get=r,this.bit=i%8,this.byteIndex=i>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function rl(e,t,i){if(i-t<=0)return 0;if(i-t<8){let r=0;for(const a of new uh(e,t,i-t,e,S1))r+=a;return r}const n=i>>3<<3,s=t+(t%8===0?0:8-t%8);return rl(e,t,s)+rl(e,n,i)+I1(e,s>>3,n-s>>3)}function I1(e,t,i){let n=0,s=Math.trunc(t);const r=new DataView(e.buffer,e.byteOffset,e.byteLength),a=i===void 0?e.byteLength:s+i;for(;a-s>=4;)n+=Uu(r.getUint32(s)),s+=4;for(;a-s>=2;)n+=Uu(r.getUint16(s)),s+=2;for(;a-s>=1;)n+=Uu(r.getUint8(s)),s+=1;return n}function Uu(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const A1=-1;class ht{constructor(t,i,n,s,r,a=[],o){this.type=t,this.children=a,this.dictionary=o,this.offset=Math.floor(Math.max(i||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let c;r instanceof ht?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Ve(t),r&&((c=r[0])&&(this.valueOffsets=c),(c=r[1])&&(this.values=c),(c=r[2])&&(this.nullBitmap=c),(c=r[3])&&(this.typeIds=c))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:i,values:n,nullBitmap:s,typeIds:r}=this;return i&&(t+=i.byteLength),n&&(t+=n.byteLength),s&&(t+=s.byteLength),r&&(t+=r.byteLength),this.children.reduce((a,o)=>a+o.byteLength,t)}get nullCount(){let t=this._nullCount,i;return t<=A1&&(i=this.nullBitmap)&&(this._nullCount=t=this.length-rl(i,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const i=this.offset+t;return(this.nullBitmap[i>>3]&1<<i%8)!==0}return!0}setValid(t,i){if(!this.nullable)return i;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:c}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:c,_nullCount:0})}const{nullBitmap:n,offset:s}=this,r=s+t>>3,a=(s+t)%8,o=n[r]>>a&1;return i?o===0&&(n[r]|=1<<a,this._nullCount=this.nullCount+1):o===1&&(n[r]&=~(1<<a),this._nullCount=this.nullCount-1),i}clone(t=this.type,i=this.offset,n=this.length,s=this._nullCount,r=this,a=this.children){return new ht(t,i,n,s,r,a,this.dictionary)}slice(t,i){const{stride:n,typeId:s,children:r}=this,a=+(this._nullCount===0)-1,o=s===16?n:1,c=this._sliceBuffers(t,i,n,s);return this.clone(this.type,this.offset+t,i,a,c,r.length===0||this.valueOffsets?r:this._sliceChildren(r,o*t,o*i))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===f.Null)return this.clone(this.type,0,t,0);const{length:i,nullCount:n}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,i>>3);s[i>>3]=(1<<i-(i&-8))-1,n>0&&s.set(ch(this.offset,i,this.nullBitmap),0);const r=this.buffers;return r[ei.VALIDITY]=s,this.clone(this.type,0,t,n+(t-i),r)}_sliceBuffers(t,i,n,s){let r;const{buffers:a}=this;return(r=a[ei.TYPE])&&(a[ei.TYPE]=r.subarray(t,t+i)),(r=a[ei.OFFSET])&&(a[ei.OFFSET]=r.subarray(t,t+i+1))||(r=a[ei.DATA])&&(a[ei.DATA]=s===6?r:r.subarray(n*t,n*(t+i))),a}_sliceChildren(t,i,n){return t.map(s=>s.slice(i,n))}}ht.prototype.children=Object.freeze([]);class Fr extends X{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:i,["offset"]:n=0,["length"]:s=0}=t;return new ht(i,n,s,0)}visitBool(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length>>3,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitInt(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitFloat(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitUtf8(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.data),r=ut(t.nullBitmap),a=Tr(t.valueOffsets),{["length"]:o=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ht(i,n,o,c,[a,s,r])}visitBinary(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.data),r=ut(t.nullBitmap),a=Tr(t.valueOffsets),{["length"]:o=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ht(i,n,o,c,[a,s,r])}visitFixedSizeBinary(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitDate(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitTimestamp(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitTime(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitDecimal(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitList(t){const{["type"]:i,["offset"]:n=0,["child"]:s}=t,r=ut(t.nullBitmap),a=Tr(t.valueOffsets),{["length"]:o=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ht(i,n,o,c,[a,void 0,r],[s])}visitStruct(t){const{["type"]:i,["offset"]:n=0,["children"]:s=[]}=t,r=ut(t.nullBitmap),{length:a=s.reduce((c,{length:u})=>Math.max(c,u),0),nullCount:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,void 0,r],s)}visitUnion(t){const{["type"]:i,["offset"]:n=0,["children"]:s=[]}=t,r=ut(t.nullBitmap),a=Bt(i.ArrayType,t.typeIds),{["length"]:o=a.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;if(G.isSparseUnion(i))return new ht(i,n,o,c,[void 0,void 0,r,a],s);const u=Tr(t.valueOffsets);return new ht(i,n,o,c,[u,void 0,r,a],s)}visitDictionary(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.indices.ArrayType,t.data),{["dictionary"]:a=new rt([new Fr().visit({type:i.dictionary})])}=t,{["length"]:o=r.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ht(i,n,o,c,[void 0,r,s],[],a)}visitInterval(t){const{["type"]:i,["offset"]:n=0}=t,s=ut(t.nullBitmap),r=Bt(i.ArrayType,t.data),{["length"]:a=r.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,r,s])}visitFixedSizeList(t){const{["type"]:i,["offset"]:n=0,["child"]:s=new Fr().visit({type:i.valueType})}=t,r=ut(t.nullBitmap),{["length"]:a=s.length/Ve(i),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new ht(i,n,a,o,[void 0,void 0,r],[s])}visitMap(t){const{["type"]:i,["offset"]:n=0,["child"]:s=new Fr().visit({type:i.childType})}=t,r=ut(t.nullBitmap),a=Tr(t.valueOffsets),{["length"]:o=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ht(i,n,o,c,[a,void 0,r],[s])}}function Dt(e){return new Fr().visit(e)}class pd{constructor(t=0,i){this.numChunks=t,this.getChunkIterator=i,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Mm(e){return e.reduce((t,i)=>t+i.nullCount,0)}function Rm(e){return e.reduce((t,i,n)=>(t[n+1]=t[n]+i.length,t),new Uint32Array(e.length+1))}function Pm(e,t,i,n){const s=[];for(let r=-1,a=e.length;++r<a;){const o=e[r],c=t[r],{length:u}=o;if(c>=n)break;if(i>=c+u)continue;if(c>=i&&c+u<=n){s.push(o);continue}const l=Math.max(0,i-c),p=Math.min(n-c,u);s.push(o.slice(l,p-l))}return s.length===0&&s.push(e[0].slice(0,0)),s}function lh(e,t,i,n){let s=0,r=0,a=t.length-1;do{if(s>=a-1)return i<t[a]?n(e,s,i-t[s]):null;r=s+Math.trunc((a-s)*.5),i<t[r]?a=r:s=r}while(s<a)}function hh(e,t){return e.getValid(t)}function Os(e){function t(i,n,s){return e(i[n],s)}return function(i){const n=this.data;return lh(n,this._offsets,i,t)}}function Vm(e){let t;function i(n,s,r){return e(n[s],r,t)}return function(n,s){const r=this.data;t=s;const a=lh(r,this._offsets,n,i);return t=void 0,a}}function Um(e){let t;function i(n,s,r){let a=r,o=0,c=0;for(let u=s-1,l=n.length;++u<l;){const p=n[u];if(~(o=e(p,t,a)))return c+o;a=0,c+=p.length}return-1}return function(n,s){t=n;const r=this.data,a=typeof s!="number"?i(r,0,0):lh(r,this._offsets,s,i);return t=void 0,a}}class L extends X{}function E1(e,t){return t===null&&e.length>0?0:-1}function T1(e,t){const{nullBitmap:i}=e;if(!i||e.nullCount<=0)return-1;let n=0;for(const s of new uh(i,e.offset+(t||0),e.length,i,Lm)){if(!s)return n;++n}return-1}function z(e,t,i){if(t===void 0)return-1;if(t===null)return T1(e,i);const n=Yt.getVisitFn(e),s=Hs(t);for(let r=(i||0)-1,a=e.length;++r<a;)if(s(n(e,r)))return r;return-1}function $m(e,t,i){const n=Yt.getVisitFn(e),s=Hs(t);for(let r=(i||0)-1,a=e.length;++r<a;)if(s(n(e,r)))return r;return-1}L.prototype.visitNull=E1;L.prototype.visitBool=z;L.prototype.visitInt=z;L.prototype.visitInt8=z;L.prototype.visitInt16=z;L.prototype.visitInt32=z;L.prototype.visitInt64=z;L.prototype.visitUint8=z;L.prototype.visitUint16=z;L.prototype.visitUint32=z;L.prototype.visitUint64=z;L.prototype.visitFloat=z;L.prototype.visitFloat16=z;L.prototype.visitFloat32=z;L.prototype.visitFloat64=z;L.prototype.visitUtf8=z;L.prototype.visitBinary=z;L.prototype.visitFixedSizeBinary=z;L.prototype.visitDate=z;L.prototype.visitDateDay=z;L.prototype.visitDateMillisecond=z;L.prototype.visitTimestamp=z;L.prototype.visitTimestampSecond=z;L.prototype.visitTimestampMillisecond=z;L.prototype.visitTimestampMicrosecond=z;L.prototype.visitTimestampNanosecond=z;L.prototype.visitTime=z;L.prototype.visitTimeSecond=z;L.prototype.visitTimeMillisecond=z;L.prototype.visitTimeMicrosecond=z;L.prototype.visitTimeNanosecond=z;L.prototype.visitDecimal=z;L.prototype.visitList=z;L.prototype.visitStruct=z;L.prototype.visitUnion=z;L.prototype.visitDenseUnion=$m;L.prototype.visitSparseUnion=$m;L.prototype.visitDictionary=z;L.prototype.visitInterval=z;L.prototype.visitIntervalDayTime=z;L.prototype.visitIntervalYearMonth=z;L.prototype.visitFixedSizeList=z;L.prototype.visitMap=z;const Za=new L;class D extends X{}function V(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===f.Timestamp||t instanceof Vt&&t.bitWidth!==64||t instanceof fi&&t.bitWidth!==64||t instanceof Li&&t.precision!==Nt.HALF))return new pd(e.data.length,n=>{const s=e.data[n];return s.values.subarray(0,s.length)[Symbol.iterator]()});let i=0;return new pd(e.data.length,n=>{const r=e.data[n].length,a=e.slice(i,i+r);return i+=r,new C1(a)})}class C1{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}D.prototype.visitNull=V;D.prototype.visitBool=V;D.prototype.visitInt=V;D.prototype.visitInt8=V;D.prototype.visitInt16=V;D.prototype.visitInt32=V;D.prototype.visitInt64=V;D.prototype.visitUint8=V;D.prototype.visitUint16=V;D.prototype.visitUint32=V;D.prototype.visitUint64=V;D.prototype.visitFloat=V;D.prototype.visitFloat16=V;D.prototype.visitFloat32=V;D.prototype.visitFloat64=V;D.prototype.visitUtf8=V;D.prototype.visitBinary=V;D.prototype.visitFixedSizeBinary=V;D.prototype.visitDate=V;D.prototype.visitDateDay=V;D.prototype.visitDateMillisecond=V;D.prototype.visitTimestamp=V;D.prototype.visitTimestampSecond=V;D.prototype.visitTimestampMillisecond=V;D.prototype.visitTimestampMicrosecond=V;D.prototype.visitTimestampNanosecond=V;D.prototype.visitTime=V;D.prototype.visitTimeSecond=V;D.prototype.visitTimeMillisecond=V;D.prototype.visitTimeMicrosecond=V;D.prototype.visitTimeNanosecond=V;D.prototype.visitDecimal=V;D.prototype.visitList=V;D.prototype.visitStruct=V;D.prototype.visitUnion=V;D.prototype.visitDenseUnion=V;D.prototype.visitSparseUnion=V;D.prototype.visitDictionary=V;D.prototype.visitInterval=V;D.prototype.visitIntervalDayTime=V;D.prototype.visitIntervalYearMonth=V;D.prototype.visitFixedSizeList=V;D.prototype.visitMap=V;const fh=new D,k1=(e,t)=>e+t;class zi extends X{visitNull(t,i){return 0}visitInt(t,i){return t.type.bitWidth/8}visitFloat(t,i){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,i){return 1/8}visitDecimal(t,i){return t.type.bitWidth/8}visitDate(t,i){return(t.type.unit+1)*4}visitTime(t,i){return t.type.bitWidth/8}visitTimestamp(t,i){return t.type.unit===Z.SECOND?4:8}visitInterval(t,i){return(t.type.unit+1)*4}visitStruct(t,i){return t.children.reduce((n,s)=>n+Qe.visit(s,i),0)}visitFixedSizeBinary(t,i){return t.type.byteWidth}visitMap(t,i){return 8+t.children.reduce((n,s)=>n+Qe.visit(s,i),0)}visitDictionary(t,i){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[i]))||0)}}const O1=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),B1=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),N1=({valueOffsets:e,stride:t,children:i},n)=>{const s=i[0],{[n*t]:r}=e,{[n*t+1]:a}=e,o=Qe.getVisitFn(s.type),c=s.slice(r,a-r);let u=8;for(let l=-1,p=a-r;++l<p;)u+=o(c,l);return u},F1=({stride:e,children:t},i)=>{const n=t[0],s=n.slice(i*e,e),r=Qe.getVisitFn(n.type);let a=0;for(let o=-1,c=s.length;++o<c;)a+=r(s,o);return a},L1=(e,t)=>e.type.mode===_e.Dense?jm(e,t):zm(e,t),jm=({type:e,children:t,typeIds:i,valueOffsets:n},s)=>{const r=e.typeIdToChildIndex[i[s]];return 8+Qe.visit(t[r],n[s])},zm=({children:e},t)=>4+Qe.visitMany(e,e.map(()=>t)).reduce(k1,0);zi.prototype.visitUtf8=O1;zi.prototype.visitBinary=B1;zi.prototype.visitList=N1;zi.prototype.visitFixedSizeList=F1;zi.prototype.visitUnion=L1;zi.prototype.visitDenseUnion=jm;zi.prototype.visitSparseUnion=zm;const Qe=new zi;var Wm;const qm={},Hm={};class rt{constructor(t){var i,n,s;const r=t[0]instanceof rt?t.flatMap(o=>o.data):t;if(r.length===0||r.some(o=>!(o instanceof ht)))throw new TypeError("Vector constructor expects an Array of Data instances.");const a=(i=r[0])===null||i===void 0?void 0:i.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:o,set:c,indexOf:u,byteLength:l}=qm[a.typeId],p=r[0];this.isValid=d=>hh(p,d),this.get=d=>o(p,d),this.set=(d,y)=>c(p,d,y),this.indexOf=d=>u(p,d),this.getByteLength=d=>l(p,d),this._offsets=[0,p.length];break}default:Object.setPrototypeOf(this,Hm[a.typeId]),this._offsets=Rm(r);break}this.data=r,this.type=a,this.stride=Ve(a),this.numChildren=(s=(n=a.children)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,i)=>t+i.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Mm(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${f[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,i){}indexOf(t,i){return-1}includes(t,i){return this.indexOf(t,i)>0}getByteLength(t){return 0}[Symbol.iterator](){return fh.visit(this)}concat(...t){return new rt(this.data.concat(t.flatMap(i=>i.data).flat(Number.POSITIVE_INFINITY)))}slice(t,i){return new rt(Fm(this,t,i,({data:n,_offsets:s},r,a)=>Pm(n,s,r,a)))}toJSON(){return[...this]}toArray(){const{type:t,data:i,length:n,stride:s,ArrayType:r}=this;switch(t.typeId){case f.Int:case f.Float:case f.Decimal:case f.Time:case f.Timestamp:switch(i.length){case 0:return new r;case 1:return i[0].values.subarray(0,n*s);default:return i.reduce((a,{values:o})=>(a.array.set(o,a.offset),a.offset+=o.length,a),{array:new r(n*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var i;return this.getChildAt((i=this.type.children)===null||i===void 0?void 0:i.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new rt(this.data.map(({children:i})=>i[t])):null}get isMemoized(){return G.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(G.isDictionary(this.type)){const t=new Xa(this.data[0].dictionary),i=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new rt(i)}return new Xa(this)}unmemoize(){if(G.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),i=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new rt(i)}return this}}Wm=Symbol.toStringTag;rt[Wm]=(e=>{e.type=G.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(f).map(i=>f[i]).filter(i=>typeof i=="number"&&i!==f.NONE);for(const i of t){const n=Yt.getVisitFnByTypeId(i),s=be.getVisitFnByTypeId(i),r=Za.getVisitFnByTypeId(i),a=Qe.getVisitFnByTypeId(i);qm[i]={get:n,set:s,indexOf:r,byteLength:a},Hm[i]=Object.create(e,{isValid:{value:Os(hh)},get:{value:Os(Yt.getVisitFnByTypeId(i))},set:{value:Vm(be.getVisitFnByTypeId(i))},indexOf:{value:Um(Za.getVisitFnByTypeId(i))},getByteLength:{value:Os(Qe.getVisitFnByTypeId(i))}})}return"Vector"})(rt.prototype);class Xa extends rt{constructor(t){super(t.data);const i=this.get,n=this.set,s=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(a){const o=r[a];if(o!==void 0)return o;const c=i.call(this,a);return r[a]=c,c}}),Object.defineProperty(this,"set",{value(a,o){n.call(this,a,o),r[a]=o}}),Object.defineProperty(this,"slice",{value:(a,o)=>new Xa(s.call(this,a,o))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new rt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function D1(e){if(!e||e.length<=0)return function(s){return!0};let t="";const i=e.filter(n=>n===n);return i.length>0&&(t=`
    switch (x) {${i.map(n=>`
        case ${M1(n)}:`).join("")}
            return false;
    }`),e.length!==i.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function M1(e){return typeof e!="bigint"?Ni(e):Np?`${Ni(e)}n`:`"${Ni(e)}"`}const $u=(e,t)=>(e*t+63&-64||64)/t,R1=(e,t=0)=>e.length>=t?e.subarray(0,t):Ga(new e.constructor(t),e,0);class So{constructor(t,i=1){this.buffer=t,this.stride=i,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.trunc(t.length/i))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,i){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const i=this.stride,n=this.length*i,s=this.buffer.length;n>=s&&this._resize(s===0?$u(n*1,this.BYTES_PER_ELEMENT):$u(n*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=$u(t*this.stride,this.BYTES_PER_ELEMENT);const i=R1(this.buffer,t);return this.clear(),i}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=Ga(new this.ArrayType(t),this.buffer)}}So.prototype.offset=0;class Jr extends So{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,i){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=i,this}}class Ym extends Jr{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,i){const{buffer:n}=this.reserve(t-this.length+1),s=t>>3,r=t%8,a=n[s]>>r&1;return i?a===0&&(n[s]|=1<<r,++this.numValid):a===1&&(n[s]&=~(1<<r),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Gm extends Jr{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,i){const n=this.length-1,s=this.reserve(t-n+1).buffer;return n<t++&&s.fill(s[n],n,t),s[t]=s[t-1]+i,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Kt=class{constructor({type:t,nullValues:i}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=i,this.stride=Ve(t),this._nulls=new Ym,i&&i.length>0&&(this._isValid=D1(i))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new rt([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:i,_values:n,_nulls:s,_typeIds:r,children:a}=this;return i&&(t+=i.byteLength),n&&(t+=n.byteLength),s&&(t+=s.byteLength),r&&(t+=r.byteLength),a.reduce((o,c)=>o+c.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((i,n)=>i+n.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,i){return this.setValid(t,this.isValid(i))&&this.setValue(t,i),this}setValue(t,i){this._setValue(this,t,i)}setValid(t,i){return this.length=this._nulls.set(t,+i).length,i}addChild(t,i=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,i,n,s;const{type:r,length:a,nullCount:o,_typeIds:c,_offsets:u,_values:l,_nulls:p}=this;(i=c==null?void 0:c.flush(a))?s=u==null?void 0:u.flush(a):(s=u==null?void 0:u.flush(a))?t=l==null?void 0:l.flush(u.last()):t=l==null?void 0:l.flush(a),o>0&&(n=p==null?void 0:p.flush(a));const d=this.children.map(y=>y.flush());return this.clear(),Dt({type:r,length:a,nullCount:o,children:d,child:d[0],data:t,typeIds:i,nullBitmap:n,valueOffsets:s})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,i,n,s;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(i=this._values)===null||i===void 0||i.clear(),(n=this._offsets)===null||n===void 0||n.clear(),(s=this._typeIds)===null||s===void 0||s.clear();for(const r of this.children)r.clear();return this}};Kt.prototype.length=1;Kt.prototype.stride=1;Kt.prototype.children=null;Kt.prototype.finished=!1;Kt.prototype.nullValues=null;Kt.prototype._isValid=()=>!0;class Wi extends Kt{constructor(t){super(t),this._values=new Jr(new this.ArrayType(0),this.stride)}setValue(t,i){const n=this._values;return n.reserve(t-n.length+1),super.setValue(t,i)}}class Io extends Kt{constructor(t){super(t),this._pendingLength=0,this._offsets=new Gm}setValue(t,i){const n=this._pending||(this._pending=new Map),s=n.get(t);s&&(this._pendingLength-=s.length),this._pendingLength+=i instanceof wo?i[Te].length:i.length,n.set(t,i)}setValid(t,i){return super.setValid(t,i)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,i=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,i),this}}class al{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,i,n,s){return t.prep(8,24),t.writeInt64(s),t.pad(4),t.writeInt32(n),t.writeInt64(i),t.offset()}}const ju=2,Ue=4,ri=4,ft=4,ki=new Int32Array(2),md=new Float32Array(ki.buffer),yd=new Float64Array(ki.buffer),Ba=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let ci=class ol{constructor(t,i){this.low=t|0,this.high=i|0}static create(t,i){return t==0&&i==0?ol.ZERO:new ol(t,i)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};ci.ZERO=new ci(0,0);var cl;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(cl||(cl={}));let to=class Km{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Km(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new ci(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new ci(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return ki[0]=this.readInt32(t),md[0]}readFloat64(t){return ki[Ba?0:1]=this.readInt32(t),ki[Ba?1:0]=this.readInt32(t+4),yd[0]}writeInt8(t,i){this.bytes_[t]=i}writeUint8(t,i){this.bytes_[t]=i}writeInt16(t,i){this.bytes_[t]=i,this.bytes_[t+1]=i>>8}writeUint16(t,i){this.bytes_[t]=i,this.bytes_[t+1]=i>>8}writeInt32(t,i){this.bytes_[t]=i,this.bytes_[t+1]=i>>8,this.bytes_[t+2]=i>>16,this.bytes_[t+3]=i>>24}writeUint32(t,i){this.bytes_[t]=i,this.bytes_[t+1]=i>>8,this.bytes_[t+2]=i>>16,this.bytes_[t+3]=i>>24}writeInt64(t,i){this.writeInt32(t,i.low),this.writeInt32(t+4,i.high)}writeUint64(t,i){this.writeUint32(t,i.low),this.writeUint32(t+4,i.high)}writeFloat32(t,i){md[0]=i,this.writeInt32(t,ki[0])}writeFloat64(t,i){yd[0]=i,this.writeInt32(t,ki[Ba?0:1]),this.writeInt32(t+4,ki[Ba?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ue+ri)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let i=0;i<ri;i++)t+=String.fromCharCode(this.readInt8(this.position_+Ue+i));return t}__offset(t,i){const n=t-this.readInt32(t);return i<this.readInt16(n)?this.readInt16(n+i):0}__union(t,i){return t.bb_pos=i+this.readInt32(i),t.bb=this,t}__string(t,i){t+=this.readInt32(t);const n=this.readInt32(t);let s="",r=0;if(t+=Ue,i===cl.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){let a;const o=this.readUint8(t+r++);if(o<192)a=o;else{const c=this.readUint8(t+r++);if(o<224)a=(o&31)<<6|c&63;else{const u=this.readUint8(t+r++);if(o<240)a=(o&15)<<12|(c&63)<<6|u&63;else{const l=this.readUint8(t+r++);a=(o&7)<<18|(c&63)<<12|(u&63)<<6|l&63}}}a<65536?s+=String.fromCharCode(a):(a-=65536,s+=String.fromCharCode((a>>10)+55296,(a&(1<<10)-1)+56320))}return s}__union_with_string(t,i){return typeof t=="string"?this.__string(i):this.__union(t,i)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ue}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ri)throw new Error("FlatBuffers: file identifier must be length "+ri);for(let i=0;i<ri;i++)if(t.charCodeAt(i)!=this.readInt8(this.position()+Ue+i))return!1;return!0}createLong(t,i){return ci.create(t,i)}createScalarList(t,i){const n=[];for(let s=0;s<i;++s)t(s)!==null&&n.push(t(s));return n}createObjList(t,i){const n=[];for(let s=0;s<i;++s){const r=t(s);r!==null&&n.push(r.unpack())}return n}},Jm=class Qm{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let i;t?i=t:i=1024,this.bb=to.allocate(i),this.space=i}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,i){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+i)+1&t-1;for(;this.space<n+t+i;){const s=this.bb.capacity();this.bb=Qm.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(n)}pad(t){for(let i=0;i<t;i++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,i,n){(this.force_defaults||i!=n)&&(this.addInt8(i),this.slot(t))}addFieldInt16(t,i,n){(this.force_defaults||i!=n)&&(this.addInt16(i),this.slot(t))}addFieldInt32(t,i,n){(this.force_defaults||i!=n)&&(this.addInt32(i),this.slot(t))}addFieldInt64(t,i,n){(this.force_defaults||!i.equals(n))&&(this.addInt64(i),this.slot(t))}addFieldFloat32(t,i,n){(this.force_defaults||i!=n)&&(this.addFloat32(i),this.slot(t))}addFieldFloat64(t,i,n){(this.force_defaults||i!=n)&&(this.addFloat64(i),this.slot(t))}addFieldOffset(t,i,n){(this.force_defaults||i!=n)&&(this.addOffset(i),this.slot(t))}addFieldStruct(t,i,n){i!=n&&(this.nested(i),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const i=t.capacity();if(i&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=i<<1,s=to.allocate(n);return s.setPosition(n-i),s.bytes().set(t.bytes(),n-i),s}addOffset(t){this.prep(Ue,0),this.writeInt32(this.offset()-t+Ue)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let i=0;i<t;i++)this.vtable[i]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let i=this.vtable_in_use-1;for(;i>=0&&this.vtable[i]==0;i--);const n=i+1;for(;i>=0;i--)this.addInt16(this.vtable[i]!=0?t-this.vtable[i]:0);const s=2;this.addInt16(t-this.object_start);const r=(n+s)*ju;this.addInt16(r);let a=0;const o=this.space;t:for(i=0;i<this.vtables.length;i++){const c=this.bb.capacity()-this.vtables[i];if(r==this.bb.readInt16(c)){for(let u=ju;u<r;u+=ju)if(this.bb.readInt16(o+u)!=this.bb.readInt16(c+u))continue t;a=this.vtables[i];break}}return a?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,a-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,i,n){const s=n?ft:0;if(i){const r=i;if(this.prep(this.minalign,Ue+ri+s),r.length!=ri)throw new Error("FlatBuffers: file identifier must be length "+ri);for(let a=ri-1;a>=0;a--)this.writeInt8(r.charCodeAt(a))}this.prep(this.minalign,Ue+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,i){this.finish(t,i,!0)}requiredField(t,i){const n=this.bb.capacity()-t,s=n-this.bb.readInt32(n);if(!(this.bb.readInt16(s+i)!=0))throw new Error("FlatBuffers: field "+i+" must be set")}startVector(t,i,n){this.notNested(),this.vector_num_elems=i,this.prep(Ue,t*i),this.prep(n,t*i)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const i=this.createString(t);return this.string_maps.set(t,i),i}createString(t){if(!t)return 0;let i;if(t instanceof Uint8Array)i=t;else{i=[];let n=0;for(;n<t.length;){let s;const r=t.charCodeAt(n++);if(r<55296||r>=56320)s=r;else{const a=t.charCodeAt(n++);s=(r<<10)+a+(65536-(55296<<10)-56320)}s<128?i.push(s):(s<2048?i.push(s>>6&31|192):(s<65536?i.push(s>>12&15|224):i.push(s>>18&7|240,s>>12&63|128),i.push(s>>6&63|128)),i.push(s&63|128))}}this.addInt8(0),this.startVector(1,i.length,1),this.bb.setPosition(this.space-=i.length);for(let n=0,s=this.space,r=this.bb.bytes();n<i.length;n++)r[s++]=i[n];return this.endVector()}createLong(t,i){return ci.create(t,i)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const i=[];for(let n=0;n<t.length;++n){const s=t[n];if(s!==null)i.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return i}createStructOffsetList(t,i){return i(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class It{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsKeyValue(t,i){return(i||new It).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,i){return t.setPosition(t.position()+ft),(i||new It).__init(t.readInt32(t.position())+t.position(),t)}key(t){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,t):null}value(t){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,i){t.addFieldOffset(0,i,0)}static addValue(t,i){t.addFieldOffset(1,i,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,i,n){return It.startKeyValue(t),It.addKey(t,i),It.addValue(t,n),It.endKeyValue(t)}}var Rs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Rs||(Rs={}));var Ps;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Ps||(Ps={}));var eo;(function(e){e[e.DenseArray=0]="DenseArray"})(eo||(eo={}));class ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsInt(t,i){return(i||new ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,i){return t.setPosition(t.position()+ft),(i||new ae).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,i){t.addFieldInt32(0,i,0)}static addIsSigned(t,i){t.addFieldInt8(1,+i,0)}static endInt(t){return t.endObject()}static createInt(t,i,n){return ae.startInt(t),ae.addBitWidth(t,i),ae.addIsSigned(t,n),ae.endInt(t)}}class ai{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsDictionaryEncoding(t,i){return(i||new ai).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,i){return t.setPosition(t.position()+ft),(i||new ai).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new ae).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):eo.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,i){t.addFieldInt64(0,i,t.createLong(0,0))}static addIndexType(t,i){t.addFieldOffset(1,i,0)}static addIsOrdered(t,i){t.addFieldInt8(2,+i,0)}static addDictionaryKind(t,i){t.addFieldInt16(3,i,eo.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class kn{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsBinary(t,i){return(i||new kn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,i){return t.setPosition(t.position()+ft),(i||new kn).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return kn.startBinary(t),kn.endBinary(t)}}class On{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsBool(t,i){return(i||new On).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,i){return t.setPosition(t.position()+ft),(i||new On).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return On.startBool(t),On.endBool(t)}}var io;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(io||(io={}));let Va=class vs{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsDate(t,i){return(i||new vs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,i){return t.setPosition(t.position()+ft),(i||new vs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):io.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,i){t.addFieldInt16(0,i,io.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,i){return vs.startDate(t),vs.addUnit(t,i),vs.endDate(t)}};class zt{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsDecimal(t,i){return(i||new zt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,i){return t.setPosition(t.position()+ft),(i||new zt).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,i){t.addFieldInt32(0,i,0)}static addScale(t,i){t.addFieldInt32(1,i,0)}static addBitWidth(t,i){t.addFieldInt32(2,i,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,i,n,s){return zt.startDecimal(t),zt.addPrecision(t,i),zt.addScale(t,n),zt.addBitWidth(t,s),zt.endDecimal(t)}}var Vs;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Vs||(Vs={}));class $e{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsFixedSizeBinary(t,i){return(i||new $e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,i){return t.setPosition(t.position()+ft),(i||new $e).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,i){t.addFieldInt32(0,i,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,i){return $e.startFixedSizeBinary(t),$e.addByteWidth(t,i),$e.endFixedSizeBinary(t)}}class je{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsFixedSizeList(t,i){return(i||new je).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,i){return t.setPosition(t.position()+ft),(i||new je).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,i){t.addFieldInt32(0,i,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,i){return je.startFixedSizeList(t),je.addListSize(t,i),je.endFixedSizeList(t)}}var no;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(no||(no={}));class ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsFloatingPoint(t,i){return(i||new ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,i){return t.setPosition(t.position()+ft),(i||new ze).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):no.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,i){t.addFieldInt16(0,i,no.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,i){return ze.startFloatingPoint(t),ze.addPrecision(t,i),ze.endFloatingPoint(t)}}var so;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(so||(so={}));class We{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsInterval(t,i){return(i||new We).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,i){return t.setPosition(t.position()+ft),(i||new We).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):so.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,i){t.addFieldInt16(0,i,so.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,i){return We.startInterval(t),We.addUnit(t,i),We.endInterval(t)}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsList(t,i){return(i||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,i){return t.setPosition(t.position()+ft),(i||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Bn.startList(t),Bn.endList(t)}}let Ua=class ws{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsMap(t,i){return(i||new ws).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,i){return t.setPosition(t.position()+ft),(i||new ws).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,i){t.addFieldInt8(0,+i,0)}static endMap(t){return t.endObject()}static createMap(t,i){return ws.startMap(t),ws.addKeysSorted(t,i),ws.endMap(t)}};class Nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsNull(t,i){return(i||new Nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,i){return t.setPosition(t.position()+ft),(i||new Nn).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Nn.startNull(t),Nn.endNull(t)}}class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsStruct_(t,i){return(i||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,i){return t.setPosition(t.position()+ft),(i||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Fn.startStruct_(t),Fn.endStruct_(t)}}class me{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsTime(t,i){return(i||new me).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,i){return t.setPosition(t.position()+ft),(i||new me).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Vs.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,i){t.addFieldInt16(0,i,Vs.MILLISECOND)}static addBitWidth(t,i){t.addFieldInt32(1,i,32)}static endTime(t){return t.endObject()}static createTime(t,i,n){return me.startTime(t),me.addUnit(t,i),me.addBitWidth(t,n),me.endTime(t)}}class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsTimestamp(t,i){return(i||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,i){return t.setPosition(t.position()+ft),(i||new ye).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Vs.SECOND}timezone(t){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,i){t.addFieldInt16(0,i,Vs.SECOND)}static addTimezone(t,i){t.addFieldOffset(1,i,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,i,n){return ye.startTimestamp(t),ye.addUnit(t,i),ye.addTimezone(t,n),ye.endTimestamp(t)}}var ro;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ro||(ro={}));class Wt{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsUnion(t,i){return(i||new Wt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,i){return t.setPosition(t.position()+ft),(i||new Wt).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ro.Sparse}typeIds(t){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt32(this.bb.__vector(this.bb_pos+i)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,i){t.addFieldInt16(0,i,ro.Sparse)}static addTypeIds(t,i){t.addFieldOffset(1,i,0)}static createTypeIdsVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addInt32(i[n]);return t.endVector()}static startTypeIdsVector(t,i){t.startVector(4,i,4)}static endUnion(t){return t.endObject()}static createUnion(t,i,n){return Wt.startUnion(t),Wt.addMode(t,i),Wt.addTypeIds(t,n),Wt.endUnion(t)}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsUtf8(t,i){return(i||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,i){return t.setPosition(t.position()+ft),(i||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Ln.startUtf8(t),Ln.endUtf8(t)}}var gt;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(gt||(gt={}));let de=class $a{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsField(t,i){return(i||new $a).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,i){return t.setPosition(t.position()+ft),(i||new $a).__init(t.readInt32(t.position())+t.position(),t)}name(t){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):gt.NONE}type(t){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__union(t,this.bb_pos+i):null}dictionary(t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new ai).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}children(t,i){const n=this.bb.__offset(this.bb_pos,14);return n?(i||new $a).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,i){const n=this.bb.__offset(this.bb_pos,16);return n?(i||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,i){t.addFieldOffset(0,i,0)}static addNullable(t,i){t.addFieldInt8(1,+i,0)}static addTypeType(t,i){t.addFieldInt8(2,i,gt.NONE)}static addType(t,i){t.addFieldOffset(3,i,0)}static addDictionary(t,i){t.addFieldOffset(4,i,0)}static addChildren(t,i){t.addFieldOffset(5,i,0)}static createChildrenVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startChildrenVector(t,i){t.startVector(4,i,4)}static addCustomMetadata(t,i){t.addFieldOffset(6,i,0)}static createCustomMetadataVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startCustomMetadataVector(t,i){t.startVector(4,i,4)}static endField(t){return t.endObject()}},Re=class ti{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsSchema(t,i){return(i||new ti).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,i){return t.setPosition(t.position()+ft),(i||new ti).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ps.Little}fields(t,i){const n=this.bb.__offset(this.bb_pos,6);return n?(i||new de).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,i){const n=this.bb.__offset(this.bb_pos,8);return n?(i||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readInt64(this.bb.__vector(this.bb_pos+i)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,i){t.addFieldInt16(0,i,Ps.Little)}static addFields(t,i){t.addFieldOffset(1,i,0)}static createFieldsVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startFieldsVector(t,i){t.startVector(4,i,4)}static addCustomMetadata(t,i){t.addFieldOffset(2,i,0)}static createCustomMetadataVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startCustomMetadataVector(t,i){t.startVector(4,i,4)}static addFeatures(t,i){t.addFieldOffset(3,i,0)}static createFeaturesVector(t,i){t.startVector(8,i.length,8);for(let n=i.length-1;n>=0;n--)t.addInt64(i[n]);return t.endVector()}static startFeaturesVector(t,i){t.startVector(8,i,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,i){t.finish(i)}static finishSizePrefixedSchemaBuffer(t,i){t.finish(i,void 0,!0)}static createSchema(t,i,n,s,r){return ti.startSchema(t),ti.addEndianness(t,i),ti.addFields(t,n),ti.addCustomMetadata(t,s),ti.addFeatures(t,r),ti.endSchema(t)}};class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsFooter(t,i){return(i||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,i){return t.setPosition(t.position()+ft),(i||new re).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rs.V1}schema(t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new Re).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}dictionaries(t,i){const n=this.bb.__offset(this.bb_pos,8);return n?(i||new al).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,i){const n=this.bb.__offset(this.bb_pos,10);return n?(i||new al).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,i){const n=this.bb.__offset(this.bb_pos,12);return n?(i||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,i){t.addFieldInt16(0,i,Rs.V1)}static addSchema(t,i){t.addFieldOffset(1,i,0)}static addDictionaries(t,i){t.addFieldOffset(2,i,0)}static startDictionariesVector(t,i){t.startVector(24,i,8)}static addRecordBatches(t,i){t.addFieldOffset(3,i,0)}static startRecordBatchesVector(t,i){t.startVector(24,i,8)}static addCustomMetadata(t,i){t.addFieldOffset(4,i,0)}static createCustomMetadataVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startCustomMetadataVector(t,i){t.startVector(4,i,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,i){t.finish(i)}static finishSizePrefixedFooterBuffer(t,i){t.finish(i,void 0,!0)}}class ct{constructor(t=[],i,n){this.fields=t||[],this.metadata=i||new Map,n||(n=ul(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,i)=>`${i}: ${t}`).join(", ")} }>`}select(t){const i=new Set(t),n=this.fields.filter(s=>i.has(s.name));return new ct(n,this.metadata)}selectAt(t){const i=t.map(n=>this.fields[n]).filter(Boolean);return new ct(i,this.metadata)}assign(...t){const i=t[0]instanceof ct?t[0]:Array.isArray(t[0])?new ct(t[0]):new ct(t),n=[...this.fields],s=Na(Na(new Map,this.metadata),i.metadata),r=i.fields.filter(o=>{const c=n.findIndex(u=>u.name===o.name);return~c?(n[c]=o.clone({metadata:Na(Na(new Map,n[c].metadata),o.metadata)}))&&!1:!0}),a=ul(r,new Map);return new ct([...n,...r],s,new Map([...this.dictionaries,...a]))}}ct.prototype.fields=null;ct.prototype.metadata=null;ct.prototype.dictionaries=null;class ot{constructor(t,i,n=!1,s){this.name=t,this.type=i,this.nullable=n,this.metadata=s||new Map}static new(...t){let[i,n,s,r]=t;return t[0]&&typeof t[0]=="object"&&({name:i}=t[0],n===void 0&&(n=t[0].type),s===void 0&&(s=t[0].nullable),r===void 0&&(r=t[0].metadata)),new ot(`${i}`,n,s,r)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[i,n,s,r]=t;return!t[0]||typeof t[0]!="object"?[i=this.name,n=this.type,s=this.nullable,r=this.metadata]=t:{name:i=this.name,type:n=this.type,nullable:s=this.nullable,metadata:r=this.metadata}=t[0],ot.new(i,n,s,r)}}ot.prototype.type=null;ot.prototype.name=null;ot.prototype.nullable=null;ot.prototype.metadata=null;function Na(e,t){return new Map([...e||new Map,...t||new Map])}function ul(e,t=new Map){for(let i=-1,n=e.length;++i<n;){const r=e[i].type;if(G.isDictionary(r)){if(!t.has(r.id))t.set(r.id,r.dictionary);else if(t.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}r.children&&r.children.length>0&&ul(r.children,t)}return t}var gd=ci,P1=Jm,V1=to;class ll{constructor(t,i=ce.V4,n,s){this.schema=t,this.version=i,n&&(this._recordBatches=n),s&&(this._dictionaryBatches=s)}static decode(t){t=new V1(ut(t));const i=re.getRootAsFooter(t),n=ct.decode(i.schema());return new U1(n,i)}static encode(t){const i=new P1,n=ct.encode(i,t.schema);re.startRecordBatchesVector(i,t.numRecordBatches);for(const a of[...t.recordBatches()].slice().reverse())Mi.encode(i,a);const s=i.endVector();re.startDictionariesVector(i,t.numDictionaries);for(const a of[...t.dictionaryBatches()].slice().reverse())Mi.encode(i,a);const r=i.endVector();return re.startFooter(i),re.addSchema(i,n),re.addVersion(i,ce.V4),re.addRecordBatches(i,s),re.addDictionaries(i,r),re.finishFooterBuffer(i,re.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,i=-1,n=this.numRecordBatches;++i<n;)(t=this.getRecordBatch(i))&&(yield t)}*dictionaryBatches(){for(let t,i=-1,n=this.numDictionaries;++i<n;)(t=this.getDictionaryBatch(i))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class U1 extends ll{constructor(t,i){super(t,i.version()),this._footer=i}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const i=this._footer.recordBatches(t);if(i)return Mi.decode(i)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const i=this._footer.dictionaries(t);if(i)return Mi.decode(i)}return null}}class Mi{constructor(t,i,n){this.metaDataLength=t,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof i=="number"?i:i.low}static decode(t){return new Mi(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,i){const{metaDataLength:n}=i,s=new gd(i.offset,0),r=new gd(i.bodyLength,0);return al.createBlock(t,s,n,r)}}const Fa=Object.freeze({done:!0,value:void 0});class Zm{tee(){return this._getDOMStream().tee()}pipe(t,i){return this._getNodeStream().pipe(t,i)}pipeTo(t,i){return this._getDOMStream().pipeTo(t,i)}pipeThrough(t,i){return this._getDOMStream().pipeThrough(t,i)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class $1 extends Zm{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return si(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Fa);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return ud.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return ud.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return si(this,void 0,void 0,function*(){return yield this.abort(t),Fa})}return(t){return si(this,void 0,void 0,function*(){return yield this.close(),Fa})}read(t){return si(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return si(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((i,n)=>{this.resolvers.push({resolve:i,reject:n})}):Promise.resolve(Fa)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class zu extends $1{write(t){if((t=ut(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?il(this.toUint8Array(!0)):this.toUint8Array(!1).then(il)}toUint8Array(t=!1){return t?Ge(this._values)[0]:(()=>si(this,void 0,void 0,function*(){var i,n;const s=[];let r=0;try{for(var a=Nr(this),o;o=yield a.next(),!o.done;){const c=o.value;s.push(c),r+=c.byteLength}}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=a.return)&&(yield n.call(a))}finally{if(i)throw i.error}}return Ge(s,r)[0]}))()}}class Xm extends Io{constructor(t){super(t),this._values=new So(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,i){return super.setValue(t,ut(i))}_flushPending(t,i){const n=this._offsets,s=this._values.reserve(i).buffer;let r=0;for(const[a,o]of t)if(o===void 0)n.set(a,0);else{const c=o.length;s.set(o,r),n.set(a,c),r+=c}}}class j1 extends Kt{constructor(t){super(t),this._values=new Ym}setValue(t,i){this._values.set(t,+i)}}class Ao extends Wi{}Ao.prototype._setValue=um;class ty extends Ao{}ty.prototype._setValue=Gl;class ey extends Ao{}ey.prototype._setValue=Kl;class iy extends Wi{}iy.prototype._setValue=fm;class z1 extends Kt{constructor({type:t,nullValues:i,dictionaryHashFunction:n}){super({type:new Di(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=ao({type:this.type.indices,nullValues:i}),this.dictionary=ao({type:this.type.dictionary,nullValues:null}),typeof n=="function"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,i){const n=this.indices;return i=n.setValid(t,i),this.length=n.length,i}setValue(t,i){const n=this._keysToIndices,s=this.valueToKey(i);let r=n[s];return r===void 0&&(n[s]=r=this._dictionaryOffset+this.dictionary.append(i).length-1),this.indices.setValue(t,r)}flush(){const t=this.type,i=this._dictionary,n=this.dictionary.toVector(),s=this.indices.flush().clone(t);return s.dictionary=i?i.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=s.dictionary,this.clear(),s}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class ny extends Wi{}ny.prototype._setValue=cm;class W1 extends Kt{setValue(t,i){const[n]=this.children,s=t*this.stride;for(let r=-1,a=i.length;++r<a;)n.set(s+r,i[r])}addChild(t,i="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const n=this.children.push(t);return this.type=new Ms(this.type.listSize,new ot(i,t.type,!0)),n}}class Eo extends Wi{setValue(t,i){this._values.set(t,i)}}class q1 extends Eo{setValue(t,i){super.setValue(t,rm(i))}}class H1 extends Eo{}class Y1 extends Eo{}class To extends Wi{}To.prototype._setValue=mm;class sy extends To{}sy.prototype._setValue=sh;class ry extends To{}ry.prototype._setValue=rh;class yi extends Wi{setValue(t,i){this._values.set(t,i)}}class G1 extends yi{}class K1 extends yi{}class J1 extends yi{}class Q1 extends yi{}class Z1 extends yi{}class X1 extends yi{}class tb extends yi{}class eb extends yi{}class ib extends Io{constructor(t){super(t),this._offsets=new Gm}addChild(t,i="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Ds(new ot(i,t.type,!0)),this.numChildren-1}_flushPending(t){const i=this._offsets,[n]=this.children;for(const[s,r]of t)if(r===void 0)i.set(s,0);else{const a=r.length,o=i.set(s,a).buffer[s];for(let c=-1;++c<a;)n.set(o+c,r[c])}}}class nb extends Io{set(t,i){return super.set(t,i)}setValue(t,i){const n=i instanceof Map?i:new Map(Object.entries(i)),s=this._pending||(this._pending=new Map),r=s.get(t);r&&(this._pendingLength-=r.size),this._pendingLength+=n.size,s.set(t,n)}addChild(t,i=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Ur(new ot(i,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const i=this._offsets,[n]=this.children;for(const[s,r]of t)if(r===void 0)i.set(s,0);else{let{[s]:a,[s+1]:o}=i.set(s,r.size).buffer;for(const c of r.entries())if(n.set(a,c),++a>=o)break}}}class sb extends Kt{setValue(t,i){}setValid(t,i){return this.length=Math.max(t+1,this.length),i}}class rb extends Kt{setValue(t,i){const{children:n,type:s}=this;switch(Array.isArray(i)||i.constructor){case!0:return s.children.forEach((r,a)=>n[a].set(t,i[a]));case Map:return s.children.forEach((r,a)=>n[a].set(t,i.get(r.name)));default:return s.children.forEach((r,a)=>n[a].set(t,i[r.name]))}}setValid(t,i){return super.setValid(t,i)||this.children.forEach(n=>n.setValid(t,i)),i}addChild(t,i=`${this.numChildren}`){const n=this.children.push(t);return this.type=new Mt([...this.type.children,new ot(i,t.type,!0)]),n}}class Ys extends Wi{}Ys.prototype._setValue=lm;class ay extends Ys{}ay.prototype._setValue=Jl;class oy extends Ys{}oy.prototype._setValue=Ql;class cy extends Ys{}cy.prototype._setValue=Zl;class uy extends Ys{}uy.prototype._setValue=Xl;class Gs extends Wi{}Gs.prototype._setValue=hm;class ly extends Gs{}ly.prototype._setValue=th;class hy extends Gs{}hy.prototype._setValue=eh;class fy extends Gs{}fy.prototype._setValue=ih;class dy extends Gs{}dy.prototype._setValue=nh;class dh extends Kt{constructor(t){super(t),this._typeIds=new Jr(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,i){return this.set(this.length,t,i)}set(t,i,n){return n===void 0&&(n=this._valueToChildTypeId(this,i,t)),this.setValid(t,this.isValid(i))&&this.setValue(t,i,n),this}setValue(t,i,n){this._typeIds.set(t,n);const s=this.type.typeIdToChildIndex[n],r=this.children[s];r==null||r.set(t,i)}addChild(t,i=`${this.children.length}`){const n=this.children.push(t),{type:{children:s,mode:r,typeIds:a}}=this,o=[...s,new ot(i,t.type)];return this.type=new Vr(r,[...a,n],o),n}_valueToChildTypeId(t,i,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class ab extends dh{}class ob extends dh{constructor(t){super(t),this._offsets=new Jr(new Int32Array(0))}setValue(t,i,n){const s=this._typeIds.set(t,n).buffer[t],r=this.getChildAt(this.type.typeIdToChildIndex[s]),a=this._offsets.set(t,r.length).buffer[t];r==null||r.set(a,i)}}class py extends Io{constructor(t){super(t),this._values=new So(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,i){return super.setValue(t,Bl(i))}_flushPending(t,i){}}py.prototype._flushPending=Xm.prototype._flushPending;class cb extends X{visitNull(){return sb}visitBool(){return j1}visitInt(){return yi}visitInt8(){return G1}visitInt16(){return K1}visitInt32(){return J1}visitInt64(){return Q1}visitUint8(){return Z1}visitUint16(){return X1}visitUint32(){return tb}visitUint64(){return eb}visitFloat(){return Eo}visitFloat16(){return q1}visitFloat32(){return H1}visitFloat64(){return Y1}visitUtf8(){return py}visitBinary(){return Xm}visitFixedSizeBinary(){return ny}visitDate(){return Ao}visitDateDay(){return ty}visitDateMillisecond(){return ey}visitTimestamp(){return Ys}visitTimestampSecond(){return ay}visitTimestampMillisecond(){return oy}visitTimestampMicrosecond(){return cy}visitTimestampNanosecond(){return uy}visitTime(){return Gs}visitTimeSecond(){return ly}visitTimeMillisecond(){return hy}visitTimeMicrosecond(){return fy}visitTimeNanosecond(){return dy}visitDecimal(){return iy}visitList(){return ib}visitStruct(){return rb}visitUnion(){return dh}visitDenseUnion(){return ob}visitSparseUnion(){return ab}visitDictionary(){return z1}visitInterval(){return To}visitIntervalDayTime(){return sy}visitIntervalYearMonth(){return ry}visitFixedSizeList(){return W1}visitMap(){return nb}}const ub=new cb;class M extends X{compareSchemas(t,i){return t===i||i instanceof t.constructor&&this.compareManyFields(t.fields,i.fields)}compareManyFields(t,i){return t===i||Array.isArray(t)&&Array.isArray(i)&&t.length===i.length&&t.every((n,s)=>this.compareFields(n,i[s]))}compareFields(t,i){return t===i||i instanceof t.constructor&&t.name===i.name&&t.nullable===i.nullable&&this.visit(t.type,i.type)}}function Jt(e,t){return t instanceof e.constructor}function Qr(e,t){return e===t||Jt(e,t)}function gi(e,t){return e===t||Jt(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Co(e,t){return e===t||Jt(e,t)&&e.precision===t.precision}function lb(e,t){return e===t||Jt(e,t)&&e.byteWidth===t.byteWidth}function ph(e,t){return e===t||Jt(e,t)&&e.unit===t.unit}function Zr(e,t){return e===t||Jt(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Xr(e,t){return e===t||Jt(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function hb(e,t){return e===t||Jt(e,t)&&e.children.length===t.children.length&&Ri.compareManyFields(e.children,t.children)}function fb(e,t){return e===t||Jt(e,t)&&e.children.length===t.children.length&&Ri.compareManyFields(e.children,t.children)}function mh(e,t){return e===t||Jt(e,t)&&e.mode===t.mode&&e.typeIds.every((i,n)=>i===t.typeIds[n])&&Ri.compareManyFields(e.children,t.children)}function db(e,t){return e===t||Jt(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Ri.visit(e.indices,t.indices)&&Ri.visit(e.dictionary,t.dictionary)}function yh(e,t){return e===t||Jt(e,t)&&e.unit===t.unit}function pb(e,t){return e===t||Jt(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Ri.compareManyFields(e.children,t.children)}function mb(e,t){return e===t||Jt(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Ri.compareManyFields(e.children,t.children)}M.prototype.visitNull=Qr;M.prototype.visitBool=Qr;M.prototype.visitInt=gi;M.prototype.visitInt8=gi;M.prototype.visitInt16=gi;M.prototype.visitInt32=gi;M.prototype.visitInt64=gi;M.prototype.visitUint8=gi;M.prototype.visitUint16=gi;M.prototype.visitUint32=gi;M.prototype.visitUint64=gi;M.prototype.visitFloat=Co;M.prototype.visitFloat16=Co;M.prototype.visitFloat32=Co;M.prototype.visitFloat64=Co;M.prototype.visitUtf8=Qr;M.prototype.visitBinary=Qr;M.prototype.visitFixedSizeBinary=lb;M.prototype.visitDate=ph;M.prototype.visitDateDay=ph;M.prototype.visitDateMillisecond=ph;M.prototype.visitTimestamp=Zr;M.prototype.visitTimestampSecond=Zr;M.prototype.visitTimestampMillisecond=Zr;M.prototype.visitTimestampMicrosecond=Zr;M.prototype.visitTimestampNanosecond=Zr;M.prototype.visitTime=Xr;M.prototype.visitTimeSecond=Xr;M.prototype.visitTimeMillisecond=Xr;M.prototype.visitTimeMicrosecond=Xr;M.prototype.visitTimeNanosecond=Xr;M.prototype.visitDecimal=Qr;M.prototype.visitList=hb;M.prototype.visitStruct=fb;M.prototype.visitUnion=mh;M.prototype.visitDenseUnion=mh;M.prototype.visitSparseUnion=mh;M.prototype.visitDictionary=db;M.prototype.visitInterval=yh;M.prototype.visitIntervalDayTime=yh;M.prototype.visitIntervalYearMonth=yh;M.prototype.visitFixedSizeList=pb;M.prototype.visitMap=mb;const Ri=new M;function hl(e,t){return Ri.compareSchemas(e,t)}function ao(e){const t=e.type,i=new(ub.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const n=e.children||[],s={nullValues:e.nullValues},r=Array.isArray(n)?(a,o)=>n[o]||s:({name:a})=>n[a]||s;for(const[a,o]of t.children.entries()){const{type:c}=o,u=r(o,a);i.children.push(ao(Object.assign(Object.assign({},u),{type:c})))}}return i}function Wu(e,t){return yb(e,t.map(i=>i.data.concat()))}function yb(e,t){const i=[...e.fields],n=[],s={numBatches:t.reduce((p,d)=>Math.max(p,d.length),0)};let r=0,a=0,o=-1;const c=t.length;let u,l=[];for(;s.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,o=-1;++o<c;)l[o]=u=t[o].shift(),a=Math.min(a,u?u.length:a);Number.isFinite(a)&&(l=gb(i,a,l,t,s),a>0&&(n[r++]=Dt({type:new Mt(i),length:a,nullCount:0,children:l.slice()})))}return[e=e.assign(i),n.map(p=>new oe(e,p))]}function gb(e,t,i,n,s){var r;const a=(t+63&-64)>>3;for(let o=-1,c=n.length;++o<c;){const u=i[o],l=u==null?void 0:u.length;if(l>=t)l===t?i[o]=u:(i[o]=u.slice(0,t),s.numBatches=Math.max(s.numBatches,n[o].unshift(u.slice(t,l-t))));else{const p=e[o];e[o]=p.clone({nullable:!0}),i[o]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:Dt({type:p.type,length:t,nullCount:t,nullBitmap:new Uint8Array(a)})}}return i}var my;class qt{constructor(...t){var i,n;if(t.length===0)return this.batches=[],this.schema=new ct([]),this._offsets=[0],this;let s,r;t[0]instanceof ct&&(s=t.shift()),t[t.length-1]instanceof Uint32Array&&(r=t.pop());const a=c=>{if(c){if(c instanceof oe)return[c];if(c instanceof qt)return c.batches;if(c instanceof ht){if(c.type instanceof Mt)return[new oe(new ct(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(u=>a(u));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(u=>a(u));if(typeof c=="object"){const u=Object.keys(c),l=u.map(y=>new rt([c[y]])),p=new ct(u.map((y,g)=>new ot(String(y),l[g].type))),[,d]=Wu(p,l);return d.length===0?[new oe(c)]:d}}}return[]},o=t.flatMap(c=>a(c));if(s=(n=s??((i=o[0])===null||i===void 0?void 0:i.schema))!==null&&n!==void 0?n:new ct([]),!(s instanceof ct))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const c of o){if(!(c instanceof oe))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!hl(s,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=o,this._offsets=r??Rm(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,i)=>t+i.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Mm(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,i){}indexOf(t,i){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?fh.visit(new rt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const i=this.schema,n=this.data.concat(t.flatMap(({data:s})=>s));return new qt(i,n.map(s=>new oe(i,s)))}slice(t,i){const n=this.schema;[t,i]=Fm({length:this.numRows},t,i);const s=Pm(this.data,this._offsets,t,i);return new qt(n,s.map(r=>new oe(n,r)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(i=>i.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const i=this.data.map(n=>n.children[t]);if(i.length===0){const{type:n}=this.schema.fields[t],s=Dt({type:n,length:0,nullCount:0});i.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new rt(i)}return null}setChild(t,i){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),i)}setChildAt(t,i){let n=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){i||(i=new rt([Dt({type:new hi,length:this.numRows})]));const r=n.fields.slice(),a=r[t].clone({type:i.type}),o=this.schema.fields.map((c,u)=>this.getChildAt(u));[r[t],o[t]]=[a,i],[n,s]=Wu(n,o)}return new qt(n,s)}select(t){const i=this.schema.fields.reduce((n,s,r)=>n.set(s.name,r),new Map);return this.selectAt(t.map(n=>i.get(n)).filter(n=>n>-1))}selectAt(t){const i=this.schema.selectAt(t),n=this.batches.map(s=>s.selectAt(t));return new qt(i,n)}assign(t){const i=this.schema.fields,[n,s]=t.schema.fields.reduce((o,c,u)=>{const[l,p]=o,d=i.findIndex(y=>y.name===c.name);return~d?p[d]=u:l.push(u),o},[[],[]]),r=this.schema.assign(t.schema),a=[...i.map((o,c)=>[c,s[c]]).map(([o,c])=>c===void 0?this.getChildAt(o):t.getChildAt(c)),...n.map(o=>t.getChildAt(o))].filter(Boolean);return new qt(...Wu(r,a))}}my=Symbol.toStringTag;qt[my]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Os(hh),e.get=Os(Yt.getVisitFn(f.Struct)),e.set=Vm(be.getVisitFn(f.Struct)),e.indexOf=Um(Za.getVisitFn(f.Struct)),e.getByteLength=Os(Qe.getVisitFn(f.Struct)),"Table"))(qt.prototype);var yy;let oe=class Or{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof ct))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Dt({nullCount:0,type:new Mt(this.schema.fields),children:this.schema.fields.map(i=>Dt({type:i.type,nullCount:0}))})]=t,!(this.data instanceof ht))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=_d(this.schema,this.data.children);break}case 1:{const[i]=t,{fields:n,children:s,length:r}=Object.keys(i).reduce((c,u,l)=>(c.children[l]=i[u],c.length=Math.max(c.length,i[u].length),c.fields[l]=ot.new({name:u,type:i[u].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),a=new ct(n),o=Dt({type:new Mt(n),length:r,children:s,nullCount:0});[this.schema,this.data]=_d(a,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=gy(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Yt.visit(this.data,t)}set(t,i){return be.visit(this.data,t,i)}indexOf(t,i){return Za.visit(this.data,t,i)}getByteLength(t){return Qe.visit(this.data,t)}[Symbol.iterator](){return fh.visit(new rt([this.data]))}toArray(){return[...this]}concat(...t){return new qt(this.schema,[this,...t])}slice(t,i){const[n]=new rt([this.data]).slice(t,i).data;return new Or(this.schema,n)}getChild(t){var i;return this.getChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new rt([this.data.children[t]]):null}setChild(t,i){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),i)}setChildAt(t,i){let n=this.schema,s=this.data;if(t>-1&&t<this.numCols){i||(i=new rt([Dt({type:new hi,length:this.numRows})]));const r=n.fields.slice(),a=s.children.slice(),o=r[t].clone({type:i.type});[r[t],a[t]]=[o,i.data[0]],n=new ct(r,new Map(this.schema.metadata)),s=Dt({type:new Mt(r),children:a})}return new Or(n,s)}select(t){const i=this.schema.select(t),n=new Mt(i.fields),s=[];for(const r of t){const a=this.schema.fields.findIndex(o=>o.name===r);~a&&(s[a]=this.data.children[a])}return new Or(i,Dt({type:n,length:this.numRows,children:s}))}selectAt(t){const i=this.schema.selectAt(t),n=t.map(r=>this.data.children[r]).filter(Boolean),s=Dt({type:new Mt(i.fields),length:this.numRows,children:n});return new Or(i,s)}};yy=Symbol.toStringTag;oe[yy]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(oe.prototype);function _d(e,t,i=t.reduce((n,s)=>Math.max(n,s.length),0)){var n;const s=[...e.fields],r=[...t],a=(i+63&-64)>>3;for(const[o,c]of e.fields.entries()){const u=t[o];(!u||u.length!==i)&&(s[o]=c.clone({nullable:!0}),r[o]=(n=u==null?void 0:u._changeLengthAndBackfillNullBitmap(i))!==null&&n!==void 0?n:Dt({type:c.type,length:i,nullCount:i,nullBitmap:new Uint8Array(a)}))}return[e.assign(s),Dt({type:new Mt(s),length:i,children:r})]}function gy(e,t,i=new Map){for(let n=-1,s=e.length;++n<s;){const a=e[n].type,o=t[n];if(G.isDictionary(a)){if(!i.has(a.id))o.dictionary&&i.set(a.id,o.dictionary);else if(i.get(a.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&gy(a.children,o.children,i)}return i}class _b extends oe{constructor(t){const i=t.fields.map(s=>Dt({type:s.type})),n=Dt({type:new Mt(t.fields),nullCount:0,children:i});super(t,n)}}var oo;(function(e){e[e.BUFFER=0]="BUFFER"})(oo||(oo={}));var co;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(co||(co={}));class Oi{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsBodyCompression(t,i){return(i||new Oi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,i){return t.setPosition(t.position()+ft),(i||new Oi).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):co.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):oo.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,i){t.addFieldInt8(0,i,co.LZ4_FRAME)}static addMethod(t,i){t.addFieldInt8(1,i,oo.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,i,n){return Oi.startBodyCompression(t),Oi.addCodec(t,i),Oi.addMethod(t,n),Oi.endBodyCompression(t)}}class _y{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,i,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(i),t.offset()}}let by=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,i,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(i),t.offset()}},ii=class fl{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsRecordBatch(t,i){return(i||new fl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,i){return t.setPosition(t.position()+ft),(i||new fl).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,i){const n=this.bb.__offset(this.bb_pos,6);return n?(i||new by).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,i){const n=this.bb.__offset(this.bb_pos,8);return n?(i||new _y).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const i=this.bb.__offset(this.bb_pos,10);return i?(t||new Oi).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,i){t.addFieldInt64(0,i,t.createLong(0,0))}static addNodes(t,i){t.addFieldOffset(1,i,0)}static startNodesVector(t,i){t.startVector(16,i,8)}static addBuffers(t,i){t.addFieldOffset(2,i,0)}static startBuffersVector(t,i){t.startVector(16,i,8)}static addCompression(t,i){t.addFieldOffset(3,i,0)}static endRecordBatch(t){return t.endObject()}},xs=class dl{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsDictionaryBatch(t,i){return(i||new dl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,i){return t.setPosition(t.position()+ft),(i||new dl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new ii).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,i){t.addFieldInt64(0,i,t.createLong(0,0))}static addData(t,i){t.addFieldOffset(1,i,0)}static addIsDelta(t,i){t.addFieldInt8(2,+i,0)}static endDictionaryBatch(t){return t.endObject()}};var uo;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(uo||(uo={}));let Ti=class De{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsMessage(t,i){return(i||new De).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,i){return t.setPosition(t.position()+ft),(i||new De).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rs.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):uo.NONE}header(t){const i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__union(t,this.bb_pos+i):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,i){const n=this.bb.__offset(this.bb_pos,12);return n?(i||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,i){t.addFieldInt16(0,i,Rs.V1)}static addHeaderType(t,i){t.addFieldInt8(1,i,uo.NONE)}static addHeader(t,i){t.addFieldOffset(2,i,0)}static addBodyLength(t,i){t.addFieldInt64(3,i,t.createLong(0,0))}static addCustomMetadata(t,i){t.addFieldOffset(4,i,0)}static createCustomMetadataVector(t,i){t.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)t.addOffset(i[n]);return t.endVector()}static startCustomMetadataVector(t,i){t.startVector(4,i,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,i){t.finish(i)}static finishSizePrefixedMessageBuffer(t,i){t.finish(i,void 0,!0)}static createMessage(t,i,n,s,r,a){return De.startMessage(t),De.addVersion(t,i),De.addHeaderType(t,n),De.addHeader(t,s),De.addBodyLength(t,r),De.addCustomMetadata(t,a),De.endMessage(t)}};var bb=ci;class vb extends X{visit(t,i){return t==null||i==null?void 0:super.visit(t,i)}visitNull(t,i){return Nn.startNull(i),Nn.endNull(i)}visitInt(t,i){return ae.startInt(i),ae.addBitWidth(i,t.bitWidth),ae.addIsSigned(i,t.isSigned),ae.endInt(i)}visitFloat(t,i){return ze.startFloatingPoint(i),ze.addPrecision(i,t.precision),ze.endFloatingPoint(i)}visitBinary(t,i){return kn.startBinary(i),kn.endBinary(i)}visitBool(t,i){return On.startBool(i),On.endBool(i)}visitUtf8(t,i){return Ln.startUtf8(i),Ln.endUtf8(i)}visitDecimal(t,i){return zt.startDecimal(i),zt.addScale(i,t.scale),zt.addPrecision(i,t.precision),zt.addBitWidth(i,t.bitWidth),zt.endDecimal(i)}visitDate(t,i){return Va.startDate(i),Va.addUnit(i,t.unit),Va.endDate(i)}visitTime(t,i){return me.startTime(i),me.addUnit(i,t.unit),me.addBitWidth(i,t.bitWidth),me.endTime(i)}visitTimestamp(t,i){const n=t.timezone&&i.createString(t.timezone)||void 0;return ye.startTimestamp(i),ye.addUnit(i,t.unit),n!==void 0&&ye.addTimezone(i,n),ye.endTimestamp(i)}visitInterval(t,i){return We.startInterval(i),We.addUnit(i,t.unit),We.endInterval(i)}visitList(t,i){return Bn.startList(i),Bn.endList(i)}visitStruct(t,i){return Fn.startStruct_(i),Fn.endStruct_(i)}visitUnion(t,i){Wt.startTypeIdsVector(i,t.typeIds.length);const n=Wt.createTypeIdsVector(i,t.typeIds);return Wt.startUnion(i),Wt.addMode(i,t.mode),Wt.addTypeIds(i,n),Wt.endUnion(i)}visitDictionary(t,i){const n=this.visit(t.indices,i);return ai.startDictionaryEncoding(i),ai.addId(i,new bb(t.id,0)),ai.addIsOrdered(i,t.isOrdered),n!==void 0&&ai.addIndexType(i,n),ai.endDictionaryEncoding(i)}visitFixedSizeBinary(t,i){return $e.startFixedSizeBinary(i),$e.addByteWidth(i,t.byteWidth),$e.endFixedSizeBinary(i)}visitFixedSizeList(t,i){return je.startFixedSizeList(i),je.addListSize(i,t.listSize),je.endFixedSizeList(i)}visitMap(t,i){return Ua.startMap(i),Ua.addKeysSorted(i,t.keysSorted),Ua.endMap(i)}}const qu=new vb;function wb(e,t=new Map){return new ct(Sb(e,t),ja(e.customMetadata),t)}function vy(e){return new ue(e.count,wy(e.columns),xy(e.columns))}function xb(e){return new Ze(vy(e.data),e.id,e.isDelta)}function Sb(e,t){return(e.fields||[]).filter(Boolean).map(i=>ot.fromJSON(i,t))}function bd(e,t){return(e.children||[]).filter(Boolean).map(i=>ot.fromJSON(i,t))}function wy(e){return(e||[]).reduce((t,i)=>[...t,new Vn(i.count,Ib(i.VALIDITY)),...wy(i.children)],[])}function xy(e,t=[]){for(let i=-1,n=(e||[]).length;++i<n;){const s=e[i];s.VALIDITY&&t.push(new He(t.length,s.VALIDITY.length)),s.TYPE&&t.push(new He(t.length,s.TYPE.length)),s.OFFSET&&t.push(new He(t.length,s.OFFSET.length)),s.DATA&&t.push(new He(t.length,s.DATA.length)),t=xy(s.children,t)}return t}function Ib(e){return(e||[]).reduce((t,i)=>t+ +(i===0),0)}function Ab(e,t){let i,n,s,r,a,o;return!t||!(r=e.dictionary)?(a=wd(e,bd(e,t)),s=new ot(e.name,a,e.nullable,ja(e.customMetadata))):t.has(i=r.id)?(n=(n=r.indexType)?vd(n):new Fi,o=new Di(t.get(i),n,i,r.isOrdered),s=new ot(e.name,o,e.nullable,ja(e.customMetadata))):(n=(n=r.indexType)?vd(n):new Fi,t.set(i,a=wd(e,bd(e,t))),o=new Di(a,n,i,r.isOrdered),s=new ot(e.name,o,e.nullable,ja(e.customMetadata))),s||null}function ja(e){return new Map(Object.entries(e||{}))}function vd(e){return new Vt(e.isSigned,e.bitWidth)}function wd(e,t){const i=e.type.name;switch(i){case"NONE":return new hi;case"null":return new hi;case"binary":return new Rr;case"utf8":return new Ns;case"bool":return new Pr;case"list":return new Ds((t||[])[0]);case"struct":return new Mt(t||[]);case"struct_":return new Mt(t||[])}switch(i){case"int":{const n=e.type;return new Vt(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=e.type;return new Li(Nt[n.precision])}case"decimal":{const n=e.type;return new Ka(n.scale,n.precision,n.bitWidth)}case"date":{const n=e.type;return new Fs(Ke[n.unit])}case"time":{const n=e.type;return new fi(Z[n.unit],n.bitWidth)}case"timestamp":{const n=e.type;return new Ja(Z[n.unit],n.timezone)}case"interval":{const n=e.type;return new Ls(Je[n.unit])}case"union":{const n=e.type;return new Vr(_e[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=e.type;return new Qa(n.byteWidth)}case"fixedsizelist":{const n=e.type;return new Ms(n.listSize,(t||[])[0])}case"map":{const n=e.type;return new Ur((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var Rn=ci,Eb=Jm,Tb=to;class qe{constructor(t,i,n,s){this._version=i,this._headerType=n,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,i){const n=new qe(0,ce.V4,i);return n._createHeader=Cb(t,i),n}static decode(t){t=new Tb(ut(t));const i=Ti.getRootAsMessage(t),n=i.bodyLength(),s=i.version(),r=i.headerType(),a=new qe(n,s,r);return a._createHeader=kb(i,r),a}static encode(t){const i=new Eb;let n=-1;return t.isSchema()?n=ct.encode(i,t.header()):t.isRecordBatch()?n=ue.encode(i,t.header()):t.isDictionaryBatch()&&(n=Ze.encode(i,t.header())),Ti.startMessage(i),Ti.addVersion(i,ce.V4),Ti.addHeader(i,n),Ti.addHeaderType(i,t.headerType),Ti.addBodyLength(i,new Rn(t.bodyLength,0)),Ti.finishMessageBuffer(i,Ti.endMessage(i)),i.asUint8Array()}static from(t,i=0){if(t instanceof ct)return new qe(0,ce.V4,Ct.Schema,t);if(t instanceof ue)return new qe(i,ce.V4,Ct.RecordBatch,t);if(t instanceof Ze)return new qe(i,ce.V4,Ct.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ct.Schema}isRecordBatch(){return this.headerType===Ct.RecordBatch}isDictionaryBatch(){return this.headerType===Ct.DictionaryBatch}}class ue{constructor(t,i,n){this._nodes=i,this._buffers=n,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Ze{constructor(t,i,n=!1){this._data=t,this._isDelta=n,this._id=typeof i=="number"?i:i.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class He{constructor(t,i){this.offset=typeof t=="number"?t:t.low,this.length=typeof i=="number"?i:i.low}}class Vn{constructor(t,i){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof i=="number"?i:i.low}}function Cb(e,t){return()=>{switch(t){case Ct.Schema:return ct.fromJSON(e);case Ct.RecordBatch:return ue.fromJSON(e);case Ct.DictionaryBatch:return Ze.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Ct[t]}, type: ${t} }`)}}function kb(e,t){return()=>{switch(t){case Ct.Schema:return ct.decode(e.header(new Re));case Ct.RecordBatch:return ue.decode(e.header(new ii),e.version());case Ct.DictionaryBatch:return Ze.decode(e.header(new xs),e.version())}throw new Error(`Unrecognized Message type: { name: ${Ct[t]}, type: ${t} }`)}}ot.encode=Ub;ot.decode=Pb;ot.fromJSON=Ab;ct.encode=Vb;ct.decode=Ob;ct.fromJSON=wb;ue.encode=$b;ue.decode=Bb;ue.fromJSON=vy;Ze.encode=jb;Ze.decode=Nb;Ze.fromJSON=xb;Vn.encode=zb;Vn.decode=Lb;He.encode=Wb;He.decode=Fb;function Ob(e,t=new Map){const i=Rb(e,t);return new ct(i,za(e),t)}function Bb(e,t=ce.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new ue(e.length(),Db(e),Mb(e,t))}function Nb(e,t=ce.V4){return new Ze(ue.decode(e.data(),t),e.id(),e.isDelta())}function Fb(e){return new He(e.offset(),e.length())}function Lb(e){return new Vn(e.length(),e.nullCount())}function Db(e){const t=[];for(let i,n=-1,s=-1,r=e.nodesLength();++n<r;)(i=e.nodes(n))&&(t[++s]=Vn.decode(i));return t}function Mb(e,t){const i=[];for(let n,s=-1,r=-1,a=e.buffersLength();++s<a;)(n=e.buffers(s))&&(t<ce.V4&&(n.bb_pos+=8*(s+1)),i[++r]=He.decode(n));return i}function Rb(e,t){const i=[];for(let n,s=-1,r=-1,a=e.fieldsLength();++s<a;)(n=e.fields(s))&&(i[++r]=ot.decode(n,t));return i}function xd(e,t){const i=[];for(let n,s=-1,r=-1,a=e.childrenLength();++s<a;)(n=e.children(s))&&(i[++r]=ot.decode(n,t));return i}function Pb(e,t){let i,n,s,r,a,o;return!t||!(o=e.dictionary())?(s=Id(e,xd(e,t)),n=new ot(e.name(),s,e.nullable(),za(e))):t.has(i=o.id().low)?(r=(r=o.indexType())?Sd(r):new Fi,a=new Di(t.get(i),r,i,o.isOrdered()),n=new ot(e.name(),a,e.nullable(),za(e))):(r=(r=o.indexType())?Sd(r):new Fi,t.set(i,s=Id(e,xd(e,t))),a=new Di(s,r,i,o.isOrdered()),n=new ot(e.name(),a,e.nullable(),za(e))),n||null}function za(e){const t=new Map;if(e)for(let i,n,s=-1,r=Math.trunc(e.customMetadataLength());++s<r;)(i=e.customMetadata(s))&&(n=i.key())!=null&&t.set(n,i.value());return t}function Sd(e){return new Vt(e.isSigned(),e.bitWidth())}function Id(e,t){const i=e.typeType();switch(i){case gt.NONE:return new hi;case gt.Null:return new hi;case gt.Binary:return new Rr;case gt.Utf8:return new Ns;case gt.Bool:return new Pr;case gt.List:return new Ds((t||[])[0]);case gt.Struct_:return new Mt(t||[])}switch(i){case gt.Int:{const n=e.type(new ae);return new Vt(n.isSigned(),n.bitWidth())}case gt.FloatingPoint:{const n=e.type(new ze);return new Li(n.precision())}case gt.Decimal:{const n=e.type(new zt);return new Ka(n.scale(),n.precision(),n.bitWidth())}case gt.Date:{const n=e.type(new Va);return new Fs(n.unit())}case gt.Time:{const n=e.type(new me);return new fi(n.unit(),n.bitWidth())}case gt.Timestamp:{const n=e.type(new ye);return new Ja(n.unit(),n.timezone())}case gt.Interval:{const n=e.type(new We);return new Ls(n.unit())}case gt.Union:{const n=e.type(new Wt);return new Vr(n.mode(),n.typeIdsArray()||[],t||[])}case gt.FixedSizeBinary:{const n=e.type(new $e);return new Qa(n.byteWidth())}case gt.FixedSizeList:{const n=e.type(new je);return new Ms(n.listSize(),(t||[])[0])}case gt.Map:{const n=e.type(new Ua);return new Ur((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${gt[i]}" (${i})`)}function Vb(e,t){const i=t.fields.map(r=>ot.encode(e,r));Re.startFieldsVector(e,i.length);const n=Re.createFieldsVector(e,i),s=t.metadata&&t.metadata.size>0?Re.createCustomMetadataVector(e,[...t.metadata].map(([r,a])=>{const o=e.createString(`${r}`),c=e.createString(`${a}`);return It.startKeyValue(e),It.addKey(e,o),It.addValue(e,c),It.endKeyValue(e)})):-1;return Re.startSchema(e),Re.addFields(e,n),Re.addEndianness(e,qb?Ps.Little:Ps.Big),s!==-1&&Re.addCustomMetadata(e,s),Re.endSchema(e)}function Ub(e,t){let i=-1,n=-1,s=-1;const r=t.type;let a=t.typeId;G.isDictionary(r)?(a=r.dictionary.typeId,s=qu.visit(r,e),n=qu.visit(r.dictionary,e)):n=qu.visit(r,e);const o=(r.children||[]).map(l=>ot.encode(e,l)),c=de.createChildrenVector(e,o),u=t.metadata&&t.metadata.size>0?de.createCustomMetadataVector(e,[...t.metadata].map(([l,p])=>{const d=e.createString(`${l}`),y=e.createString(`${p}`);return It.startKeyValue(e),It.addKey(e,d),It.addValue(e,y),It.endKeyValue(e)})):-1;return t.name&&(i=e.createString(t.name)),de.startField(e),de.addType(e,n),de.addTypeType(e,a),de.addChildren(e,c),de.addNullable(e,!!t.nullable),i!==-1&&de.addName(e,i),s!==-1&&de.addDictionary(e,s),u!==-1&&de.addCustomMetadata(e,u),de.endField(e)}function $b(e,t){const i=t.nodes||[],n=t.buffers||[];ii.startNodesVector(e,i.length);for(const a of i.slice().reverse())Vn.encode(e,a);const s=e.endVector();ii.startBuffersVector(e,n.length);for(const a of n.slice().reverse())He.encode(e,a);const r=e.endVector();return ii.startRecordBatch(e),ii.addLength(e,new Rn(t.length,0)),ii.addNodes(e,s),ii.addBuffers(e,r),ii.endRecordBatch(e)}function jb(e,t){const i=ue.encode(e,t.data);return xs.startDictionaryBatch(e),xs.addId(e,new Rn(t.id,0)),xs.addIsDelta(e,t.isDelta),xs.addData(e,i),xs.endDictionaryBatch(e)}function zb(e,t){return by.createFieldNode(e,new Rn(t.length,0),new Rn(t.nullCount,0))}function Wb(e,t){return _y.createBuffer(e,new Rn(t.offset,0),new Rn(t.length,0))}const qb=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),pl="ARROW1",gh=new Uint8Array(pl.length);for(let e=0;e<pl.length;e+=1)gh[e]=pl.codePointAt(e);gh.length;class xt extends X{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const i=s=>s.flatMap(r=>Array.isArray(r)?i(r):r instanceof oe?r.data.children:r.data),n=new xt;return n.visitMany(i(t)),n}visit(t){if(t instanceof rt)return this.visitMany(t.data),this;const{type:i}=t;if(!G.isDictionary(i)){const{length:n,nullCount:s}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");G.isNull(i)||ke.call(this,s<=0?new Uint8Array(0):ch(t.offset,n,t.nullBitmap)),this.nodes.push(new Vn(n,s))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ke(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new He(this._byteLength,t)),this._byteLength+=t,this}function Hb(e){const{type:t,length:i,typeIds:n,valueOffsets:s}=e;if(ke.call(this,n),t.mode===_e.Sparse)return ml.call(this,e);if(t.mode===_e.Dense){if(e.offset<=0)return ke.call(this,s),ml.call(this,e);{const r=n.reduce((l,p)=>Math.max(l,p),n[0]),a=new Int32Array(r+1),o=new Int32Array(r+1).fill(-1),c=new Int32Array(i),u=Dl(-s[0],i,s);for(let l,p,d=-1;++d<i;)(p=o[l=n[d]])===-1&&(p=o[l]=u[l]),c[d]=u[d]-p,++a[l];ke.call(this,c);for(let l,p=-1,d=t.children.length;++p<d;)if(l=e.children[p]){const y=t.typeIds[p],g=Math.min(i,a[y]);this.visit(l.slice(o[y],g))}}}return this}function Yb(e){let t;return e.nullCount>=e.length?ke.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?ke.call(this,ch(e.offset,e.length,t)):ke.call(this,Dm(e.values))}function qi(e){return ke.call(this,e.values.subarray(0,e.length*e.stride))}function Sy(e){const{length:t,values:i,valueOffsets:n}=e,s=n[0],r=n[t],a=Math.min(r-s,i.byteLength-s);return ke.call(this,Dl(-n[0],t,n)),ke.call(this,i.subarray(s,s+a)),this}function _h(e){const{length:t,valueOffsets:i}=e;return i&&ke.call(this,Dl(i[0],t,i)),this.visit(e.children[0])}function ml(e){return this.visitMany(e.type.children.map((t,i)=>e.children[i]).filter(Boolean))[0]}xt.prototype.visitBool=Yb;xt.prototype.visitInt=qi;xt.prototype.visitFloat=qi;xt.prototype.visitUtf8=Sy;xt.prototype.visitBinary=Sy;xt.prototype.visitFixedSizeBinary=qi;xt.prototype.visitDate=qi;xt.prototype.visitTimestamp=qi;xt.prototype.visitTime=qi;xt.prototype.visitDecimal=qi;xt.prototype.visitList=_h;xt.prototype.visitStruct=ml;xt.prototype.visitUnion=Hb;xt.prototype.visitInterval=qi;xt.prototype.visitFixedSizeList=_h;xt.prototype.visitMap=_h;class Iy extends Zm{constructor(t){super(),this._position=0,this._started=!1,this._sink=new zu,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,$i(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,i){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return bo(t)?t.then(i=>this.writeAll(i)):vo(t)?xh(this,t):wh(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,i=null){return t===this._sink||t instanceof zu?this._sink=t:(this._sink=new zu,t&&e_(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&i_(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!i||!hl(i,this._schema))&&(i==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=i,this._writeSchema(i))),this}write(t){let i=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof qt&&!(i=t.schema))return this.finish()&&void 0;if(t instanceof oe&&!(i=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(i&&!hl(i,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,i)}t instanceof oe?t instanceof _b||this._writeRecordBatch(t):t instanceof qt?this.writeAll(t.batches):Fl(t)&&this.writeAll(t)}_writeMessage(t,i=8){const n=i-1,s=qe.encode(t),r=s.byteLength,a=this._writeLegacyIpcFormat?4:8,o=r+a+n&~n,c=o-r-a;return t.headerType===Ct.RecordBatch?this._recordBatchBlocks.push(new Mi(o,t.bodyLength,this._position)):t.headerType===Ct.DictionaryBatch&&this._dictionaryBlocks.push(new Mi(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-a)),r>0&&this._write(s),this._writePadding(c)}_write(t){if(this._started){const i=ut(t);i&&i.byteLength>0&&(this._sink.write(i),this._position+=i.byteLength)}return this}_writeSchema(t){return this._writeMessage(qe.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(gh)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:i,nodes:n,bufferRegions:s,buffers:r}=xt.assemble(t),a=new ue(t.numRows,n,s),o=qe.from(a,i);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,i,n=!1){this._dictionaryDeltaOffsets.set(i,t.length+(this._dictionaryDeltaOffsets.get(i)||0));const{byteLength:s,nodes:r,bufferRegions:a,buffers:o}=xt.assemble(new rt([t])),c=new ue(t.length,r,a),u=new Ze(c,i,n),l=qe.from(u,s);return this._writeMessage(l)._writeBodyBuffers(o)}_writeBodyBuffers(t){let i,n,s;for(let r=-1,a=t.length;++r<a;)(i=t[r])&&(n=i.byteLength)>0&&(this._write(i),(s=(n+7&-8)-n)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[i,n]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(i)||0;if(s===0||(n=n==null?void 0:n.slice(s)).length>0)for(const r of n.data)this._writeDictionaryBatch(r,i,s>0),s+=r.length}return this}}class bh extends Iy{static writeAll(t,i){const n=new bh(i);return bo(t)?t.then(s=>n.writeAll(s)):vo(t)?xh(n,t):wh(n,t)}}class vh extends Iy{static writeAll(t){const i=new vh;return bo(t)?t.then(n=>i.writeAll(n)):vo(t)?xh(i,t):wh(i,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const i=ll.encode(new ll(t,ce.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}}function wh(e,t){let i=t;t instanceof qt&&(i=t.batches,e.reset(void 0,t.schema));for(const n of i)e.write(n);return e.finish()}function xh(e,t){var i,n,s,r;return si(this,void 0,void 0,function*(){try{for(i=Nr(t);n=yield i.next(),!n.done;){const a=n.value;e.write(a)}}catch(a){s={error:a}}finally{try{n&&!n.done&&(r=i.return)&&(yield r.call(i))}finally{if(s)throw s.error}}return e.finish()})}function Gb(e,t="stream"){return(t==="stream"?bh:vh).writeAll(e).toUint8Array(!0)}function Sh(e,t=1){return(e*t+63&-64||64)/t}function Pi(e,t,i=e.BYTES_PER_ELEMENT){return new e(Sh(t,i))}function Ih(e){return e instanceof ht?e:new ht(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function Kb(e){return new rt([Ih(e)])}const Ah=new TextEncoder;function Jb(e,t,i){const n=Ah.encode(i);return e.set(n,t),n.length}function Qb(e,t,i){return Ah.encodeInto(i,e.subarray(t)).written}const Zb=Ah.encodeInto?Qb:Jb;function Ad(e,t){const i=Pi(e.ArrayType,t);return{set(n,s){i[s]=n},data:()=>({type:e,length:t,buffers:[null,i]})}}function Xb(e,t){const i=Pi(e.ArrayType,t/8);return{set(n,s){n&&(i[s>>3]|=1<<s%8)},data:()=>({type:e,length:t,buffers:[null,i]})}}function tv(e,t){const i=Pi(e.ArrayType,t);return{set(n,s){i[s]=n/864e5|0},data:()=>({type:e,length:t,buffers:[null,i]})}}function ev(e,t){const i=Pi(e.ArrayType,t<<1);return{set(n,s){const r=s<<1;i[r]=n%4294967296|0,i[r+1]=n/4294967296|0},data:()=>({type:e,length:t,buffers:[null,i]})}}function iv(e){const t=ao({type:e,nullValues:[null,void 0]});return{set(i,n){t.set(n,i)},data:()=>t.finish().flush()}}function nv(e,t,i){const n=Pi(Int32Array,t+1),s=Pi(Uint8Array,3*i);let r=0;return{set(a,o){r+=Zb(s,r,a),n[o+1]=r},data:()=>{const a=Sh(r),o=s.length>a?s.subarray(0,a):s;return{type:e,length:t,buffers:[n,o]}}}}function sv(e,t){const i=[],n=Pi(e.indices.ArrayType,t),s=Object.create(null);let r=-1,a=0;return{set(o,c){const u=String(o);let l=s[u];l===void 0&&(a+=u.length,s[u]=l=++r,i.push(u)),n[c]=l},data:()=>({type:e,length:t,buffers:[null,n],dict:rv(e.dictionary,i,a)})}}function rv(e,t,i){const n=nv(e,t.length,i);return t.forEach(n.set),Kb(n.data())}function av(e,t){const i=Pi(Uint8Array,t/8);let n=0;return{set(s,r){s==null?++n:(e.set(s,r),i[r>>3]|=1<<r%8)},data:()=>{const s=e.data();return n&&(s.nulls=n,s.buffers[2]=i),s}}}function ov(e,t,i=!0){let n;switch(e.typeId){case f.Int:n=e.bitWidth<64?Ad:null;break;case f.Float:n=e.precision>0?Ad:null;break;case f.Dictionary:n=e.dictionary.typeId===f.Utf8&&e.indices.typeId===f.Int&&e.indices.bitWidth<64?sv:null;break;case f.Bool:n=Xb;break;case f.Date:n=e.unit?ev:tv;break}return n==null?iv(e):i?av(n(e,t),t):n(e,t)}function cv(e,t){const i=e.length,n=Sh(i,e.BYTES_PER_ELEMENT);let s=e;return i!==n&&(s=new e.constructor(n),s.set(e)),Ih({type:t,length:i,buffers:[null,s]})}function Ay(e,t,i,n,s=!0){const r=ov(n,e,s);return t(i,r.set),Ih(r.data())}function Eh(e){if(e instanceof G||e==null)return e;switch(e){case f.Binary:return new Rr;case f.Bool:return new Pr;case f.DateDay:return new y_;case f.DateMillisecond:case f.Date:return new g_;case f.Dictionary:return new Di(new Ns,new Fi);case f.Float16:return new im;case f.Float32:return new Wl;case f.Float64:case f.Float:return new ql;case f.Int8:return new Rl;case f.Int16:return new Pl;case f.Int32:case f.Int:return new Fi;case f.Int64:return new Vl;case f.IntervalDayTime:return new x_;case f.Interval:case f.IntervalYearMonth:return new S_;case f.Null:return new hi;case f.TimeMicrosecond:return new v_;case f.TimeMillisecond:case f.Time:return new b_;case f.TimeNanosecond:return new w_;case f.TimeSecond:return new __;case f.Uint8:return new Ul;case f.Uint16:return new $l;case f.Uint32:return new jl;case f.Uint64:return new zl;case f.Utf8:return new Ns;default:j(`Unsupported type code: ${Ye(e)}. Use a data type constructor instead?`)}}function uv(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Ey(e,t){const i=yl();return e(t,i.add),i}function yl(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const i=typeof t;if(i==="string")++e.strings;else if(i==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(i==="boolean")++e.bools;else if(i==="object")if(li(t))++e.dates,uv(t)&&++e.utcdays;else if(Tn(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const n=e.array_prof||(e.array_prof=yl());t.forEach(n.add)}else{++e.structs;const n=e.struct_prof||(e.struct_prof={});for(const s in t)(n[s]||(n[s]=yl())).add(t[s])}else i==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return Eh(lv(e))}};return e}function lv(e){const t=e.count-e.nulls;if(t===0)return f.Null;if(e.ints===t){const i=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?i>=2**31?f.Float64:i<1<<7?f.Int8:i<1<<15?f.Int16:f.Int32:i>=2**32?f.Float64:i<1<<8?f.Uint8:i<1<<16?f.Uint16:f.Uint32}else{if(e.nums===t)return f.Float64;if(e.bigints===t){const i=-e.min>e.max?-e.min-1n:e.max;return e.min<0?i<2**63?f.Int64:j(`BigInt exceeds 64 bits: ${i}`):e.max<2**64?f.Uint64:j(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return f.Bool;if(e.utcdays===t)return f.DateDay;if(e.dates===t)return f.DateMillisecond;if(e.arrays===t){const i=ot.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new Ms(e.minlen,i):new Ds(i)}else if(e.structs===t){const i=e.struct_prof;return new Mt(Object.keys(i).map(n=>ot.new(n,i[n].type(),!0)))}else{if(e.strings>0)return f.Dictionary;j("Type inference failure")}}}}function hv(e,t,i,n,s,r=!0){if(s=Eh(s),!s){const a=Ey(n,t);r=a.nulls>0,s=a.type()}return Ay(i,n,t,s,r)}function fv(e,t,i,n,s,r=!0){s=Eh(s);const a=e.column(t),o=!(e.isFiltered()||e.isOrdered()),c=dv(a);if(c&&o&&Ed(c.type,s))return c;const u=a.data;if(Gr(u)){const l=pv(u);if(o&&l&&Ed(l,s))return cv(u,l);s=s||l,r=!1}if(!s){const l=Ey(n,a);r=l.nulls>0,s=l.type()}return Ay(i,n,a,s,r)}function dv(e){return e instanceof rt?e:e.vector instanceof rt?e.vector:null}function pv(e){const i={Float32Array:Wl,Float64Array:ql,Int8Array:Rl,Int16Array:Pl,Int32Array:Fi,Uint8Array:Ul,Uint16Array:$l,Uint32Array:jl,BigInt64Array:Vl,BigUint64Array:zl}[e.constructor.name];return i?new i:null}function Ed(e,t){return!e||!t?!0:e.compareTo(t)}function mv(e,t,i){const n=Math.min(e.length,i+t);return(s,r)=>{for(let a=i;a<n;++a)r(e[a][s],a)}}function yv(e,t,i){const n=i===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(s,r)=>{let a=-1;n&&Tn(s.data)?s.data.forEach(r):e.scan(o=>r(s.get(o),++a),!0,t,i)}}const gv=()=>j("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function _v(){try{return qt}catch{gv()}}function Ty(e,t={}){const{types:i={}}=t,{dataFrom:n,names:s,nrows:r,scan:a}=bv(e,t),o={};s.forEach(u=>{const l=n(e,u,r,a,i[u]);l.length!==r&&j("Column length mismatch"),o[u]=l});const c=_v();return new c(o)}function bv(e,t){const{columns:i,limit:n=1/0,offset:s=0}=t,r=pt(i)?i(e):st(i)?i:null;if(st(e))return{dataFrom:hv,names:r||Object.keys(e[0]),nrows:Math.min(n,e.length-s),scan:mv(e,n,s)};if(vv(e))return{dataFrom:fv,names:r||e.columnNames(),nrows:Math.min(n,e.numRows()-s),scan:yv(e,n,s)};j("Unsupported input data type")}function vv(e){return e&&pt(e.reify)}function wv(e,t){return Gb(Ty(e,t))}function xv(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Sv(e,t={}){let i=0,n=0,s=0,r=0,a=0,o=0;return e(c=>{if(++i,c==null){++n;return}const u=typeof c;if(u==="object"&&li(c))++s,xv(c)&&++r;else if(u==="number"&&(++a,c===c&&(c|0)!==c)){const l=c+"",p=l.indexOf(".");if(p>=0){const d=l.indexOf("e"),y=d>0?d:l.length;o=Math.max(o,y-p-1)}}}),{align:(n+a+s)/i>.5?"r":"l",format:{utc:s===r,digits:Math.min(o,t.maxdigits||6)}}}function ko(e,t){return pt(t)?t(e):t||e.columnNames()}function Cy(e,t,i){const n=i.format||{},s=i.align||{},r={},a={};return t.forEach(o=>{const c=Sv(Iv(e,o),i);a[o]=s[o]||c.align,r[o]=n[o]||c.format}),{align:a,format:r}}function Iv(e,t){const i=e.column(t);return n=>e.scan(s=>n(i.get(s)))}function Th(e,t,i=100,n,s){const r=e.data(),a=t.length;e.scan(o=>{s.row(o);for(let c=0;c<a;++c){const u=t[c];s.cell(r[t[c]].get(o),u,c)}},!0,i,n)}function Av(e,t={}){const i=ko(e,t.columns),n=t.format||{},s=t.delimiter||",",r=new RegExp(`["${s}
\r]`),a=u=>u==null?"":li(u)?go(u,!0):r.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u,o=i.map(a);let c="";return Th(e,i,t.limit||1/0,t.offset,{row(){c+=o.join(s)+`
`},cell(u,l,p){o[p]=a(n[l]?n[l](u):u)}}),c+o.join(s)}function ky(e,t={}){if(pt(t))return t(e)+"";const i=typeof e;if(i==="object"){if(li(e))return t.utc?go(e):rp(e);{const n=JSON.stringify(e,(r,a)=>Gr(a)?Array.from(a):a),s=t.maxlen||30;return n.length>s?n.slice(0,28)+""+(n[0]==="["?"]":"}"):n}}else if(i==="number"){const n=t.digits||0;let s;return e!==0&&((s=Math.abs(e))>=1e18||s<Math.pow(10,-n))?e.toExponential(n):e.toFixed(n)}else return e+""}function Oo(e,t,i={}){for(const n in e)i[n]=t(e[n],n);return i}function Ev(e,t={}){const i=ko(e,t.columns),{align:n,format:s}=Cy(e,i,t),r=Tv(t),a=t.null,o=_=>_==="c"?"center":_==="r"?"right":"left",c=_=>_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(_,S)=>c(ky(_,S)),l=a?(_,S)=>_==null?a(_):u(_,S):u;let p=-1,d=-1;const y=(_,S,C)=>{const H=C?o(n[S]):"",yt=r[_]&&r[_](S,d,p)||"",k=(H?`text-align: ${H};`+(yt?" ":""):"")+yt;return`<${_}${k?` style="${k}"`:""}>`};let g=y("table")+y("thead")+y("tr",p)+i.map(_=>`${y("th",_,1)}${_}</th>`).join("")+"</tr></thead>"+y("tbody");return Th(e,i,t.limit,t.offset,{row(_){p=_,g+=(++d?"</tr>":"")+y("tr")},cell(_,S){g+=y("td",S,1)+l(_,s[S])+"</td>"}}),g+"</tr></tbody></table>"}function Tv(e){return Oo(e.style,t=>pt(t)?t:()=>t)}function Cv(e,t=!0,i=!1){return e===void 0||e?t:i}const kv=e=>li(e)?go(e,!0):e;function Ov(e,t={}){const i=Cv(t.schema),n=t.format||{},s=ko(e,t.columns);let r="{";return i&&(r+='"schema":{"fields":'+JSON.stringify(s.map(a=>({name:a})))+'},"data":{'),s.forEach((a,o)=>{r+=(o?",":"")+JSON.stringify(a)+":[";const c=e.column(a),u=n[a]||kv;let l=-1;e.scan(p=>{const d=c.get(p);r+=(++l?",":"")+JSON.stringify(u(d))},!0,t.limit,t.offset),r+="]"}),r+"}"+(i?"}":"")}function Bv(e,t={}){const i=ko(e,t.columns),{align:n,format:s}=Cy(e,i,t),r=c=>c==="c"?":-:":c==="r"?"-:":":-",a=c=>c.replace(/\|/g,"\\|");let o="|"+i.map(a).join("|")+`|
|`+i.map(c=>r(n[c])).join("|")+"|";return Th(e,i,t.limit,t.offset,{row(){o+=`
|`},cell(c,u){o+=a(ky(c,s[u]))+"|"}}),o+`
`}function Oy(e,t){for(const[i,n]of _o(t))e.set(i,n);return e}function Nv(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function di(e,t,i=new Map){return t=Pt(t)?e.columnName(t):t,Ft(t)?i.set(t,t):st(t)?t.forEach(n=>di(e,n,i)):pt(t)?di(e,t(e),i):Rt(t)?Oy(i,t):j(`Invalid column selection: ${Ye(t)}`),i}function Bo(e,t){return e.toObject=t,e}function By(e){return st(e)?e.map(By):e&&e.toObject?e.toObject():e}function Us(){return Bo(e=>e.columnNames(),()=>({all:[]}))}function Ny(...e){return e=e.flat(),Bo(t=>{const i=di(t,e);return t.columnNames(n=>!i.has(n))},()=>({not:By(e)}))}function Fv(e,t){return Bo(i=>{let n=Pt(e)?e:i.columnIndex(e),s=Pt(t)?t:i.columnIndex(t);if(s<n){const r=s;s=n,n=r}return i.columnNames().slice(n,s+1)},()=>({range:[e,t]}))}function Lv(e){return Ft(e)&&(e=RegExp(Nv(e))),Bo(t=>t.columnNames(i=>e.test(i)),()=>({matches:[e.source,e.flags]}))}function Dv(e){return Gr(e.data)?e.data.constructor:Array}class oi extends eg{static from(t,i){return new oi(sg(t,i),i)}static new(t,i){if(t instanceof oi)return t;const n={},s=[];for(const[r,a]of _o(t))n[r]=a,s.push(r);return new oi(n,i||s)}constructor(t,i,n,s,r,a){Oo(t,ng,t),i=i||Object.keys(t);const o=i.length?t[i[0]].length:0;super(i,o,t,n,s,r,a)}create({data:t,names:i,filter:n,groups:s,order:r}){const a=n!==void 0?n:this.mask();return new oi(t||this._data,i||(t?null:this._names),a,s!==void 0?s:Ng(this._group,n&&a),r!==void 0?r:this._order,this._params)}assign(...t){const i=this.numRows(),n=this.reify(),s=le(n).groupby(n.groups());return t.forEach(r=>{r=oi.new(r),r.numRows()!==i&&j("Assign row counts do not match"),r=r.reify(),r.columnNames(a=>s.add(a,r.column(a)))}),this.create(s.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,i=Array){const n=this.column(t),s=new i(this.numRows());let r=-1;return this.scan(a=>s[++r]=n.get(a),!0),s}get(t,i=0){const n=this.column(t);return this.isFiltered()||this.isOrdered()?n.get(this.indices()[i]):n.get(i)}getter(t){const i=this.column(t),n=this.isFiltered()||this.isOrdered()?this.indices():null;return n?s=>i.get(n[s]):i?s=>i.get(s):j(`Unrecognized column: ${t}`)}object(t=0){return Td(this)(t)}objects(t={}){const{grouped:i,limit:n,offset:s}=t,r=di(this,t.columns||Us()),a=Bp(r),o=[];if(this.scan((c,u)=>o.push(a(c,u)),!0,n,s),i&&this.isGrouped()){const c=[];return this.scan(u=>c.push(u),!0,n,s),Lg(this,c,o,i)}return o}*[Symbol.iterator](){const t=Td(this),i=this.numRows();for(let n=0;n<i;++n)yield t(n)}reify(t){const i=t?t.length:this.numRows(),n=this._names;let s,r;if(!t&&!this.isOrdered())if(this.isFiltered())i===this.totalRows()&&(s=this.data());else return this;if(!s){const a=t?c=>t.forEach(c):c=>this.scan(c,!0),o=n.length;s={};for(let c=0;c<o;++c){const u=n[c],l=this.column(u),p=s[u]=new(Dv(l))(i);let d=-1;a(y=>p[++d]=l.get(y))}this.isGrouped()&&(r=Fg(this.groups(),a,!!t,i))}return this.create({data:s,names:n,groups:r,filter:null,order:null})}transform(...t){return t.flat().reduce((i,n)=>n(i),this)}toArrow(t){return Ty(this,t)}toArrowBuffer(t){return wv(this,t)}toCSV(t){return Av(this,t)}toHTML(t){return Ev(this,t)}toJSON(t){return Ov(this,t)}toMarkdown(t){return Bv(this,t)}}function Td(e){let t=e._builder;if(!t){const i=Bp(e.columnNames()),n=e.data();if(e.isOrdered()||e.isFiltered()){const s=e.indices();t=r=>i(s[r],n)}else t=s=>i(s,n);e._builder=t}return t}class Mv{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function it(e,t,i,n){const s=i[e.type]||i.Default;if(s&&s(e,t,n)===!1)return;const r=Rv[e.type];r&&r(e,t,i)}const La=(e,t,i)=>{it(e.argument,t,i,e)},Hu=(e,t,i)=>{it(e.left,t,i,e),it(e.right,t,i,e)},Cd=(e,t,i)=>{it(e.test,t,i,e),it(e.consequent,t,i,e),e.alternate&&it(e.alternate,t,i,e)},Yu=(e,t,i)=>{Pe(e.params,t,i,e),it(e.body,t,i,e)},kd=(e,t,i)=>{it(e.callee,t,i,e),Pe(e.arguments,t,i,e)},Pe=(e,t,i,n)=>{e.forEach(s=>it(s,t,i,n))},Rv={TemplateLiteral:(e,t,i)=>{Pe(e.expressions,t,i,e),Pe(e.quasis,t,i,e)},MemberExpression:(e,t,i)=>{it(e.object,t,i,e),it(e.property,t,i,e)},CallExpression:kd,NewExpression:kd,ArrayExpression:(e,t,i)=>{Pe(e.elements,t,i,e)},AssignmentExpression:Hu,AwaitExpression:La,BinaryExpression:Hu,LogicalExpression:Hu,UnaryExpression:La,UpdateExpression:La,ConditionalExpression:Cd,ObjectExpression:(e,t,i)=>{Pe(e.properties,t,i,e)},Property:(e,t,i)=>{it(e.key,t,i,e),it(e.value,t,i,e)},ArrowFunctionExpression:Yu,FunctionExpression:Yu,FunctionDeclaration:Yu,VariableDeclaration:(e,t,i)=>{Pe(e.declarations,t,i,e)},VariableDeclarator:(e,t,i)=>{it(e.id,t,i,e),it(e.init,t,i,e)},SpreadElement:(e,t,i)=>{it(e.argument,t,i,e)},BlockStatement:(e,t,i)=>{Pe(e.body,t,i,e)},ExpressionStatement:(e,t,i)=>{it(e.expression,t,i,e)},IfStatement:Cd,ForStatement:(e,t,i)=>{it(e.init,t,i,e),it(e.test,t,i,e),it(e.update,t,i,e),it(e.body,t,i,e)},WhileStatement:(e,t,i)=>{it(e.test,t,i,e),it(e.body,t,i,e)},DoWhileStatement:(e,t,i)=>{it(e.body,t,i,e),it(e.test,t,i,e)},SwitchStatement:(e,t,i)=>{it(e.discriminant,t,i,e),Pe(e.cases,t,i,e)},SwitchCase:(e,t,i)=>{e.test&&it(e.test,t,i,e),Pe(e.consequent,t,i,e)},ReturnStatement:La,Program:(e,t,i)=>{it(e.body[0],t,i,e)}};function Fy(e){delete e.start,delete e.end,delete e.optional}function Od(e){Fy(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Pv(e){return it(e,null,{Column:Od,Constant:Od,Default:Fy}),e}function At(e,t){return t&&t.type===e}function Vv(e){return At(Rg,e)||At(Mg,e)}function Uv(e){return pt(e)?e:()=>e}const $v="Escaped functions are not valid as rollup or pivot values.";function jv(e,t,i){e.aggronly&&j($v);const n="(row,data)=>fn("+Op(e.table.columnNames())+",$)";return{escape:Ol.escape(n,Uv(t.expr),i)}}var zv=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ly=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],Wv="-----------------------------------------------------------------------------------------------------------------------------------------------------",Dy="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Gu={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Ku="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",qv={5:Ku,"5module":Ku+" export import",6:Ku+" const class extends export import super"},Hv=/^in(stanceof)?$/,Yv=new RegExp("["+Dy+"]"),Gv=new RegExp("["+Dy+Wv+"]");function gl(e,t){for(var i=65536,n=0;n<t.length;n+=2){if(i+=t[n],i>e)return!1;if(i+=t[n+1],i>=e)return!0}return!1}function pi(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Yv.test(String.fromCharCode(e)):t===!1?!1:gl(e,Ly)}function $s(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Gv.test(String.fromCharCode(e)):t===!1?!1:gl(e,Ly)||gl(e,zv)}var et=function(t,i){i===void 0&&(i={}),this.label=t,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null};function he(e,t){return new et(e,{beforeExpr:!0,binop:t})}var fe={beforeExpr:!0},$t={startsExpr:!0},Ch={};function J(e,t){return t===void 0&&(t={}),t.keyword=e,Ch[e]=new et(e,t)}var h={num:new et("num",$t),regexp:new et("regexp",$t),string:new et("string",$t),name:new et("name",$t),privateId:new et("privateId",$t),eof:new et("eof"),bracketL:new et("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new et("]"),braceL:new et("{",{beforeExpr:!0,startsExpr:!0}),braceR:new et("}"),parenL:new et("(",{beforeExpr:!0,startsExpr:!0}),parenR:new et(")"),comma:new et(",",fe),semi:new et(";",fe),colon:new et(":",fe),dot:new et("."),question:new et("?",fe),questionDot:new et("?."),arrow:new et("=>",fe),template:new et("template"),invalidTemplate:new et("invalidTemplate"),ellipsis:new et("...",fe),backQuote:new et("`",$t),dollarBraceL:new et("${",{beforeExpr:!0,startsExpr:!0}),eq:new et("=",{beforeExpr:!0,isAssign:!0}),assign:new et("_=",{beforeExpr:!0,isAssign:!0}),incDec:new et("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new et("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:he("||",1),logicalAND:he("&&",2),bitwiseOR:he("|",3),bitwiseXOR:he("^",4),bitwiseAND:he("&",5),equality:he("==/!=/===/!==",6),relational:he("</>/<=/>=",7),bitShift:he("<</>>/>>>",8),plusMin:new et("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:he("%",10),star:he("*",10),slash:he("/",10),starstar:new et("**",{beforeExpr:!0}),coalesce:he("??",1),_break:J("break"),_case:J("case",fe),_catch:J("catch"),_continue:J("continue"),_debugger:J("debugger"),_default:J("default",fe),_do:J("do",{isLoop:!0,beforeExpr:!0}),_else:J("else",fe),_finally:J("finally"),_for:J("for",{isLoop:!0}),_function:J("function",$t),_if:J("if"),_return:J("return",fe),_switch:J("switch"),_throw:J("throw",fe),_try:J("try"),_var:J("var"),_const:J("const"),_while:J("while",{isLoop:!0}),_with:J("with"),_new:J("new",{beforeExpr:!0,startsExpr:!0}),_this:J("this",$t),_super:J("super",$t),_class:J("class",$t),_extends:J("extends",fe),_export:J("export"),_import:J("import",$t),_null:J("null",$t),_true:J("true",$t),_false:J("false",$t),_in:J("in",{beforeExpr:!0,binop:7}),_instanceof:J("instanceof",{beforeExpr:!0,binop:7}),_typeof:J("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:J("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:J("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ve=/\r\n?|\n|\u2028|\u2029/,Kv=new RegExp(ve.source,"g");function Ks(e){return e===10||e===13||e===8232||e===8233}function My(e,t,i){i===void 0&&(i=e.length);for(var n=t;n<i;n++){var s=e.charCodeAt(n);if(Ks(s))return n<i-1&&s===13&&e.charCodeAt(n+1)===10?n+2:n+1}return-1}var Ry=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ge=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Py=Object.prototype,Jv=Py.hasOwnProperty,Qv=Py.toString,ta=Object.hasOwn||function(e,t){return Jv.call(e,t)},Bd=Array.isArray||function(e){return Qv.call(e)==="[object Array]"};function Dn(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function Vi(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Zv=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,$r=function(t,i){this.line=t,this.column=i};$r.prototype.offset=function(t){return new $r(this.line,this.column+t)};var No=function(t,i,n){this.start=i,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function Vy(e,t){for(var i=1,n=0;;){var s=My(e,n,t);if(s<0)return new $r(i,t-n);++i,n=s}}var _l={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Nd=!1;function Xv(e){var t={};for(var i in _l)t[i]=e&&ta(e,i)?e[i]:_l[i];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!Nd&&typeof console=="object"&&console.warn&&(Nd=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Bd(t.onToken)){var n=t.onToken;t.onToken=function(s){return n.push(s)}}return Bd(t.onComment)&&(t.onComment=tw(t,t.onComment)),t}function tw(e,t){return function(i,n,s,r,a,o){var c={type:i?"Block":"Line",value:n,start:s,end:r};e.locations&&(c.loc=new No(this,a,o)),e.ranges&&(c.range=[s,r]),t.push(c)}}var jr=1,Js=2,kh=4,Uy=8,$y=16,jy=32,Oh=64,zy=128,ea=256,Bh=jr|Js|ea;function Nh(e,t){return Js|(e?kh:0)|(t?Uy:0)}var lo=0,Fh=1,ui=2,Wy=3,qy=4,Hy=5,Et=function(t,i,n){this.options=t=Xv(t),this.sourceFile=t.sourceFile,this.keywords=Dn(qv[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=Gu[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Dn(s);var r=(s?s+" ":"")+Gu.strict;this.reservedWordsStrict=Dn(r),this.reservedWordsStrictBind=Dn(r+" "+Gu.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ve).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(jr),this.regexpState=null,this.privateNameStack=[]},Xe={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Et.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Xe.inFunction.get=function(){return(this.currentVarScope().flags&Js)>0};Xe.inGenerator.get=function(){return(this.currentVarScope().flags&Uy)>0&&!this.currentVarScope().inClassFieldInit};Xe.inAsync.get=function(){return(this.currentVarScope().flags&kh)>0&&!this.currentVarScope().inClassFieldInit};Xe.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&ea)return!1;if(t.flags&Js)return(t.flags&kh)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Xe.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(t&Oh)>0||i||this.options.allowSuperOutsideMethod};Xe.allowDirectSuper.get=function(){return(this.currentThisScope().flags&zy)>0};Xe.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Xe.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(t&(Js|ea))>0||i};Xe.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ea)>0};Et.extend=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];for(var n=this,s=0;s<t.length;s++)n=t[s](n);return n};Et.parse=function(t,i){return new this(i,t).parse()};Et.parseExpressionAt=function(t,i,n){var s=new this(n,t,i);return s.nextToken(),s.parseExpression()};Et.tokenizer=function(t,i){return new this(i,t)};Object.defineProperties(Et.prototype,Xe);var Ut=Et.prototype,ew=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ut.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){ge.lastIndex=e,e+=ge.exec(this.input)[0].length;var t=ew.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){ge.lastIndex=e+t[0].length;var i=ge.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return s===";"||s==="}"||ve.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(n+1)==="=")}e+=t[0].length,ge.lastIndex=e,e+=ge.exec(this.input)[0].length,this.input[e]===";"&&e++}};Ut.eat=function(e){return this.type===e?(this.next(),!0):!1};Ut.isContextual=function(e){return this.type===h.name&&this.value===e&&!this.containsEsc};Ut.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Ut.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Ut.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||ve.test(this.input.slice(this.lastTokEnd,this.start))};Ut.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ut.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Ut.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Ut.expect=function(e){this.eat(e)||this.unexpected()};Ut.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var Fo=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ut.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var i=t?e.parenthesizedAssign:e.parenthesizedBind;i>-1&&this.raiseRecoverable(i,t?"Assigning to rvalue":"Parenthesized pattern")}};Ut.checkExpressionErrors=function(e,t){if(!e)return!1;var i=e.shorthandAssign,n=e.doubleProto;if(!t)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Ut.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ut.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var B=Et.prototype;B.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,t);e.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var r=s[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Lh={kind:"loop"},iw={kind:"switch"};B.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ge.lastIndex=this.pos;var t=ge.exec(this.input),i=this.pos+t[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(e)return!1;if(n===123||n>55295&&n<56320)return!0;if(pi(n,!0)){for(var s=i+1;$s(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n>55295&&n<56320)return!0;var r=this.input.slice(i,s);if(!Hv.test(r))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ge.lastIndex=this.pos;var e=ge.exec(this.input),t=this.pos+e[0].length,i;return!ve.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!($s(i=this.input.charCodeAt(t+8))||i>55295&&i<56320))};B.parseStatement=function(e,t,i){var n=this.type,s=this.startNode(),r;switch(this.isLet(e)&&(n=h._var,r="let"),n){case h._break:case h._continue:return this.parseBreakContinueStatement(s,n.keyword);case h._debugger:return this.parseDebuggerStatement(s);case h._do:return this.parseDoStatement(s);case h._for:return this.parseForStatement(s);case h._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case h._class:return e&&this.unexpected(),this.parseClass(s,!0);case h._if:return this.parseIfStatement(s);case h._return:return this.parseReturnStatement(s);case h._switch:return this.parseSwitchStatement(s);case h._throw:return this.parseThrowStatement(s);case h._try:return this.parseTryStatement(s);case h._const:case h._var:return r=r||this.value,e&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case h._while:return this.parseWhileStatement(s);case h._with:return this.parseWithStatement(s);case h.braceL:return this.parseBlock(!0,s);case h.semi:return this.parseEmptyStatement(s);case h._export:case h._import:if(this.options.ecmaVersion>10&&n===h._import){ge.lastIndex=this.pos;var a=ge.exec(this.input),o=this.pos+a[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===h._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var u=this.value,l=this.parseExpression();return n===h.name&&l.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(s,u,l,e):this.parseExpressionStatement(s,l)}};B.parseBreakContinueStatement=function(e,t){var i=t==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?e.label=null:this.type!==h.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((e.label==null||s.name===e.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||e.label&&i))break}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};B.parseDoStatement=function(e){return this.next(),this.labels.push(Lh),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};B.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Lh),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var n=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,n)):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var r=this.isContextual("let"),a=!1,o=new Fo,c=this.parseExpression(t>-1?"await":!0,o);return this.type===h._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?t>-1&&this.unexpected(t):e.await=t>-1),r&&a&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,o),this.checkLValPattern(c),this.parseForIn(e,c)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,c))};B.parseFunctionStatement=function(e,t,i){return this.next(),this.parseFunction(e,Lr|(i?0:bl),!1,t)};B.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};B.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};B.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(h.braceL),this.labels.push(iw),this.enterScope(0);for(var t,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var n=this.type===h._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,t.test=null),this.expect(h.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};B.parseThrowStatement=function(e){return this.next(),ve.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var nw=[];B.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===h._catch){var t=this.startNode();if(this.next(),this.eat(h.parenL)){t.param=this.parseBindingAtom();var i=t.param.type==="Identifier";this.enterScope(i?jy:0),this.checkLValPattern(t.param,i?qy:ui),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(h._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};B.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")};B.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Lh),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};B.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};B.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};B.parseLabeledStatement=function(e,t,i,n){for(var s=0,r=this.labels;s<r.length;s+=1){var a=r[s];a.name===t&&this.raise(i.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===h._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var u=this.labels[c];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")};B.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};B.parseBlock=function(e,t,i){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(h.braceL),e&&this.enterScope(0);this.type!==h.braceR;){var n=this.parseStatement(null);t.body.push(n)}return i&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};B.parseFor=function(e,t){return e.init=t,this.expect(h.semi),e.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),e.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};B.parseForIn=function(e,t){var i=this.type===h._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(e,t,i){for(e.declarations=[],e.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(h.eq)?n.init=this.parseMaybeAssign(t):i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():n.id.type!=="Identifier"&&!(t&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,e.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(h.comma))break}return e};B.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?Fh:ui,!1)};var Lr=1,bl=2,Yy=4;B.parseFunction=function(e,t,i,n,s){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===h.star&&t&bl&&this.unexpected(),e.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&Lr&&(e.id=t&Yy&&this.type!==h.name?null:this.parseIdent(),e.id&&!(t&bl)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Fh:ui:Wy));var r=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Nh(e.async,e.generator)),t&Lr||(e.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,i,!1,s),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&Lr?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(e){this.expect(h.parenL),e.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(e,t){this.next();var i=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(h.braceL);this.type!==h.braceR;){var a=this.parseClassElement(e.superClass!==null);a&&(s.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(r&&this.raise(a.start,"Duplicate constructor in the same class"),r=!0):a.key&&a.key.type==="PrivateIdentifier"&&sw(n,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=i,this.next(),e.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(e){if(this.eat(h.semi))return null;var t=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,r=!1,a="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?o=!0:n="static"}if(i.static=o,!n&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:n="async"),!n&&(t>=9||!r)&&this.eat(h.star)&&(s=!0),!n&&!r&&!s){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:n=c)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),t<13||this.type===h.parenL||a!=="method"||s||r){var u=!i.static&&ho(i,"constructor"),l=u&&e;u&&a!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=u?"constructor":a,this.parseClassMethod(i,s,r,l)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};B.parseClassElementName=function(e){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};B.parseClassMethod=function(e,t,i,n){var s=e.key;e.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):e.static&&ho(e,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=e.value=this.parseMethod(t,i,n);return e.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),e.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),e.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};B.parseClassField=function(e){if(ho(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&ho(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var t=this.currentThisScope(),i=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=i}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};B.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(ea|Oh);this.type!==h.braceR;){var i=this.parseStatement(null);e.body.push(i)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};B.parseClassId=function(e,t){this.type===h.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,ui,!1)):(t===!0&&this.unexpected(),e.id=null)};B.parseClassSuper=function(e){e.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};B.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,i=e.used,n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],r=0;r<i.length;++r){var a=i[r];ta(t,a.name)||(s?s.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function sw(e,t){var i=t.key.name,n=e[i],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),n==="iget"&&s==="iset"||n==="iset"&&s==="iget"||n==="sget"&&s==="sset"||n==="sset"&&s==="sget"?(e[i]="true",!1):n?!0:(e[i]=s,!1)}function ho(e,t){var i=e.computed,n=e.key;return!i&&(n.type==="Identifier"&&n.name===t||n.type==="Literal"&&n.value===t)}B.parseExport=function(e,t){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(t,"default",this.lastTokStart);var i;if(this.type===h._function||(i=this.isAsyncFunction())){var n=this.startNode();this.next(),i&&this.next(),e.declaration=this.parseFunction(n,Lr|Yy,!1,i)}else if(this.type===h._class){var s=this.startNode();e.declaration=this.parseClass(s,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var r=0,a=e.specifiers;r<a.length;r+=1){var o=a[r];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};B.checkExport=function(e,t,i){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),ta(e,t)&&this.raiseRecoverable(i,"Duplicate export '"+t+"'"),e[t]=!0)};B.checkPatternExport=function(e,t){var i=t.type;if(i==="Identifier")this.checkExport(e,t,t.start);else if(i==="ObjectPattern")for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.checkPatternExport(e,r)}else if(i==="ArrayPattern")for(var a=0,o=t.elements;a<o.length;a+=1){var c=o[a];c&&this.checkPatternExport(e,c)}else i==="Property"?this.checkPatternExport(e,t.value):i==="AssignmentPattern"?this.checkPatternExport(e,t.left):i==="RestElement"?this.checkPatternExport(e,t.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(e,t.expression)};B.checkVariableExport=function(e,t){if(e)for(var i=0,n=t;i<n.length;i+=1){var s=n[i];this.checkPatternExport(e,s.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifiers=function(e){var t=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var n=this.startNode();n.local=this.parseModuleExportName(),n.exported=this.eatContextual("as")?this.parseModuleExportName():n.local,this.checkExport(e,n.exported,n.exported.start),t.push(this.finishNode(n,"ExportSpecifier"))}return t};B.parseImport=function(e){return this.next(),this.type===h.string?(e.specifiers=nw,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};B.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===h.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,ui),e.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(h.comma))return e}if(this.type===h.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,ui),e.push(this.finishNode(n,"ImportNamespaceSpecifier")),e}for(this.expect(h.braceL);!this.eat(h.braceR);){if(t)t=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var s=this.startNode();s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,ui),e.push(this.finishNode(s,"ImportSpecifier"))}return e};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var e=this.parseLiteral(this.value);return Zv.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Fe=Et.prototype;Fe.toAssignable=function(e,t,i){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.toAssignable(r,t),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,i);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return e};Fe.toAssignableList=function(e,t){for(var i=e.length,n=0;n<i;n++){var s=e[n];s&&this.toAssignable(s,t)}if(i){var r=e[i-1];this.options.ecmaVersion===6&&t&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return e};Fe.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Fe.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Fe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Fe.parseBindingList=function(e,t,i){for(var n=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(h.comma),t&&this.type===h.comma)n.push(null);else{if(i&&this.afterTrailingComma(e))break;if(this.type===h.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),n.push(r),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else{var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),n.push(a)}}return n};Fe.parseBindingListItem=function(e){return e};Fe.parseMaybeDefault=function(e,t,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var n=this.startNodeAt(e,t);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Fe.checkLValSimple=function(e,t,i){t===void 0&&(t=lo);var n=t!==lo;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(n?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(t===ui&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),i&&(ta(i,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),i[e.name]=!0),t!==Hy&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,i);default:this.raise(e.start,(n?"Binding":"Assigning to")+" rvalue")}};Fe.checkLValPattern=function(e,t,i){switch(t===void 0&&(t=lo),e.type){case"ObjectPattern":for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,t,i)}break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var c=o[a];c&&this.checkLValInnerPattern(c,t,i)}break;default:this.checkLValSimple(e,t,i)}};Fe.checkLValInnerPattern=function(e,t,i){switch(t===void 0&&(t=lo),e.type){case"Property":this.checkLValInnerPattern(e.value,t,i);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,i);break;case"RestElement":this.checkLValPattern(e.argument,t,i);break;default:this.checkLValPattern(e,t,i)}};var Ie=function(t,i,n,s,r){this.token=t,this.isExpr=!!i,this.preserveSpace=!!n,this.override=s,this.generator=!!r},mt={b_stat:new Ie("{",!1),b_expr:new Ie("{",!0),b_tmpl:new Ie("${",!1),p_stat:new Ie("(",!1),p_expr:new Ie("(",!0),q_tmpl:new Ie("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ie("function",!1),f_expr:new Ie("function",!0),f_expr_gen:new Ie("function",!0,!1,null,!0),f_gen:new Ie("function",!1,!1,null,!0)},Qs=Et.prototype;Qs.initialContext=function(){return[mt.b_stat]};Qs.curContext=function(){return this.context[this.context.length-1]};Qs.braceIsBlock=function(e){var t=this.curContext();return t===mt.f_expr||t===mt.f_stat?!0:e===h.colon&&(t===mt.b_stat||t===mt.b_expr)?!t.isExpr:e===h._return||e===h.name&&this.exprAllowed?ve.test(this.input.slice(this.lastTokEnd,this.start)):e===h._else||e===h.semi||e===h.eof||e===h.parenR||e===h.arrow?!0:e===h.braceL?t===mt.b_stat:e===h._var||e===h._const||e===h.name?!1:!this.exprAllowed};Qs.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Qs.updateContext=function(e){var t,i=this.type;i.keyword&&e===h.dot?this.exprAllowed=!1:(t=i.updateContext)?t.call(this,e):this.exprAllowed=i.beforeExpr};Qs.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mt.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};h.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mt.b_stat:mt.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(mt.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(e){var t=e===h._if||e===h._for||e===h._with||e===h._while;this.context.push(t?mt.p_stat:mt.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(e){e.beforeExpr&&e!==h._else&&!(e===h.semi&&this.curContext()!==mt.p_stat)&&!(e===h._return&&ve.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===h.colon||e===h.braceL)&&this.curContext()===mt.b_stat)?this.context.push(mt.f_expr):this.context.push(mt.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===mt.q_tmpl?this.context.pop():this.context.push(mt.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(e){if(e===h._function){var t=this.context.length-1;this.context[t]===mt.f_expr?this.context[t]=mt.f_expr_gen:this.context[t]=mt.f_gen}this.exprAllowed=!0};h.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var W=Et.prototype;W.checkPropClash=function(e,t,i){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n=e.key,s;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var r=e.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(t.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var a=t[s];if(a){var o;r==="init"?o=this.strict&&a.init||a.get||a.set:o=a.init||a[r],o&&this.raiseRecoverable(n.start,"Redefinition of property")}else a=t[s]={init:!1,get:!1,set:!1};a[r]=!0}};W.parseExpression=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(e,t);if(this.type===h.comma){var r=this.startNodeAt(i,n);for(r.expressions=[s];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(r,"SequenceExpression")}return s};W.parseMaybeAssign=function(e,t,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,s=-1,r=-1,a=-1;t?(s=t.parenthesizedAssign,r=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Fo,n=!0);var o=this.start,c=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(i&&(u=i.call(this,u,o,c)),this.type.isAssign){var l=this.startNodeAt(o,c);return l.operator=this.value,this.type===h.eq&&(u=this.toAssignable(u,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(u):this.checkLValSimple(u),l.left=u,this.next(),l.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(l,"AssignmentExpression")}else n&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),r>-1&&(t.trailingComma=r),u};W.parseMaybeConditional=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return s;if(this.eat(h.question)){var r=this.startNodeAt(i,n);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(e),this.finishNode(r,"ConditionalExpression")}return s};W.parseExprOps=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,n,-1,e)};W.parseExprOp=function(e,t,i,n,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==h._in)&&r>n){var a=this.type===h.logicalOR||this.type===h.logicalAND,o=this.type===h.coalesce;o&&(r=h.logicalAND.binop);var c=this.value;this.next();var u=this.start,l=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),u,l,r,s),d=this.buildBinary(t,i,e,p,c,a||o);return(a&&this.type===h.coalesce||o&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,i,n,s)}return e};W.buildBinary=function(e,t,i,n,s,r){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=i,a.operator=s,a.right=n,this.finishNode(a,r?"LogicalExpression":"BinaryExpression")};W.parseMaybeUnary=function(e,t,i,n){var s=this.start,r=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(n),t=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===h.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,n),this.checkExpressionErrors(e,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&o.argument.type==="Identifier"?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&Gy(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,a=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===h.privateId)(n||this.privateNameStack.length===0)&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(a=this.parseExprSubscripts(e,n),this.checkExpressionErrors(e))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(s,r);u.operator=this.value,u.prefix=!1,u.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(u,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,a,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return a};function Gy(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Gy(e.expression)}W.parseExprSubscripts=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprAtom(e,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,n,!1,t);return e&&r.type==="MemberExpression"&&(e.parenthesizedAssign>=r.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=r.start&&(e.parenthesizedBind=-1),e.trailingComma>=r.start&&(e.trailingComma=-1)),r};W.parseSubscripts=function(e,t,i,n,s){for(var r=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,a=!1;;){var o=this.parseSubscript(e,t,i,n,r,a,s);if(o.optional&&(a=!0),o===e||o.type==="ArrowFunctionExpression"){if(a){var c=this.startNodeAt(t,i);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}e=o}};W.parseSubscript=function(e,t,i,n,s,r,a){var o=this.options.ecmaVersion>=11,c=o&&this.eat(h.questionDot);n&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(h.bracketL);if(u||c&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var l=this.startNodeAt(t,i);l.object=e,u?(l.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&e.type!=="Super"?l.property=this.parsePrivateIdent():l.property=this.parseIdent(this.options.allowReserved!=="never"),l.computed=!!u,o&&(l.optional=c),e=this.finishNode(l,"MemberExpression")}else if(!n&&this.eat(h.parenL)){var p=new Fo,d=this.yieldPos,y=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,p);if(s&&!c&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=y,this.awaitIdentPos=g,this.parseArrowExpression(this.startNodeAt(t,i),_,!0,a);this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=y||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var S=this.startNodeAt(t,i);S.callee=e,S.arguments=_,o&&(S.optional=c),e=this.finishNode(S,"CallExpression")}else if(this.type===h.backQuote){(c||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var C=this.startNodeAt(t,i);C.tag=e,C.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(C,"TaggedTemplateExpression")}return e};W.parseExprAtom=function(e,t){this.type===h.slash&&this.readRegexp();var i,n=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(i,"Super");case h._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case h.name:var s=this.start,r=this.startLoc,a=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&o.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(mt.f_expr),this.parseFunction(this.startNodeAt(s,r),0,!1,!0,t);if(n&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,r),[o],!1,t);if(this.options.ecmaVersion>=8&&o.name==="async"&&this.type===h.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return o=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,r),[o],!0,t)}return o;case h.regexp:var c=this.value;return i=this.parseLiteral(c.value),i.regex={pattern:c.pattern,flags:c.flags},i;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return i=this.startNode(),i.value=this.type===h._null?null:this.type===h._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case h.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(n,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),l;case h.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(h.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case h.braceL:return this.overrideContext(mt.b_expr),this.parseObj(!1,e);case h._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};W.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(e);case h.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}};W.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var t=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};W.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};W.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};W.parseParenExpression=function(){this.expect(h.parenL);var e=this.parseExpression();return this.expect(h.parenR),e};W.parseParenAndDistinguishExpression=function(e,t){var i=this.start,n=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,o=this.startLoc,c=[],u=!0,l=!1,p=new Fo,d=this.yieldPos,y=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(u?u=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){l=!0;break}else if(this.type===h.ellipsis){g=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var _=this.lastTokEnd,S=this.lastTokEndLoc;if(this.expect(h.parenR),e&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=y,this.parseParenArrowList(i,n,c,t);(!c.length||l)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=y||this.awaitPos,c.length>1?(s=this.startNodeAt(a,o),s.expressions=c,this.finishNodeAt(s,"SequenceExpression",_,S)):s=c[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var C=this.startNodeAt(i,n);return C.expression=s,this.finishNode(C,"ParenthesizedExpression")}else return s};W.parseParenItem=function(e){return e};W.parseParenArrowList=function(e,t,i,n){return this.parseArrowExpression(this.startNodeAt(e,t),i,!1,n)};var rw=[];W.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){e.meta=t;var i=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var n=this.start,s=this.startLoc,r=this.type===h._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),n,s,!0,!1),r&&e.callee.type==="ImportExpression"&&this.raise(n,"Cannot use new with import()"),this.eat(h.parenL)?e.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):e.arguments=rw,this.finishNode(e,"NewExpression")};W.parseTemplateElement=function(e){var t=e.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};W.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(i.quasis=[n];!n.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(i,"TemplateLiteral")};W.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!ve.test(this.input.slice(this.lastTokEnd,this.start))};W.parseObj=function(e,t){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(n)n=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(e,t);e||this.checkPropClash(r,s,t),i.properties.push(r)}return this.finishNode(i,e?"ObjectPattern":"ObjectExpression")};W.parseProperty=function(e,t){var i=this.startNode(),n,s,r,a;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return e?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,t),this.type===h.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(e||t)&&(r=this.start,a=this.startLoc),e||(n=this.eat(h.star)));var o=this.containsEsc;return this.parsePropertyName(i),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):s=!1,this.parsePropertyValue(i,e,n,s,r,a,t,o),this.finishNode(i,"Property")};W.parsePropertyValue=function(e,t,i,n,s,r,a,o){if((i||n)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(i,n);else if(!t&&!o&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(i||n)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var c=e.kind==="get"?0:1;if(e.value.params.length!==c){var u=e.value.start;e.kind==="get"?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),e.kind="init",t?e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key)):this.type===h.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};W.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(h.bracketR),e.key;e.computed=!1}return e.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};W.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};W.parseMethod=function(e,t,i){var n=this.startNode(),s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Nh(t,n.generator)|Oh|(i?zy:0)),this.expect(h.parenL),n.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")};W.parseArrowExpression=function(e,t,i,n){var s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Nh(i,!1)|$y),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,n),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")};W.parseFunctionBody=function(e,t,i,n){var s=t&&this.type!==h.braceL,r=this.strict,a=!1;if(s)e.body=this.parseMaybeAssign(n),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!r||o)&&(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!r&&!a&&!t&&!i&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Hy),e.body=this.parseBlock(!1,void 0,a&&!r),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=c}this.exitScope()};W.isSimpleParamList=function(e){for(var t=0,i=e;t<i.length;t+=1){var n=i[t];if(n.type!=="Identifier")return!1}return!0};W.checkParams=function(e,t){for(var i=Object.create(null),n=0,s=e.params;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,Fh,t?null:i)}};W.parseExprList=function(e,t,i,n){for(var s=[],r=!0;!this.eat(e);){if(r)r=!1;else if(this.expect(h.comma),t&&this.afterTrailingComma(e))break;var a=void 0;i&&this.type===h.comma?a=null:this.type===h.ellipsis?(a=this.parseSpread(n),n&&this.type===h.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),s.push(a)}return s};W.checkUnreserved=function(e){var t=e.start,i=e.end,n=e.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(t,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))}};W.parseIdent=function(e){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};W.parsePrivateIdent=function(){var e=this.startNode();return this.type===h.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e};W.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(h.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};W.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var fo=Et.prototype;fo.raise=function(e,t){var i=Vy(this.input,e);t+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=i,n.raisedAt=this.pos,n};fo.raiseRecoverable=fo.raise;fo.curPosition=function(){if(this.options.locations)return new $r(this.curLine,this.pos-this.lineStart)};var Hi=Et.prototype,aw=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Hi.enterScope=function(e){this.scopeStack.push(new aw(e))};Hi.exitScope=function(){this.scopeStack.pop()};Hi.treatFunctionsAsVarInScope=function(e){return e.flags&Js||!this.inModule&&e.flags&jr};Hi.declareName=function(e,t,i){var n=!1;if(t===ui){var s=this.currentScope();n=s.lexical.indexOf(e)>-1||s.functions.indexOf(e)>-1||s.var.indexOf(e)>-1,s.lexical.push(e),this.inModule&&s.flags&jr&&delete this.undefinedExports[e]}else if(t===qy){var r=this.currentScope();r.lexical.push(e)}else if(t===Wy){var a=this.currentScope();this.treatFunctionsAsVar?n=a.lexical.indexOf(e)>-1:n=a.lexical.indexOf(e)>-1||a.var.indexOf(e)>-1,a.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(e)>-1&&!(c.flags&jy&&c.lexical[0]===e)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(e)>-1){n=!0;break}if(c.var.push(e),this.inModule&&c.flags&jr&&delete this.undefinedExports[e],c.flags&Bh)break}n&&this.raiseRecoverable(i,"Identifier '"+e+"' has already been declared")};Hi.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Hi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Hi.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Bh)return t}};Hi.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Bh&&!(t.flags&$y))return t}};var Lo=function(t,i,n){this.type="",this.start=i,this.end=0,t.options.locations&&(this.loc=new No(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[i,0])},ia=Et.prototype;ia.startNode=function(){return new Lo(this,this.start,this.startLoc)};ia.startNodeAt=function(e,t){return new Lo(this,e,t)};function Ky(e,t,i,n){return e.type=t,e.end=i,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=i),e}ia.finishNode=function(e,t){return Ky.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};ia.finishNodeAt=function(e,t,i,n){return Ky.call(this,e,t,i,n)};ia.copyNode=function(e){var t=new Lo(this,e.start,this.startLoc);for(var i in e)t[i]=e[i];return t};var Jy="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Qy=Jy+" Extended_Pictographic",Zy=Qy,Xy=Zy+" EBase EComp EMod EPres ExtPict",t0=Xy,ow=t0,cw={9:Jy,10:Qy,11:Zy,12:Xy,13:t0,14:ow},Fd="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",e0="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",i0=e0+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",n0=i0+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",s0=n0+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",r0=s0+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",uw=r0+" Kawi Nag_Mundari Nagm",lw={9:e0,10:i0,11:n0,12:s0,13:r0,14:uw},a0={};function hw(e){var t=a0[e]={binary:Dn(cw[e]+" "+Fd),nonBinary:{General_Category:Dn(Fd),Script:Dn(lw[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Ju=0,Ld=[9,10,11,12,13,14];Ju<Ld.length;Ju+=1){var fw=Ld[Ju];hw(fw)}var O=Et.prototype,_i=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":""),this.unicodeProperties=a0[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};_i.prototype.reset=function(t,i,n){var s=n.indexOf("u")!==-1;this.start=t|0,this.source=i+"",this.flags=n,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9};_i.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};_i.prototype.at=function(t,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(t>=s)return-1;var r=n.charCodeAt(t);if(!(i||this.switchU)||r<=55295||r>=57344||t+1>=s)return r;var a=n.charCodeAt(t+1);return a>=56320&&a<=57343?(r<<10)+a-56613888:r};_i.prototype.nextIndex=function(t,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(t>=s)return s;var r=n.charCodeAt(t),a;return!(i||this.switchU)||r<=55295||r>=57344||t+1>=s||(a=n.charCodeAt(t+1))<56320||a>57343?t+1:t+2};_i.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};_i.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};_i.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};_i.prototype.eat=function(t,i){return i===void 0&&(i=!1),this.current(i)===t?(this.advance(i),!0):!1};O.validateRegExpFlags=function(e){for(var t=e.validFlags,i=e.flags,n=0;n<i.length;n++){var s=i.charAt(n);t.indexOf(s)===-1&&this.raise(e.start,"Invalid regular expression flag"),i.indexOf(s,n+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}};O.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};O.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,i=e.backReferenceNames;t<i.length;t+=1){var n=i[t];e.groupNames.indexOf(n)===-1&&e.raise("Invalid named capture referenced")}};O.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};O.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};O.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};O.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!i,!0}return e.pos=t,!1};O.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};O.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};O.regexp_eatBracedQuantifier=function(e,t){var i=e.pos;if(e.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue),e.eat(125)))return s!==-1&&s<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=i}return!1};O.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};O.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};O.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};O.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};O.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};O.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};O.regexp_eatSyntaxCharacter=function(e){var t=e.current();return o0(t)?(e.lastIntValue=t,e.advance(),!0):!1};function o0(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}O.regexp_eatPatternCharacters=function(e){for(var t=e.pos,i=0;(i=e.current())!==-1&&!o0(i);)e.advance();return e.pos!==t};O.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};O.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};O.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};O.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Vi(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Vi(e.lastIntValue);return!0}return!1};O.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return e.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),dw(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)};function dw(e){return pi(e,!0)||e===36||e===95}O.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return e.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),pw(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)};function pw(e){return $s(e,!0)||e===36||e===95||e===8204||e===8205}O.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};O.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var i=e.lastIntValue;if(e.switchU)return i>e.maxBackReference&&(e.maxBackReference=i),!0;if(i<=e.numCapturingParens)return!0;e.pos=t}return!1};O.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};O.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};O.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};O.regexp_eatZero=function(e){return e.current()===48&&!Do(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};O.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};O.regexp_eatControlLetter=function(e){var t=e.current();return c0(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function c0(e){return e>=65&&e<=90||e>=97&&e<=122}O.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var i=e.pos,n=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(n&&s>=55296&&s<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=(s-55296)*1024+(a-56320)+65536,!0}e.pos=r,e.lastIntValue=s}return!0}if(n&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&mw(e.lastIntValue))return!0;n&&e.raise("Invalid unicode escape"),e.pos=i}return!1};function mw(e){return e>=0&&e<=1114111}O.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};O.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};O.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(yw(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(t===80||t===112)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1};function yw(e){return e===100||e===68||e===115||e===83||e===119||e===87}O.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var i=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,i,n),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var s=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,s),!0}return!1};O.regexp_validateUnicodePropertyNameAndValue=function(e,t,i){ta(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(i)||e.raise("Invalid property value")};O.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")};O.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";u0(t=e.current());)e.lastStringValue+=Vi(t),e.advance();return e.lastStringValue!==""};function u0(e){return c0(e)||e===95}O.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";gw(t=e.current());)e.lastStringValue+=Vi(t),e.advance();return e.lastStringValue!==""};function gw(e){return u0(e)||Do(e)}O.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};O.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1};O.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var i=e.lastIntValue;e.switchU&&(t===-1||i===-1)&&e.raise("Invalid character class"),t!==-1&&i!==-1&&t>i&&e.raise("Range out of order in character class")}}};O.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var i=e.current();(i===99||f0(i))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return n!==93?(e.lastIntValue=n,e.advance(),!0):!1};O.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};O.regexp_eatClassControlLetter=function(e){var t=e.current();return Do(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};O.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};O.regexp_eatDecimalDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;Do(i=e.current());)e.lastIntValue=10*e.lastIntValue+(i-48),e.advance();return e.pos!==t};function Do(e){return e>=48&&e<=57}O.regexp_eatHexDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;l0(i=e.current());)e.lastIntValue=16*e.lastIntValue+h0(i),e.advance();return e.pos!==t};function l0(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function h0(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}O.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var i=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+i*8+e.lastIntValue:e.lastIntValue=t*8+i}else e.lastIntValue=t;return!0}return!1};O.regexp_eatOctalDigit=function(e){var t=e.current();return f0(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function f0(e){return e>=48&&e<=55}O.regexp_eatFixedHexDigits=function(e,t){var i=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var s=e.current();if(!l0(s))return e.pos=i,!1;e.lastIntValue=16*e.lastIntValue+h0(s),e.advance()}return!0};var Dh=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new No(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},K=Et.prototype;K.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Dh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};K.getToken=function(){return this.next(),new Dh(this)};typeof Symbol<"u"&&(K[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===h.eof,value:t}}}});K.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};K.readToken=function(e){return pi(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};K.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};K.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=t;(n=My(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,i),t,this.pos,e,this.curPosition())};K.skipLineComment=function(e){for(var t=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Ks(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,i,this.curPosition())};K.skipSpace=function(){t:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(e>8&&e<14||e>=5760&&Ry.test(String.fromCharCode(e)))++this.pos;else break t}}};K.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=e,this.value=t,this.updateContext(i)};K.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};K.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};K.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),i=1,n=e===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++i,n=h.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(h.assign,i+1):this.finishOp(n,i)};K.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(e===124?h.logicalOR:h.logicalAND,2)}return t===61?this.finishOp(h.assign,2):this.finishOp(e===124?h.bitwiseOR:h.bitwiseAND,1)};K.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};K.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ve.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):t===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};K.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),i=1;return t===e?(i=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(i=2),this.finishOp(h.relational,i))};K.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(e===61?h.eq:h.prefix,1)};K.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(t===63){if(e>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};K.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),pi(t,!0)||t===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Vi(t)+"'")};K.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Vi(e)+"'")};K.finishOp=function(e,t){var i=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,i)};K.readRegexp=function(){for(var e,t,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(ve.test(n)&&this.raise(i,"Unterminated regular expression"),e)e=!1;else{if(n==="[")t=!0;else if(n==="]"&&t)t=!1;else if(n==="/"&&!t)break;e=n==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(r);var o=this.regexpState||(this.regexpState=new _i(this));o.reset(i,s,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(s,a)}catch{}return this.finishToken(h.regexp,{pattern:s,flags:a,value:c})};K.readInt=function(e,t,i){for(var n=this.options.ecmaVersion>=12&&t===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,a=0,o=0,c=0,u=t??1/0;c<u;++c,++this.pos){var l=this.input.charCodeAt(this.pos),p=void 0;if(n&&l===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=l;continue}if(l>=97?p=l-97+10:l>=65?p=l-65+10:l>=48&&l<=57?p=l-48:p=1/0,p>=e)break;o=l,a=a*e+p}return n&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||t!=null&&this.pos-r!==t?null:a};function _w(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function d0(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}K.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var i=this.readInt(e);return i==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=d0(this.input.slice(t,this.pos)),++this.pos):pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};K.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var i=this.pos-t>=2&&this.input.charCodeAt(t)===48;i&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&n===110){var s=d0(this.input.slice(t,this.pos));return++this.pos,pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,s)}i&&/[89]/.test(this.input.slice(t,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=_w(this.input.slice(t,this.pos),i);return this.finishToken(h.num,r)};K.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else t=this.readHexChar(4);return t};K.readString=function(e){for(var t="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;n===92?(t+=this.input.slice(i,this.pos),t+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ks(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(i,this.pos++),this.finishToken(h.string,t)};var p0={};K.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===p0)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};K.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw p0;this.raise(e,t)};K.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(h.template,e));if(i===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Ks(i)){switch(e+=this.input.slice(t,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};K.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};K.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Vi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),(n!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Ks(t)?"":String.fromCharCode(t)}};K.readHexChar=function(e){var t=this.pos,i=this.readInt(16,e);return i===null&&this.invalidStringToken(t,"Bad character escape sequence"),i};K.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if($s(s,n))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,e+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?pi:$s)(a,n)||this.invalidStringToken(r,"Invalid Unicode escape"),e+=Vi(a),i=this.pos}else break;t=!1}return e+this.input.slice(i,this.pos)};K.readWord=function(){var e=this.readWord1(),t=h.name;return this.keywords.test(e)&&(t=Ch[e]),this.finishToken(t,e)};var bw="8.8.2";Et.acorn={Parser:Et,version:bw,defaultOptions:_l,Position:$r,SourceLocation:No,getLineInfo:Vy,Node:Lo,TokenType:et,tokTypes:h,keywordTypes:Ch,TokContext:Ie,tokContexts:mt,isIdentifierChar:$s,isIdentifierStart:pi,Token:Dh,isNewLine:Ks,lineBreak:ve,lineBreakG:Kv,nonASCIIwhitespace:Ry};function vw(e,t){return Et.parse(e,t)}const Mh={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},ww={ecmaVersion:11},Dd="$",xw="d",Sw="d1",Iw="d2",Ot=e=>(t,i)=>i.error(t,e+" not allowed"),Aw=Ot("Aggregate function"),Ew=Ot("Window function"),Tw="Invalid argument",Rh="Invalid column reference",Cw=Rh+" (must be input to an aggregate function)",m0="Invalid function call",kw="Invalid member expression",Ow="Invalid operator parameter",Bw="Invalid param reference",Nw="Invalid variable reference",Fw="Variable not accessible in operator call",Lw="Unsupported variable declaration",Dw="Unsupported destructuring pattern",y0="Table expressions do not support closures",g0="Use aq.escape(fn) to use a function as-is (including closures)",Mw="use table.params({ name: value }) to define dynamic parameters",Rw="use aq.addFunction(name, fn) to add new op functions",Pw=`
Note: ${y0}. ${g0}, or ${Mw}.`,_0=`
Note: ${y0}. ${g0}, or ${Rw}.`,Vw=`The ${Cp} method is not valid in multi-table expressions.`;function Uw(e,t){const i=$w(t);let n=e.root=i;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Vv(n)?(zw(n,e),n=n.body):e.join?(e.scope.add(e.tuple1=Sw),e.scope.add(e.tuple2=Iw),e.scope.add(e.$param=Dd)):(e.scope.add(e.tuple=xw),e.scope.add(e.$param=Dd)),it(n,e,b0),e.root}function $w(e){try{const t=e.field?jw(e):st(e)?Ye(e):e;return vw(`expr=(${t})`,ww).body[0].expression.right}catch{j(`Expression parse error: ${e+""}`)}}function jw(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const b0={FunctionDeclaration:Ot("Function definitions"),ForStatement:Ot("For loops"),ForOfStatement:Ot("For-of loops"),ForInStatement:Ot("For-in loops"),WhileStatement:Ot("While loops"),DoWhileStatement:Ot("Do-while loops"),AwaitExpression:Ot("Await expressions"),ArrowFunctionExpression:Ot("Function definitions"),AssignmentExpression:Ot("Assignments"),FunctionExpression:Ot("Function definitions"),NewExpression:Ot('Use of "new"'),UpdateExpression:Ot("Update expressions"),VariableDeclarator(e,t){xl(e.id,t)},Identifier(e,t,i){x0(e,t,i)&&!t.scope.has(e.name)&&t.error(e,Nw,Pw)},CallExpression(e,t){const i=v0(e.callee),n=Ap(i)||Ep(i);if(n){if((t.join||t.aggregate===!1)&&Cl(i)&&Aw(e,t),(t.join||t.window===!1)&&kl(i)&&Ew(e,t),t.$op=1,t.ast)wl(e,i,t),e.arguments.forEach(s=>it(s,t,vl));else{const s=t.op(Ww(t,n,i,e.arguments));Object.assign(e,{type:vp,name:s.id})}return t.$op=0,!1}else Ip(i)?wl(e,i,t):t.error(e,m0,_0)},MemberExpression(e,t,i){const{object:n,property:s}=e;if(!At(Bi,n))return;const{name:r}=n;if(w0(e)&&At(Bi,s)&&Oe(Mh,s.name)){A0(e,s.name);return}const a=r===t.tuple?0:r===t.tuple1?1:r===t.tuple2?2:-1;if(a>=0)return Md(e,a,t,S0,i);if(r===t.$param)return Md(e,a,t,Hw);t.paramsRef.has(r)?zr(e,t.paramsRef.get(r)):t.columnRef.has(r)?I0(n,r,t,e):Oe(t.params,r)&&zr(n,r)}};function Md(e,t,i,n,s){const{property:r,computed:a}=e;let o;if(!a)o=r.name;else if(At(qs,r))o=r.value;else try{o=i.param(r)}catch{i.error(e,kw)}return n(e,o,t,i,s),!1}const vl={...b0,VariableDeclarator:Ot("Variable declaration in operator call"),Identifier(e,t,i){x0(e,t,i)&&t.error(e,Fw)},CallExpression(e,t){const i=v0(e.callee);Ip(i)?wl(e,i,t):t.error(e,m0,_0)}};function zw(e,t){e.generator&&Ot("Generator functions")(e,t),e.async&&Ot("Async functions")(e,t);const{params:i}=e,n=i.length,s=a=>(o,c)=>t.columnRef.set(o,[c,a]),r=(a,o)=>t.paramsRef.set(a,o);n&&(t.join?(Cr(t,i[0],"tuple1",s(1)),n>1&&Cr(t,i[1],"tuple2",s(2)),n>2&&Cr(t,i[2],"$param",r)):(Cr(t,i[0],"tuple",s(0)),n>1&&Cr(t,i[1],"$param",r))),t.root=e.body}function Cr(e,t,i,n){At(Bi,t)?(e.scope.add(t.name),e[i]=t.name):At(_p,t)&&t.properties.forEach(s=>{const r=At(Bi,s.key)?s.key.name:At(qs,s.key)?s.key.value:e.error(s,Tw);At(Bi,s.value)||e.error(s.value,Dw),n(s.value.name,r)})}function Ww(e,t,i,n){const s=[],r=[],a=t.param[0]||0,o=a+(t.param[1]||0);return n.forEach((c,u)=>{u<a?(it(c,e,vl),s.push(e.field(c))):u<o?(it(c,e,vl),r.push(e.param(c))):e.error(c,Ow)}),{name:i,fields:s,params:r,...e.spec.window||{}}}function v0(e){return At(Bi,e)?e.name:At(gp,e)?w0(e)?qw(e.property.name):e.property.name:null}function w0(e){return At(Bi,e.object)&&e.object.name==="Math"}function qw(e){return e==="max"?"greatest":e==="min"?"least":e}function x0(e,t,i){const{name:n}=e;if(!(At(gp,i)&&i.property===e)){if(!(At(bp,i)&&i.key===e))if(t.paramsRef.has(n))zr(e,t.paramsRef.get(n));else if(t.columnRef.has(n))I0(e,n,t,i);else if(Oe(t.params,n))zr(e,n);else if(Oe(Mh,n))A0(e,n);else return!0}}function S0(e,t,i,n,s){const r=i===0?n.table:i>0?n.join[i-1]:null,a=r&&r.column(t);r&&!a&&n.error(e,Rh),n.aggronly&&!n.$op&&n.error(e,Cw),Tp(e,t,i,a,s)}function I0(e,t,i,n){const[s,r]=i.columnRef.get(t);S0(e,s,r,i,n)}function Hw(e,t,i,n){n.params&&!Oe(n.params,t)&&n.error(e,Bw),zr(e,t)}function zr(e,t){e.type=jg,e.name=t}function A0(e,t){e.type=Vg,e.name=t,e.raw=Mh[t]}function wl(e,t,i){if(t===Cp){const n=i.table;n||i.error(e,Vw),kp(e,e.arguments.length?e.arguments.map(s=>{const r=i.param(s),a=Pt(r)?n.columnName(r):r;return n.column(a)||i.error(s,Rh),a}):n.columnNames())}else e.callee={type:$g,name:t}}function xl(e,t){At(Bi,e)?t.scope.add(e.name):At(Dg,e)?e.elements.forEach(i=>xl(i,t)):At(_p,e)?e.properties.forEach(i=>xl(i.value,t)):t.error(e.id,Lw)}const Yw={[Kr]:1,[vp]:1};function Gt(e,t={}){const i=t.generate||Ha,n=t.compiler||Ol,s=Kw(t),r={},a={},o=[],c=[];let u=0,l=-1;const p=t.join?n.join:t.index==1?n.expr2:n.expr,d={op(_){const S=Gw(_);return a[S]||(_.id=++l,a[S]=_)},field(_){const S=i(_);return r[S]||(r[S]=++u)},param(_){return At(qs,_)?_.value:n.param(i(_),s)},value(_,S){o.push(_);const C=S.escape||(t.ast?Pv(S):p(i(S),s));c.push(C),Yw[S.type]&&C!==S&&Rt(C)&&(C.field=S.name)},error(_,S,C=""){const H=_.start-6,yt=_.end-6,k=String(d.spec).slice(H,yt);j(`${S}: "${k}"${C}`)}};Object.assign(d,t,{params:s});for(const[_,S]of _o(e))d.value(_+"",S.escape?jv(d,S,s):Uw(d,S));if(t.ast)return{names:o,exprs:c};const y=[];for(const _ in r)y[r[_]]=n.expr(_,s);const g=Object.values(a);return g.forEach(_=>_.fields=_.fields.map(S=>y[S])),{names:o,exprs:c,ops:g}}function Gw(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const i=e.frame.map(n=>Number.isFinite(n)?Math.abs(n):-1);t+=`[${i},${!!e.peers}]`}return t}function Kw(e){return(e.table?Qu(e.table):e.join?{...Qu(e.join[1]),...Qu(e.join[0])}:{})||{}}function Qu(e){return e&&pt(e.params)?e.params():{}}const E0="Expr",Ae="ExprList",T0="ExprNumber",Br="ExprObject",Is="JoinKeys",po="JoinValues",pe="Options",Ph="OrderKeys",Ci="SelectionList",En="TableRef",As="TableRefList",Jw="Descending",Qw="Query",Zw="Selection",Xw="Verb",tx="Window";function Vh(e,t){return e&&e.expr?new Rd({...e,...t}):new Rd(t,e)}class Rd{constructor(t,i){this.expr=i,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...pt(this.expr)?{func:!0}:{}}}}function ex(e){return Vh(e,{desc:!0})}function Pn(e,t,i=0){const n=i?{field:!0,table:i}:{field:!0};return Vh(e,t?{expr:t,...n}:n)}function ix(e,t,i){return Vh(e,{window:{frame:t||[-1/0,0],peers:!!i}})}function nx(e){const t=i=>i;return t.toString=()=>e,t}function Pd(e,t){return t=t&&pt(t.query)?t.query():t,t&&pt(t.evaluate)?t.evaluate(null,e):e(t)}function C0(e){return Rt(e)&&(st(e.all)||st(e.matches)||st(e.not)||st(e.range))}function Wr(e){return e&&pt(e.toObject)?e.toObject():pt(e)?{expr:String(e),func:!0}:st(e)?e.map(Wr):Rt(e)?Oo(e,t=>Wr(t)):e}function Uh(e){return st(e)?e.map(Uh):Rt(e)?st(e.verbs)?na.from(e):st(e.all)?Us():st(e.range)?Fv(...e.range):st(e.match)?Lv(RegExp(...e.match)):st(e.not)?Ny(e.not.map(Wr)):sx(e):e}function sx(e){let t=e,i=e.expr;if(i!=null){if(e.field===!0?t=i=Pn(i):e.func===!0&&(t=i=nx(i)),Rt(e.window)){const{frame:n,peers:s}=e.window;t=i=ix(i,n,s)}e.desc===!0&&(t=ex(i))}return e===t?Oo(e,n=>Uh(n)):t}function rx(e){return st(e)?e.map(ax):e}function ax(e){const t=[];return Ht(e).forEach(i=>{Pt(i)?t.push(i):Ft(i)?t.push(Pn(i,null)):Rt(i)&&i.expr||pt(i)?t.push(i):j(`Invalid key value: ${i+""}`)}),t}function ox(e){return st(e)?e.map(cx):e}function cx(e,t){return t<2?Ht(e):e}function ux(e){const t=[];return e.forEach(i=>{const n=i.expr!=null?i.expr:i;if(Rt(n)&&!pt(n))for(const s in n)t.push(n[s]);else i=Pt(n)?n:Ft(n)?Pn(i):pt(n)?i:j(`Invalid orderby field: ${i+""}`),t.push(i)}),t}const lx={[E0]:N0,[Ae]:js,[T0]:yx,[Br]:Ui,[Is]:gx,[po]:_x,[Ph]:js,[Ci]:px};function hx(e,t,i){return t===En?Vd(e):t===As?e.map(Vd):k0(Wr(e),t,i)}function k0(e,t,i){return t===pe?e&&fx(e,i):lx[t](e)}function fx(e,t={}){const i={};for(const n in e){const s=e[n];i[n]=t[n]?k0(s,t[n]):s}return i}function dx(e,t){return Gt({expr:e},{...t,ast:!0}).exprs[0]}function $h(e){return{type:Kr,name:e}}function O0(e){return{type:Kr,index:e}}function Ui(e,t){if(Ft(e))return dx(e,t);if(e.expr){let i;if(e.field===!0?i=$h(e.expr):e.func===!0&&(i=Ui(e.expr,t)),i)return e.desc&&(i={type:Jw,expr:i}),e.window&&(i={type:tx,expr:i,...e.window}),i}return Object.keys(e).map(i=>({...Ui(e[i],t),as:i}))}function B0(e){const t=Zw;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:js(e.not)}:e.range?{type:t,operator:"range",arguments:js(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:j("Invalid input")}function px(e){return Ht(e).map(mx).flat()}function mx(e){return C0(e)?B0(e):Pt(e)?O0(e):Ft(e)?$h(e):Rt(e)?Object.keys(e).map(t=>({type:Kr,name:t,as:e[t]})):j("Invalid input")}function N0(e){return C0(e)?B0(e):Pt(e)?O0(e):Ft(e)?$h(e):Rt(e)?Ui(e):j("Invalid input")}function js(e){return Ht(e).map(N0).flat()}function yx(e){return Pt(e)?e:Ui(e)}function gx(e){return st(e)?e.map(js):Ui(e,{join:!0})}function _x(e){return st(e)?e.map((t,i)=>i<2?js(t):Ui(t,{join:!0})):Ui(e,{join:!0})}function Vd(e){return e&&pt(e.toAST)?e.toAST():e}class F0{constructor(t,i=[],n=[]){this.verb=t,this.schema=i,i.forEach((s,r)=>{const a=s.type,o=n[r],c=a===Is?rx(o):a===po?ox(o):a===Ph?ux(o):o;this[s.name]=c!==void 0?c:s.default})}static from(t){const i=Sl[t.verb],n=(i.schema||[]).map(({name:s})=>Uh(t[s]));return i(...n)}evaluate(t,i){const n=this.schema.map(({name:s,type:r})=>{const a=this[s];return r===En?Pd(i,a):r===As?a.map(o=>Pd(i,o)):a});return t[this.verb](...n)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:i})=>{t[i]=Wr(this[i])}),t}toAST(){const t={type:Xw,verb:this.verb};return this.schema.forEach(({name:i,type:n,props:s})=>{t[i]=hx(this[i],n,s)}),t}}function lt(e,t){return Object.assign((...i)=>new F0(e,t,i),{schema:t})}const Sl={count:lt("count",[{name:"options",type:pe}]),derive:lt("derive",[{name:"values",type:Br},{name:"options",type:pe,props:{before:Ci,after:Ci}}]),filter:lt("filter",[{name:"criteria",type:Br}]),groupby:lt("groupby",[{name:"keys",type:Ae}]),orderby:lt("orderby",[{name:"keys",type:Ph}]),relocate:lt("relocate",[{name:"columns",type:Ci},{name:"options",type:pe,props:{before:Ci,after:Ci}}]),rename:lt("rename",[{name:"columns",type:Ci}]),rollup:lt("rollup",[{name:"values",type:Br}]),sample:lt("sample",[{name:"size",type:T0},{name:"options",type:pe,props:{weight:E0}}]),select:lt("select",[{name:"columns",type:Ci}]),ungroup:lt("ungroup"),unorder:lt("unorder"),reify:lt("reify"),dedupe:lt("dedupe",[{name:"keys",type:Ae,default:[]}]),impute:lt("impute",[{name:"values",type:Br},{name:"options",type:pe,props:{expand:Ae}}]),fold:lt("fold",[{name:"values",type:Ae},{name:"options",type:pe}]),pivot:lt("pivot",[{name:"keys",type:Ae},{name:"values",type:Ae},{name:"options",type:pe}]),spread:lt("spread",[{name:"values",type:Ae},{name:"options",type:pe}]),unroll:lt("unroll",[{name:"values",type:Ae},{name:"options",type:pe,props:{drop:Ae}}]),lookup:lt("lookup",[{name:"table",type:En},{name:"on",type:Is},{name:"values",type:Ae}]),join:lt("join",[{name:"table",type:En},{name:"on",type:Is},{name:"values",type:po},{name:"options",type:pe}]),cross:lt("cross",[{name:"table",type:En},{name:"values",type:po},{name:"options",type:pe}]),semijoin:lt("semijoin",[{name:"table",type:En},{name:"on",type:Is}]),antijoin:lt("antijoin",[{name:"table",type:En},{name:"on",type:Is}]),concat:lt("concat",[{name:"tables",type:As}]),union:lt("union",[{name:"tables",type:As}]),intersect:lt("intersect",[{name:"tables",type:As}]),except:lt("except",[{name:"tables",type:As}])};class na extends np{constructor(t,i,n){super(i),this._verbs=t||[],this._table=n}static from({verbs:t,table:i,params:n}){return new na(t.map(F0.from),n,i)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,i){t=t||i(this._table);for(const n of this._verbs)t=n.evaluate(t.params(this._params),i);return t}toObject(){return Ud(this,"toObject")}toJSON(){return this.toObject()}toAST(){return Ud(this,"toAST",{type:Qw})}}function Ud(e,t,i){return{...i,verbs:e._verbs.map(n=>n[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function bx(e,t){return new na(e._verbs.concat(t),e._params,e._table)}for(const e in Sl){const t=Sl[e];na.prototype["__"+e]=function(i,...n){return bx(i,t(...n))}}function Zs(e,t,...i){const n=["_","$"],s=n.slice(0,i.length);return s.push('"use strict"; const '+i.map((r,a)=>r.map((o,c)=>`${n[a]}${c} = ${n[a]}[${c}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...s)(...i)}const jh=e=>e,vx=[e=>e==="true"||e==="false",e=>e!=="false"],$d=[e=>e==="NaN"||(e=+e)===e,e=>+e],wx=[ap,e=>new Date(Date.parse(e))];function xx(e){const{decimal:t}=e;return t&&t!=="."?$d.map(i=>n=>i(n&&n.replace(t,"."))):$d}function Sx(e,t){const i=[vx,xx(t),wx],n=i.length;for(let s=0;s<n;++s){const[r,a]=i[s];if(Ix(e,r))return a}return jh}function Ix(e,t){const i=e.length;for(let n=0;n<i;++n){const s=e[n];if(s!=null&&!t(s))return!1}return!0}function jd(e,t=0){return zs(e-t,i=>`col${i+t+1}`)}function Ax(e,t,i){let n=e();const s=n.length,r=+i.autoMax||1e3,a=zs(s,()=>[]);t=t?t.length<s?[...t,jd(s,t.length)]:t:jd(s);let o=0;for(;o<r&&n;++o,n=e())for(let l=0;l<s;++l)a[l].push(n[l]===""?null:n[l]);const c=Ex(t,a,i);for(c.forEach((l,p)=>{if(l===jh)return;const d=a[p];for(let y=0;y<o;++y)d[y]!=null&&(d[y]=l(d[y]))});n;n=e())for(let l=0;l<s;++l)a[l].push(n[l]?c[l](n[l]):null);const u={};return t.forEach((l,p)=>u[l]=a[p]),new oi(u,t)}function Ex(e,t,i){const{parse:n={}}=i,s=i.autoType===!1;return e.map((r,a)=>pt(n[r])?n[r]:s?jh:Sx(t[a],i))}const zd={},Zu={},Xu=34,kr=10,tl=13;function Tx(e,t,i){let n=+t||0;for(;--n>=0;)e();return i?()=>{let s;for(;!s;)if(i(s=e()))s=null;else return s}:e}function Cx(e,{delimiter:t=",",skip:i,comment:n}){t.length!==1&&j(`Text "delimiter" should be a single character, found "${t}"`);const s=t.charCodeAt(0);let r=e.length,a=0,o,c=r<=0,u=!1;e.charCodeAt(r-1)===kr&&--r,e.charCodeAt(r-1)===tl&&--r;function l(){if(c)return Zu;if(u)return u=!1,zd;const d=a;let y,g;if(e.charCodeAt(d)===Xu){for(;a++<r&&e.charCodeAt(a)!==Xu||e.charCodeAt(++a)===Xu;);return(y=a)>=r?c=!0:(g=e.charCodeAt(a++))===kr?u=!0:g===tl&&(u=!0,e.charCodeAt(a)===kr&&++a),e.slice(d+1,y-1).replace(/""/g,'"')}for(;a<r;){if((g=e.charCodeAt(y=a++))===kr)u=!0;else if(g===tl)u=!0,e.charCodeAt(a)===kr&&++a;else if(g!==s)continue;return e.slice(d,y)}return c=!0,e.slice(d,r)}function p(){if((o=l())!==Zu){const d=[];for(;o!==zd&&o!==Zu;)d.push(o),o=l();return d}}return Tx(p,i,n&&(d=>(d&&d[0]||"").startsWith(n)))}function kx(e,t={}){const i=Cx(e,t);return Ax(i,t.header!==!1?i():t.names,t)}function Ox(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function zh(e,t){const i=le();return t.forEach((n,s)=>{const r=Ft(n)?n:s;if(r){const a=e.column(s)||j(`Unrecognized column: ${s}`);i.add(r,a)}}),e.create(i)}function L0(e,t,{before:i,after:n}={}){const s=i!=null,r=n!=null;s||r||j("relocate requires a before or after option."),s&&r&&j("relocate accepts only one of the before or after options."),t=di(e,t);const a=[...di(e,s?i:n).keys()],o=s?a[0]:a.pop(),c=new Map;return e.columnNames().forEach(u=>{const l=!t.has(u);if(u===o){r&&l&&c.set(u,u);for(const[p,d]of t)c.set(p,d);if(r)return}l&&c.set(u,u)}),zh(e,c)}function sa(e,t=n=>n,i=""){const n=e.length;if(!n)return"";let s=t(e[0],0);for(let r=1;r<n;++r)s+=i+t(e[r],r);return s}function Wh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Bx(e,t=0,i=e.length){let n=i?e[t++]:nt;for(let s=t;s<i;++s)n>e[s]&&(n=e[s]);return n}function Nx(e,t=0,i=e.length){let n=i?e[t++]:nt;for(let s=t;s<i;++s)n<e[s]&&(n=e[s]);return n}function Da(e){return Dr(e)?e:+e}function Fx(e,t){const i=e.length;if(!i)return nt;if((t=+t)<=0||i<2)return Da(e[0]);if(t>=1)return Da(e[i-1]);const n=(i-1)*t,s=Math.floor(n),r=Da(e[s]);return Dr(r)?r:r+(Da(e[s+1])-r)*(n-s)}class Lx{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Bx(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Nx(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(Wh)),Fx(this._sorted,t)}}const mo=(e,t,i)=>Zs(t,"{"+sa(e,(n,s)=>`_${s}.${i}(${t});`)+"}",e);function Dx(e,t){const{ops:i,output:n}=Mx(e,t),s=e[0].fields,r=s.length,a=r===0?qh:r===1?Rx:r===2?Px:j("Unsupported field count: "+r);return new a(s,i,n,t)}function Mx(e,t){const i={},n=[];function s(a,o=[]){const c=a+":"+o;if(i[c])return i[c];const u=Ap(a),l=u.create(...o);return t<0&&u.stream&&u.stream.forEach(p=>s(p,[])),u.req&&u.req.forEach(p=>s(p,[])),i[c]=l,n.push(l),l}const r=e.map(a=>{const o=s(a.name,a.params);return o.output=a.id,o});return{ops:n,output:r}}class qh extends Mv{constructor(t,i,n,s){super(n),this._op=i,this._fields=t,this._stream=!!s}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(i=>i.init(t)),t.values&&(t.list=new Lx),t}write(t,i,n){const s=this._outputs,r=s.length;for(let a=0;a<r;++a)i[s[a].output][n]=s[a].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Rx extends qh{constructor(t,i,n,s){super(t,i,n,s);const r=["state","v1","v2"];this._add=mo(i,r,"add"),this._rem=mo(i,r,"rem")}add(t,i,n){const s=this._fields[0](i,n);++t.count,Ce(s)&&(++t.valid,t.list&&t.list.add(s),this._add(t,s))}rem(t,i,n){const s=this._fields[0](i,n);--t.count,Ce(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,s))}}class Px extends qh{constructor(t,i,n,s){super(t,i,n,s);const r=["state","v1","v2"];this._add=mo(i,r,"add"),this._rem=mo(i,r,"rem")}add(t,i,n){const s=this._fields[0](i,n),r=this._fields[1](i,n);++t.count,Ce(s)&&Ce(r)&&(++t.valid,t.list&&t.list.add([s,r]),this._add(t,s,r))}rem(t,i,n){const s=this._fields[0](i,n),r=this._fields[1](i,n);--t.count,Ce(s)&&Ce(r)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,s,r))}}function Un(e,t,i){if(t.length){const n=e.data(),{keys:s}=e.groups()||{},r=Xs(e,t),a=s?(o,c)=>r[o][s[c]]:o=>r[o][0];i=i.map(o=>c=>o(c,n,a))}return i}function Xs(e,t,i){if(!t.length)return i;const n=D0(t),s=e.groups(),r=s?s.size:1;return i=i||zs(t.length,()=>Array(r)),r>1?n.forEach(a=>{const o=R0(e,a,s);for(let c=0;c<r;++c)a.write(o[c],i,c)}):n.forEach(a=>{const o=M0(e,a);a.write(o,i,0)}),i}function D0(e,t){const i=[],n={};for(const s of e){const r=s.fields.map(a=>a+"").join(",");(n[r]||(n[r]=[])).push(s)}for(const s in n)i.push(Dx(n[s],t));return i}function M0(e,t){const i=t.init(),n=e.totalRows(),s=e.data(),r=e.mask();if(e.isOrdered()){const a=e.indices();for(let o=0;o<n;++o)t.add(i,a[o],s)}else if(r)for(let a=r.next(0);a>=0;a=r.next(a+1))t.add(i,a,s);else for(let a=0;a<n;++a)t.add(i,a,s);return i}function R0(e,t,i){const{keys:n,size:s}=i,r=zs(s,()=>t.init()),a=e.data();if(e.isOrdered()){const o=e.indices(),c=o.length;for(let u=0;u<c;++u){const l=o[u];t.add(r[n[l]],l,a)}}else if(e.isFiltered()){const o=e.mask();for(let c=o.next(0);c>=0;c=o.next(c+1))t.add(r[n[c]],c,a)}else{const o=e.totalRows();for(let c=0;c<o;++c)t.add(r[n[c]],c,a)}return r}function P0(e,t){const{get:i,names:n,rows:s,size:r}=t,a=n.length;for(let o=0;o<a;++o){const c=e.add(n[o],Array(r)),u=i[o];for(let l=0;l<r;++l)c[l]=u(s[l])}}function V0(e){return{left(t,i,n,s){for(n==null&&(n=0),s==null&&(s=t.length);n<s;){const r=n+s>>>1;e(t[r],i)<0?n=r+1:s=r}return n},right(t,i,n,s){for(n==null&&(n=0),s==null&&(s=t.length);n<s;){const r=n+s>>>1;e(t[r],i)>0?s=r:n=r+1}return n}}}const Wd=V0(Wh);function Vx(e,t,i,n,s){let r,a,o,c,u;const l=_=>a[_-1]===a[_],p=n.length,d=s.length,y=n.length?Zs(["w","r","k"],"{"+sa(n,(_,S)=>`r[_${S}.id][k]=_${S}.value(w,_${S}.get);`)+"}",n):()=>{},g={i0:0,i1:0,index:0,size:0,peer:l,init(_,S,C,H){g.index=g.i0=g.i1=0,g.size=S.length,r=_,a=S,c=C,u=H,o=s?s.map(yt=>yt.init()):null;for(let yt=0;yt<p;++yt)n[yt].init();return g},value(_,S){return S(r[_],e)},step(_){const[S,C]=t,H=g.size,yt=g.i0,k=g.i1;g.i0=S!=null?Math.max(0,_-Math.abs(S)):0,g.i1=C!=null?Math.min(H,_+Math.abs(C)+1):H,g.index=_,i&&(g.i0>0&&l(g.i0)&&(g.i0=Wd.left(a,a[g.i0])),g.i1<H&&l(g.i1)&&(g.i1=Wd.right(a,a[g.i1-1])));for(let vt=0;vt<d;++vt){const q=s[vt],Lt=o[vt];for(let at=yt;at<g.i0;++at)q.rem(Lt,r[at],e);for(let at=k;at<g.i1;++at)q.add(Lt,r[at],e);q.write(Lt,c,u)}return y(g,c,u),c}};return g}const Ux=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),$x=e=>!!e.peers;function jx(e){const{id:t,name:i,fields:n=[],params:s=[]}=e,r=Ep(i).create(...s);return n.length&&(r.get=n[0]),r.id=t,r}function zx(e,t,i,n={},s){const r=e.data(),a=Wx(s,r),o=a.length,c=Zs(["r","d","op"],"{"+sa(t,(u,l)=>`_${l}[r] = $${l}(r, d, op);`)+"}",t,i);e.partitions().forEach((u,l)=>{const p=u.length,d=qx(e,u);for(let g=0;g<o;++g)a[g].init(u,d,n,l);const y=g=>n[g][l];for(let g=0;g<p;++g){for(let _=0;_<o;++_)a[_].step(g);c(u[g],r,y)}})}function Wx(e,t){const i={};return e.forEach(n=>{const s=Ux(n),r=$x(n),a=`${s},${r}`,{aggOps:o,winOps:c}=i[a]||(i[a]={frame:s,peers:r,aggOps:[],winOps:[]});Cl(n.name)?o.push(n):c.push(jx(n))}),Object.values(i).map(n=>Vx(t,n.frame,n.peers,n.winOps,D0(n.aggOps,n.frame[0]!=null?-1:1)))}function qx(e,t){if(e.isOrdered()){const i=e.comparator(),n=e.data(),s=t.length,r=new Uint32Array(s);for(let a=1,o=0;a<s;++a)r[a]=i(t[a-1],t[a],n)?++o:o;return r}else return t}function Hx(e){return kl(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function Hh(e,{names:t,exprs:i,ops:n},s={}){const r=e.totalRows(),a=le(s.drop?null:e),o=t.map(d=>a.add(d,Array(r))),[c,u]=Yx(n),l=e.isGrouped()?e.groups().size:1,p=Xs(e,c,zs(n.length,()=>Array(l)));return u.length?zx(e,o,i,p,u):Gx(e,o,i,p),e.create(a)}function Yx(e){const t=[],i=[],n=e.length;for(let s=0;s<n;++s){const r=e[s];r.id=s,(Hx(r)?i:t).push(r)}return[t,i]}function Gx(e,t,i,n){const s=e.mask(),r=e.data(),{keys:a}=e.groups()||{},o=a?(u,l)=>n[u][a[l]]:u=>n[u][0],c=t.length;for(let u=0;u<c;++u){const l=i[u],p=t[u];if(s)for(let d=s.next(0);d>=0;d=s.next(d+1))p[d]=l(d,r,o);else{const d=e.totalRows();for(let y=0;y<d;++y)p[y]=l(y,r,o)}}}function Kx(e,t,i={}){const n=Hh(e,Gt(t,{table:e}),i);return i.drop||i.before==null&&i.after==null?n:L0(n,Object.keys(t).filter(s=>!e.column(s)),i)}function Jx(e,t){if(t.length===0)return e;const i=e.columnNames();return t.reduce((n,s)=>n.antijoin(s.select(i)),e).dedupe()}const Ma=2147483648,Qx=4294967295;class U0{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let i=0;for(let n=0;n<t;++n)for(let s=this._bits[n];s;++i)s&=s-1;return i}get(t){return this._bits[t>>5]&Ma>>>t}set(t){this._bits[t>>5]|=Ma>>>t}clear(t){this._bits[t>>5]&=~(Ma>>>t)}scan(t){for(let i=this.next(0);i>=0;i=this.next(i+1))t(i)}next(t){const i=this._bits,n=i.length;let s=t>>5,r=i[s]&Qx>>>t;for(;s<n;r=i[++s])if(r!==0)return(s<<5)+Math.clz32(r);return-1}nth(t){let i=this.next(0);for(;t--&&i>=0;)i=this.next(i+1);return i}not(){const t=this._bits,i=t.length;for(let s=0;s<i;++s)t[s]=~t[s];const n=this._size%32;return n&&(t[i-1]&=Ma>>n-1),this}and(t){if(t){const i=this._bits,n=t._bits,s=i.length;for(let r=0;r<s;++r)i[r]&=n[r]}return this}or(t){if(t){const i=this._bits,n=t._bits,s=i.length;for(let r=0;r<s;++r)i[r]|=n[r]}return this}}function Zx(e,t){const i=e.totalRows(),n=e.mask(),s=e.data(),r=new U0(i);if(n)for(let a=n.next(0);a>=0;a=n.next(a+1))t(a,s)&&r.set(a);else for(let a=0;a<i;++a)t(a,s)&&r.set(a);return e.create({filter:r})}function Xx(e,t){const i=Gt({p:t},{table:e});let n=i.exprs[0];if(i.ops.length){const{data:s}=Hh(e,i,{drop:!0}).column("p");n=r=>s[r]}return Zx(e,n)}function $0(e,{names:t=[],exprs:i=[],ops:n=[]},s={}){if(!t.length)return e;const r=s.limit>0?+s.limit:1/0,a=s.index?s.index===!0?"index":s.index+"":null,o=new Set(s.drop),c=Un(e,n,i),u=le(),l=new Set(t),p=[],d=[],y=[];e.columnNames().forEach(k=>{if(!o.has(k)){const vt=u.add(k,[]);l.has(k)||(p.push(e.column(k)),d.push(vt))}}),t.forEach(k=>{o.has(k)||(u.has(k)||u.add(k,[]),y.push(u.data[k]))});const g=a?u.add(a,[]):null;let _=0;const S=p.length,C=y.length,H=(k,vt)=>{for(let q=0;q<S;++q)d[q].length=_+vt,d[q].fill(p[q].get(k),_,_+vt)},yt=g?(k,vt)=>{for(let q=0;q<vt;++q)g[k+q]=q}:()=>{};if(C===1){const k=c[0],vt=y[0];e.scan((q,Lt)=>{const at=Ht(k(q,Lt)),kt=Math.min(at.length,r);H(q,kt);for(let Tt=0;Tt<kt;++Tt)vt[_+Tt]=at[Tt];yt(_,kt),_+=kt})}else e.scan((k,vt)=>{let q=0;const Lt=c.map(at=>{const kt=Ht(at(k,vt));return q=Math.min(Math.max(q,kt.length),r),kt});H(k,q);for(let at=0;at<C;++at){const kt=y[at],Tt=Lt[at];for(let Qt=0;Qt<q;++Qt)kt[_+Qt]=Tt[Qt]}yt(_,q),_+=q});return e.create(u.new())}function tS(e,{names:t=[],exprs:i=[],ops:n=[]},s={}){if(t.length===0)return e;const[r="key",a="value"]=s.as||[],o=Un(e,n,i);return $0(e,{names:[r,a],exprs:[()=>t,(c,u)=>o.map(l=>l(c,u))]},{...s,drop:t})}function Be(e,t,i,n={window:!1}){const s=new Map,r=a=>{a=Pt(a)?t.columnName(a):a,Ft(a)?s.set(a,Pn(a)):pt(a)?di(t,a).forEach(r):Rt(a)?Oy(s,a):j(`Invalid ${e} value: ${a+""}`)};return Ht(i).forEach(r),n.preparse&&n.preparse(s),Gt(s,{table:t,...n})}function eS(e,t,i){return tS(e,Be("fold",e,t),i)}function qd(e,t,i,n){const s=i&&i.length;return iS(s?nS(e,i,n):e,t,s)}function iS(e,{names:t,exprs:i,ops:n},s){const r=Un(e,n,i),a=s?null:le(e),o=e.totalRows();return t.forEach((c,u)=>{const l=e.column(c),p=s?l.data:a.add(c,Array(o)),d=r[u];e.scan(y=>{const g=l.get(y);p[y]=Ce(g)?g:d(y)})}),s?e:e.create(a)}function nS(e,t,i){const n=e.groups(),s=e.data(),r=(n?n.names:[]).concat(t),a=(n?n.get:[]).concat(t.map(g=>e.getter(g))),o=new Set,c=Ya(a);e.scan((g,_)=>o.add(c(g,_)));const u=e.columnNames(),l=le(),p=u.map(g=>l.add(g,[]));u.forEach((g,_)=>{const S=s[g],C=p[_];e.scan(H=>C.push(S.get(H)))});const d=Ya(a.map((g,_)=>S=>S[_])),y=Zs("v","{"+p.map((g,_)=>`_${_}.push(v[$${_}]);`).join("")+"}",p,u.map(g=>r.indexOf(g)));if(n){let g=n.keys.length;const _=i.reduce((C,H)=>C*H.length,n.size),S=new Uint32Array(_+(g-o.size));S.set(n.keys),Hd(n,i,(C,H)=>{o.has(d(C))||(y(C),S[g++]=H[0])}),l.groupby({...n,keys:S})}else Hd(n,i,g=>{o.has(d(g))||y(g)});return e.create(l.new())}function Hd(e,t,i){const n=e?e.get.length:0,s=e?1:0,r=s+t.length,a=new Int32Array(r),o=new Int32Array(r),c=[];if(e){const{get:l,rows:p,size:d}=e;a[0]=d,c.push((y,g)=>{const _=p[g];for(let S=0;S<n;++S)y[S]=l[S](_)})}t.forEach((l,p)=>{const d=p+n;a[p+s]=l.length,c.push((y,g)=>y[d]=l[g])});const u=Array(n+t.length);for(let l=0;l<r;++l)c[l](u,0);i(u,o);for(let l=r-1;l>=0;){const p=++o[l];p<a[l]?(c[l](u,p),i(u,o),l=r-1):(o[l]=0,c[l](u,0),--l)}}function Yh(e,{names:t,exprs:i,ops:n}){const s=le(),r=e.groups();return r&&P0(s,r),sS(t,i,r,Xs(e,n),s),e.create(s.new())}function sS(e,t,i,n=[],s){if(!t.length)return;const r=i?i.size:1,a=(c,u)=>n[c][u],o=e.length;for(let c=0;c<o;++c){const u=t[c];if(u.field!=null)s.add(e[c],n[u.field]);else if(r>1){const l=s.add(e[c],Array(r));for(let p=0;p<r;++p)l[p]=u(p,null,a)}else s.add(e[c],[u(0,null,a)])}}function rS(e,t,i={}){if(t=Gt(t,{table:e}),t.names.forEach(n=>e.column(n)?0:j(`Invalid impute column ${Ye(n)}`)),i.expand){const n={preparse:aS,aggronly:!0},s=Be("impute",e,i.expand,n),r=Yh(e.ungroup(),s);return qd(e,t,s.names,s.names.map(a=>r.get(a,0)))}else return qd(e,t)}function aS(e){e.forEach((t,i)=>t.field?e.set(i,dp(t+"")):0)}function oS(e,t){const i=e.columnNames();return t.length?t.reduce((n,s)=>n.semijoin(s.select(i)),e).dedupe():e.reify([])}function j0(e,t){const i=new Map;return e.scan((n,s)=>{const r=t(n,s);r!=null&&r===r&&i.set(r,n)}),i}function cS(e,t,i){const n=new Map,s=e.length;for(let r=0;r<s;++r){const a=e[r],o=i(a,t);o!=null&&o===o&&(n.has(o)?n.get(o).push(r):n.set(o,[r]))}return n}function uS(e,t){const i=["i","a","j","b"];return Zs(i,"{"+sa(e,(n,s)=>`_${s}.push($${s}(${i}));`)+"}",e,t)}function lS(e,t,i,{names:n,exprs:s},r={}){const a=e.data(),o=e.indices(!1),c=o.length,u=new Int32Array(c),l=t.data(),p=t.indices(!1),d=p.length,y=new Int32Array(d),g=n.length,_=le(),S=Array(g),C=Array(g);for(let k=0;k<n.length;++k)S[k]=_.add(n[k],[]),C[k]=s[k];const H=uS(S,C);if((st(i)?fS:hS)(H,i,a,l,o,p,u,y,c,d),r.left)for(let k=0;k<c;++k)u[k]||H(o[k],a,-1,l);if(r.right)for(let k=0;k<d;++k)y[k]||H(-1,a,p[k],l);return e.create(_.new())}function hS(e,t,i,n,s,r,a,o,c,u){for(let l=0;l<c;++l){const p=s[l];for(let d=0;d<u;++d){const y=r[d];t(p,i,y,n)&&(e(p,i,y,n),a[l]=1,o[d]=1)}}}function fS(e,[t,i],n,s,r,a,o,c,u,l){let p,d,y,g,_,S,C,H,yt=e;u>=l?(p=n,d=t,y=o,g=r,_=s,S=i,C=c,H=a):(p=s,d=i,y=c,g=a,_=n,S=t,C=o,H=r,yt=(q,Lt,at,kt)=>e(at,kt,q,Lt));const k=cS(H,_,S),vt=g.length;for(let q=0;q<vt;++q){const Lt=g[q],at=k.get(d(Lt,p));if(at){const kt=at.length;for(let Tt=0;Tt<kt;++Tt){const Qt=at[Tt];yt(Lt,p,H[Qt],_),C[Qt]=1}y[q]=1}}}function yo(e,t,i){const n=new Map;Ht(i).forEach((r,a)=>{r=Pt(r)?t.columnName(r):r,Ft(r)?n.set(a,Pn(r)):pt(r)||Rt(r)&&r.expr?n.set(a,r):j(`Invalid ${e} key value: ${r+""}`)});const s=Gt(n,{table:t,aggregate:!1,window:!1});return Ya(s.exprs,!0)}function dS(e,t){const i=new Set(t);return e.filter(n=>i.has(n))}function Gh(e,t,i){if(i)Ft(i)?i=[i,i]:st(i)&&i.length===1&&(i=[i[0],i[0]]);else{const n=dS(e.columnNames(),t.columnNames());n.length||j("Natural join requires shared column names."),i=[n,n]}return i}function z0(e,t,i,n){return i.length!==n.length&&j("Mismatched number of join keys"),[yo("join",e,i),yo("join",t,n)]}const pS={aggregate:!1,window:!1},mS={...pS,index:1};function Yd(e,t,i,n,s={}){i=Gh(e,t,i);const r={join:[e,t]};let a;if(st(i)){const[o,c]=i.map(Ht);a=z0(e,t,o,c),n||(n=yS(e,o,c,s))}else a=Gt({on:i},r).exprs[0],n||(n=[Us(),Us()]);return lS(e,t,a,gS(e,t,n,r,s&&s.suffix),s)}function yS(e,t,i,n){const s=[];t.forEach((a,o)=>Ft(a)&&a===i[o]?s.push(a):0);const r=Ny(s);if(n.left&&n.right){const a=new Set(s);return[e.columnNames().map(o=>{const c=`[${Ye(o)}]`;return a.has(o)?{[o]:`(a, b) => a${c} == null ? b${c} : a${c}`}:o}),r]}return n.right?[r,Us()]:[Us(),r]}function gS(e,t,i,n,s=[]){if(st(i)){let r,a,o,c=i.length;r=a=o={names:[],exprs:[]},c--&&(r=Be("join",e,i[0],n)),c--&&(a=Be("join",t,i[1],mS)),c--&&(o=Gt(i[2],n));const u=new Set,l=new Set(r.names);return a.names.forEach(p=>{l.has(p)&&u.add(p)}),u.size&&(Gd(r.names,u,s[0]||"_1"),Gd(a.names,u,s[1]||"_2")),{names:r.names.concat(a.names,o.names),exprs:r.exprs.concat(a.exprs,o.exprs)}}else return Gt(i,n)}function Gd(e,t,i){e.forEach((n,s)=>t.has(n)?e[s]=n+i:0)}function _S(e,t,i,n={}){const s=new U0(e.totalRows());return(st(i)?bS:vS)(s,e,t,i),n.anti&&s.not().and(e.mask()),e.create({filter:s})}function bS(e,t,i,[n,s]){const r=j0(i,s);t.scan((a,o)=>{r.get(n(a,o))>=0&&e.set(a)})}function vS(e,t,i,n){const s=t.numRows(),r=i.numRows(),a=t.data(),o=i.data();if(t.isFiltered()||i.isFiltered()){const c=t.indices(!1),u=i.indices(!1);for(let l=0;l<s;++l){const p=c[l];for(let d=0;d<r;++d)if(n(p,a,u[d],o)){e.set(p);break}}}else for(let c=0;c<s;++c)for(let u=0;u<r;++u)if(n(c,a,u,o)){e.set(c);break}}function Kd(e,t,i,n){i=Gh(e,t,i);const s=st(i)?z0(e,t,...i.map(Ht)):Gt({on:i},{join:[e,t]}).exprs[0];return _S(e,t,s,n)}function wS(e,t,[i,n],{names:s,exprs:r,ops:a}){const o=le(e),c=e.totalRows();s.forEach(d=>o.add(d,Array(c).fill(nt)));const u=j0(t,n),l=Zs(["lr","rr","data"],"{"+sa(s,(d,y)=>`_[${y}][lr] = $[${y}](rr, data);`)+"}",s.map(d=>o.data[d]),Un(t,a,r)),p=t.data();return e.scan((d,y)=>{const g=u.get(i(d,y));g>=0&&l(d,g,p)}),e.create(o)}function xS(e,t,i,n){return i=Gh(e,t,i),wS(e,t,[yo("lookup",e,i[0]),yo("lookup",t,i[1])],Be("lookup",t,n))}const Il=(e,t)=>e??t;function SS(e,t,i,n={}){const{keys:s,keyColumn:r}=IS(e,t,n),a=Il(n.valueSeparator,"_"),o=i.names.length>1?(u,l)=>l+a+s[u]:u=>s[u],c=s.map(u=>Xs(e,i.ops.map(l=>{if(l.name==="count"){const d=y=>u===r[y]?1:NaN;return d.toString=()=>u+":1",{...l,name:"sum",fields:[d]}}const p=l.fields.map(d=>{const y=(g,_)=>u===r[g]?d(g,_):NaN;return y.toString=()=>u+":"+d,y});return{...l,fields:p}})));return e.create(AS(i,o,e.groups(),c))}function IS(e,t,i){const n=i.limit>0?+i.limit:1/0,s=Il(i.sort,!0),r=Il(i.keySeparator,"_"),a=Un(e,t.ops,t.exprs),o=a.length===1?a[0]:(p,d)=>a.map(y=>y(p,d)).join(r),c=Array(e.totalRows());e.scan((p,d)=>c[p]=o(p,d));const u=Xs(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[p=>c[p]],params:[]}])[0][0],l=s?u.sort():u;return{keys:Number.isFinite(n)?l.slice(0,n):l,keyColumn:c}}function AS({names:e,exprs:t},i,n,s){const r=n?n.size:1,a=le(),o=s.length,c=e.length;let u;const l=(p,d)=>u[p][d];n&&P0(a,n);for(let p=0;p<c;++p){const d=t[p];if(d.field!=null)for(let y=0;y<o;++y)a.add(i(y,e[p]),s[y][d.field]);else if(r>1)for(let y=0;y<o;++y){u=s[y];const g=a.add(i(y,e[p]),Array(r));for(let _=0;_<r;++_)g[_]=d(_,null,l)}else for(let y=0;y<o;++y)u=s[y],a.add(i(y,e[p]),[d(0,null,l)])}return a.new()}function ES(e,t,i,n){return SS(e,Be("fold",e,t),Be("fold",e,i,{preparse:TS,aggronly:!0}),n)}function TS(e){e.forEach((t,i)=>t.field?e.set(i,lp(t+"")):0)}function CS(e,t){const i=new Map;return e.columnNames(n=>(i.set(n,n),0)),zh(e,di(e,t,i))}function Jd(e,t){return Yh(e,Gt(t,{table:e,aggronly:!0,window:!1}))}function kS(e,t,i,n){return(t?n?BS:OS:n?FS:NS)(e.length,e,i,n)}function OS(e,t,i){const n=i.length;for(let s=0;s<e;++s)t[s]=i[n*Ws()|0];return t}function BS(e,t,i,n){const s=i.length,r=new Float64Array(s);let a=0;for(let c=0;c<s;++c)r[c]=a+=n(i[c]);const o=V0(Wh).right;for(let c=0;c<e;++c)t[c]=i[o(r,a*Ws())];return t}function NS(e,t,i){const n=i.length;if(e>=n)return i;for(let s=0;s<e;++s)t[s]=i[s];for(let s=e;s<n;++s){const r=s*Ws();r<e&&(t[r|0]=i[s])}return t}function FS(e,t,i,n){const s=i.length;if(e>=s)return i;const r=new Float32Array(s),a=new Uint32Array(s);for(let o=0;o<s;++o)a[o]=o,r[o]=-Math.log(Ws())/n(i[o]);a.sort((o,c)=>r[o]-r[c]);for(let o=0;o<e;++o)t[o]=i[a[o]];return t}function LS(e,t=0,i=e.length){let n=i-(t=+t);for(;n;){const s=Ws()*n--|0,r=e[n+t];e[n+t]=e[s+t],e[s+t]=r}return e}function DS(e,t,i,n={}){const{replace:s,shuffle:r}=n,a=e.partitions(!1);let o=0;t=a.map((l,p)=>{let d=t(p);return o+=d=s?d:Math.min(l.length,d),d});const c=new Uint32Array(o);let u=0;return a.forEach((l,p)=>{const d=t[p],y=c.subarray(u,u+=d);!s&&d===l.length?y.set(l):kS(y,s,l,i)}),r!==!1&&(a.length>1||!s)&&LS(c),e.reify(c)}function MS(e,t,i={}){return DS(e,RS(e,t),PS(e,i.weight),i)}const W0=e=>t=>e.get(t)||0;function RS(e,t){return Pt(t)?()=>t:W0(Yh(e,Gt({size:t},{table:e,window:!1})).column("size"))}function PS(e,t){return t==null?null:(t=Pt(t)?e.columnName(t):t,W0(Ft(t)?e.column(t):Hh(e,Gt({w:t},{table:e}),{drop:!0}).column("w")))}function VS(e,t){return zh(e,di(e,t))}function US(e,{names:t,exprs:i,ops:n=[]},s={}){if(t.length===0)return e;const r=t.length===1&&s.as||[],a=s.drop==null?!0:!!s.drop,o=s.limit==null?r.length||1/0:Math.max(1,+s.limit||1),c=Un(e,n,i),u=le(),l=t.reduce((d,y,g)=>d.set(y,g),new Map),p=(d,y)=>{const g=$S(e,c[d],o),_=g.length;for(let S=0;S<_;++S)u.add(r[S]||`${y}_${S+1}`,g[S])};return e.columnNames().forEach(d=>{l.has(d)?(a||u.add(d,e.column(d)),p(l.get(d),d),l.delete(d)):u.add(d,e.column(d))}),l.forEach(p),e.create(u)}function $S(e,t,i){const n=e.totalRows(),s=[];return e.scan((r,a)=>{const o=Ht(t(r,a)),c=Math.min(o.length,i);for(;s.length<c;)s.push(Array(n).fill(nt));for(let u=0;u<c;++u)s[u][r]=o[u]}),s}function jS(e,t,i){return US(e,Be("spread",e,t),i)}function zS(e,t){return e.concat(t).dedupe()}function WS(e,t,i){return $0(e,Be("unroll",e,t),i&&i.drop?{...i,drop:Be("unroll",e,i.drop).names}:i)}function qS(e,t){return e.create({groups:HS(e,t)})}function HS(e,{names:t=[],exprs:i=[],ops:n=[]}){const s=t.length;if(s===0)return null;if(s===1&&!e.isFiltered()&&i[0].field){const y=e.column(i[0].field);if(y.groups)return y.groups(t)}let r=Un(e,n,i);const a=Ya(r),o=e.totalRows(),c=new Uint32Array(o),u={},l=[],p=e.data(),d=e.mask();if(d)for(let y=d.next(0);y>=0;y=d.next(y+1)){const g=a(y,p)+"",_=u[g];c[y]=_??(u[g]=l.push(y)-1)}else for(let y=0;y<o;++y){const g=a(y,p)+"",_=u[g];c[y]=_??(u[g]=l.push(y)-1)}return n.length||(r=r.map(y=>g=>y(g,p))),{keys:c,get:r,names:t,rows:l,size:l.length}}function YS(e,t){return qS(e,Be("groupby",e,t))}function GS(e,t){return e.create({order:t})}const KS=(e,t,i,n)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${i}
    : (u > v || v == null) && u != null ? ${n}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${i}
    : v !== v && u === u ? ${n} : `;function JS(e,t){const i=[],n=[],s=[];let r=null,a="0",o="0";e.isGrouped()&&(r=e.groups().keys,a="ka",o="kb");const{ops:c}=Gt(t,{table:e,value:(y,g)=>{if(i.push(y),g.escape){const _=S=>`fn[${s.length}](${S}, data)`;n.push([_("a"),_("b")]),s.push(g.escape)}else n.push([Ha(g,{index:"a",op:a}),Ha(g,{index:"b",op:o})])},window:!1}),u=Xs(e,c),l=(y,g)=>u[y][g],p=i.length;let d="return (a, b) => {"+(l&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let y=0;y<p;++y){const g=t.get(i[y]).desc?-1:1,[_,S]=n[y];d+=KS(_,S,-g,g)}return d+="0;};",Function("op","keys","fn","data",d)(l,r,s,e.data())}function QS(e,t){return GS(e,ZS(e,t))}function ZS(e,t){let i=-1;const n=new Map,s=r=>n.set(++i+"",r);return t.forEach(r=>{const a=r.expr!=null?r.expr:r;if(Rt(a)&&!pt(a))for(const o in a)s(a[o]);else s(Pt(a)?Pn(r,e.columnName(a)):Ft(a)?Pn(r):pt(a)?r:j(`Invalid orderby field: ${r+""}`))}),JS(e,n)}function XS(e,t){const i=e.numRows(),n=i+t.reduce((a,o)=>a+o.numRows(),0);if(i===n)return e;const s=[e,...t],r=le();return e.columnNames().forEach(a=>{const o=Array(n);let c=0;s.forEach(u=>{const l=u.column(a)||{get:()=>nt};u.scan(p=>o[c++]=l.get(p))}),r.add(a,o)}),e.create(r.new())}function tI(e,t){const i=le(),n=e.groups(),{get:s,names:r=[],rows:a,size:o=1}=n||{},c=new Uint32Array(o+1);r.forEach(d=>i.add(d,null));const u=n?R0(e,t,n):[M0(e,t)];t.outputs().map(d=>i.add(d,[]));const l=c.length-1;let p=0;for(let d=0;d<l;++d)p+=c[d+1]=t.write(u[d],i.data,c[d]);if(n){const d=e.data();r.forEach((y,g)=>{const _=i.data[y]=Array(p),S=s[g];for(let C=0,H=0;C<o;++C)_.fill(S(a[C],d),H,H+=c[C+1])})}return e.create(i.new())}function eI(e){return e.isGrouped()?e.create({groups:null}):e}function iI(e){return e.isOrdered()?e.create({order:null}):e}const nI={__antijoin:(e,t,i)=>Kd(e,t,i,{anti:!0}),__count:(e,t={})=>Jd(e,{[t.as||"count"]:hp()}),__cross:(e,t,i,n)=>Yd(e,t,()=>!0,i,{...n,left:!0,right:!0}),__concat:XS,__dedupe:Ox,__derive:Kx,__except:Jx,__filter:Xx,__fold:eS,__impute:rS,__intersect:oS,__join:Yd,__lookup:xS,__pivot:ES,__relocate:L0,__rename:CS,__rollup:Jd,__sample:MS,__select:VS,__semijoin:Kd,__spread:jS,__union:zS,__unroll:WS,__groupby:YS,__orderby:QS,__ungroup:eI,__unorder:iI,__reduce:tI};Object.assign(oi.prototype,nI);oi.prototype;function PI(e){return Array.from(new Set(e))}function sI(e){let t=kx(e);return rI(t)}function rI(e){for(const i of e._names)e=e.impute({[i]:()=>0});let t=0;for(const i of e._names)i.includes(" ")?e=e.rename({[i]:i.replace(/\s/gi,"_")}):i===""&&(e=e.rename({[i]:"index_"+t}),t++);return e}function VI(e,t,i,n){let s=Object.keys(t).map(r=>{let a=e==null?void 0:e[r];if(e===void 0)return!1;{let o=t[r];if(o.response_type===aI)return Object.keys(a||{}).length==2&&a.lower>=0&&a.lower<=1e3&&a.upper>=0&&a.upper<=1e3;if(o.response_type===uI)return Object.keys(a||{}).length==2&&a.Yes>=0&&a.Yes<=1&&a.No>=0&&a.No<=1&&a.Yes+a.No==1;if(o.response_type===cI)return Object.keys(a||{}).length==n[o.group_by];if(o.response_type===oI)return Object.keys(a||{}).length==n[o.group_by]*(n[o.group_by]-1)/2}});return s.length===i&&s.every(r=>r)}let UI=Qd(""),Wa=Qd();async function $I(e){e.order_2=e.Order.map(t=>({ACS:qr,DIA:Hr,STU:Yr})[t]),Wa.set(e),localStorage.setItem("participant-id",JSON.stringify(e))}async function jI(){return Zf(Wa)||Wa.set(JSON.parse(localStorage.getItem("participant-id"))),Zf(Wa)}async function zI(e,t,i){let s=await(await X0(`data-${K0[e]}-${t}-${i}.csv`)).text();return sI(s)}const aI="interval",oI="joint",cI="discrete",uI="binary";function lI(e){let t;return{c(){t=I(e[0])},l(i){t=A(i,e[0])},m(i,n){ep(i,t,n)},p(i,[n]){n&1&&q0(t,i[0])},i:el,o:el,d(i){i&&b(t)}}}function hI(e,t,i){let{math:n}=t;return H0(()=>{let s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js",document.head.append(s),s.onload=()=>{MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0}}}}),e.$$set=s=>{"math"in s&&i(0,n=s.math)},[n]}class se extends Zd{constructor(t){super(),Xd(this,t,hI,lI,tp,{math:0})}}function fI(e){let t,i,n,s,r,a,o,c,u,l,p,d,y,g,_,S,C,H,yt,k,vt,q,Lt,at,kt,Tt,Qt,Mo,Ro,Yi,tr,Po,Vo,bi,Uo,Gi,$o,Ki,$n,Ji,jo,zo,jn,Qi,Wo,qo,zn,Ho,Yo,er,Go,Ko,ir,Jo,Qo,nr,vi,sr,Zi,Zo,rr,Xi,Xo,tc,ar,ec,ic,or,Wn,cr,tn,nc,sc,ur,rc,ac,lr,hr,fr,en,oc,nn,sn,cc,uc,dr,lc,hc,pr,fc,dc,wi,mr,rn,qn,pc,mc,an,on,yc,gc,we,cn,Hn,_c,bc,Yn,vc,wc,un,Gn,xc,Sc,Kn,Ic,Ac,ln,Jn,Ec,Tc,Qn,Cc,kc,hn,Zn,Oc,Bc,Xn,Nc,Fc,yr,Lc,Dc,gr,Mc,Rc,xi,_r,fn,ts,Pc,Vc,dn,pn,Uc,$c,xe,mn,es,jc,zc,is,Wc,qc,yn,ns,Hc,Yc,ss,Gc,Kc,gn,rs,Jc,Qc,as,Zc,Xc,_n,os,tu,eu,cs,iu,nu,br,su,ru,vr,au,ou,Si,wr,bn,us,cu,uu,vn,wn,lu,hu,Se,xn,ls,fu,du,hs,pu,mu,Sn,fs,yu,gu,ds,_u,bu,In,ps,vu,wu,ms,xu,Su,An,ys,Iu,Au,gs,Eu,ra;return q=new se({props:{math:"$${score} = ({upper} - {lower}) + 40 \\times ({lower} - {true\\ answer}) \\times 1[{true\\ answer < {lower}}] $$"}}),at=new se({props:{math:"$$+ 40 \\times ({true\\ answer} - {upper}) \\times 1[{true\\ answer > {upper}}]$$"}}),Gi=new se({props:{math:"$${score} = ({yes\\ guess} - {yes\\ actual})^{2} + ({no\\ guess} - {no\\ actual})^{2}$$"}}),Ji=new se({props:{math:"${yes\\ actual} = 1$"}}),Qi=new se({props:{math:"${no\\ actual} = 1$"}}),Zi=new se({props:{math:"${score}_{normalized} = \\frac{X - score}{X}$"}}),Xi=new se({props:{math:"$X$"}}),tn=new se({props:{math:"${score}_{normalized\\ for\\ block} = \\sum{{score}_{normalized}}$"}}),en=new se({props:{math:"${payoff} = {min}({max}(2.5 \\times {score}_{normalized\\ for\\ block}, 0), 10)$"}}),sn=new se({props:{math:"$X$"}}),on=new se({props:{math:"$X$"}}),pn=new se({props:{math:"$X$"}}),wn=new se({props:{math:"$X$"}}),{c(){t=v("article"),i=v("h3"),n=I("Scoring Rules & Payoffs"),s=E(),r=v("p"),a=I(`The below information about scoring rules and payoffs was provided before
    the study and was always available during the study.`),o=E(),c=v("h4"),u=I("Scoring Rules:"),l=E(),p=v("ul"),d=v("li"),y=v("h5"),g=I("Interval Response"),_=E(),S=v("ul"),C=v("li"),H=I(`Description: Lower scores are better. This scoring rule rewards
          tighter intervals that contain the true value, and includes a penalty
          if the provided interval does not contain the true value.`),yt=E(),k=v("li"),vt=I(`Equation:
          `),Zt(q.$$.fragment),Lt=E(),Zt(at.$$.fragment),kt=E(),Tt=v("li"),Qt=v("h5"),Mo=I("Binary Response"),Ro=E(),Yi=v("ul"),tr=v("li"),Po=I(`Description: Lower scores are better. Scores on binary responses range
          from 0 to 2the minimum score is obtained by assigning 1 to yes_guess
          if yes is the actual answer and 1 to no_guess if no is the actual
          answer.`),Vo=E(),bi=v("li"),Uo=I(`Equation:
          `),Zt(Gi.$$.fragment),$o=E(),Ki=v("ul"),$n=v("li"),Zt(Ji.$$.fragment),jo=I(` if actual answer is yes and
              0 otherwise`),zo=E(),jn=v("li"),Zt(Qi.$$.fragment),Wo=I(` if actual answer is no and 0
              otherwise`),qo=E(),zn=v("h4"),Ho=I("Score  Payoff ($):"),Yo=E(),er=v("p"),Go=I(`Once you have answered all questions in a block, i.e., a set of four
    questions about a dataset, we normalize your scores so they are all on the
    same scale, and translate the normalized scores into a payoff. This process
    is how we translate scores  money. your scores are normalized and
    translated to a payoff.`),Ko=E(),ir=v("p"),Jo=I("First, we calculate a normalized score for each question:"),Qo=E(),nr=v("ul"),vi=v("li"),sr=v("span"),Zt(Zi.$$.fragment),Zo=I(", where "),rr=v("span"),Zt(Xi.$$.fragment),Xo=I(` is a constant based on the dataset
      & question (see bottom of doc)`),tc=E(),ar=v("p"),ec=I("Then, we calculate a normalized score for the block:"),ic=E(),or=v("ul"),Wn=v("li"),cr=v("span"),Zt(tn.$$.fragment),nc=I(", for each question in the block"),sc=E(),ur=v("p"),rc=I("Finally, we translate the normalized score into a dollar amount by defining a payoff function:"),ac=E(),lr=v("ul"),hr=v("li"),fr=v("span"),Zt(en.$$.fragment),oc=E(),nn=v("h4"),Zt(sn.$$.fragment),cc=I(" constants by dataset (ACS, DIA, STU) and question:"),uc=E(),dr=v("h5"),lc=I("ACS"),hc=E(),pr=v("p"),fc=I("Census survey dataset"),dc=E(),wi=v("table"),mr=v("thead"),rn=v("tr"),qn=v("th"),pc=I("Question"),mc=E(),an=v("th"),Zt(on.$$.fragment),yc=I(" constant"),gc=E(),we=v("tbody"),cn=v("tr"),Hn=v("td"),_c=I("(race, age)"),bc=E(),Yn=v("td"),vc=I("4043.29"),wc=E(),un=v("tr"),Gn=v("td"),xc=I("(race, number of children)"),Sc=E(),Kn=v("td"),Ic=I("217.69"),Ac=E(),ln=v("tr"),Jn=v("td"),Ec=I("(age, marital)"),Tc=E(),Qn=v("td"),Cc=I("56.80"),kc=E(),hn=v("tr"),Zn=v("td"),Oc=I("(marital, income)"),Bc=E(),Xn=v("td"),Nc=I("2.00"),Fc=E(),yr=v("h5"),Lc=I("DIA"),Dc=E(),gr=v("p"),Mc=I("Diabetes dataset"),Rc=E(),xi=v("table"),_r=v("thead"),fn=v("tr"),ts=v("th"),Pc=I("Question"),Vc=E(),dn=v("th"),Zt(pn.$$.fragment),Uc=I(" constant"),$c=E(),xe=v("tbody"),mn=v("tr"),es=v("td"),jc=I("(admission type, days in hospital)"),zc=E(),is=v("td"),Wc=I("113.40"),qc=E(),yn=v("tr"),ns=v("td"),Hc=I("(age, number of medications)"),Yc=E(),ss=v("td"),Gc=I("283.30"),Kc=E(),gn=v("tr"),rs=v("td"),Jc=I("(race, days in hospital)"),Qc=E(),as=v("td"),Zc=I("186.90"),Xc=E(),_n=v("tr"),os=v("td"),tu=I("(admission type, age)"),eu=E(),cs=v("td"),iu=I("2.00"),nu=E(),br=v("h5"),su=I("STU"),ru=E(),vr=v("p"),au=I("Student evaluation dataset"),ou=E(),Si=v("table"),wr=v("thead"),bn=v("tr"),us=v("th"),cu=I("Question"),uu=E(),vn=v("th"),Zt(wn.$$.fragment),lu=I(" constant"),hu=E(),Se=v("tbody"),xn=v("tr"),ls=v("td"),fu=I("(instructor, instructor's knowledge)"),du=E(),hs=v("td"),pu=I("3703.00"),mu=E(),Sn=v("tr"),fs=v("td"),yu=I("(enjoyed class, instructor)"),gu=E(),ds=v("td"),_u=I("185.60"),bu=E(),In=v("tr"),ps=v("td"),vu=I("(instructor's knowledge, difficulty)"),wu=E(),ms=v("td"),xu=I("56.80"),Su=E(),An=v("tr"),ys=v("td"),Iu=I("(attendance, difficulty)"),Au=E(),gs=v("td"),Eu=I("2.00"),this.h()},l(tt){t=w(tt,"ARTICLE",{class:!0});var N=x(t);i=w(N,"H3",{});var Kh=x(i);n=A(Kh,"Scoring Rules & Payoffs"),Kh.forEach(b),s=T(N),r=w(N,"P",{});var Jh=x(r);a=A(Jh,`The below information about scoring rules and payoffs was provided before
    the study and was always available during the study.`),Jh.forEach(b),o=T(N),c=w(N,"H4",{class:!0});var Qh=x(c);u=A(Qh,"Scoring Rules:"),Qh.forEach(b),l=T(N),p=w(N,"UL",{});var aa=x(p);d=w(aa,"LI",{});var oa=x(d);y=w(oa,"H5",{});var Zh=x(y);g=A(Zh,"Interval Response"),Zh.forEach(b),_=T(oa),S=w(oa,"UL",{});var ca=x(S);C=w(ca,"LI",{});var Xh=x(C);H=A(Xh,`Description: Lower scores are better. This scoring rule rewards
          tighter intervals that contain the true value, and includes a penalty
          if the provided interval does not contain the true value.`),Xh.forEach(b),yt=T(ca),k=w(ca,"LI",{});var xr=x(k);vt=A(xr,`Equation:
          `),Xt(q.$$.fragment,xr),Lt=T(xr),Xt(at.$$.fragment,xr),xr.forEach(b),ca.forEach(b),oa.forEach(b),kt=T(aa),Tt=w(aa,"LI",{});var ua=x(Tt);Qt=w(ua,"H5",{});var tf=x(Qt);Mo=A(tf,"Binary Response"),tf.forEach(b),Ro=T(ua),Yi=w(ua,"UL",{});var la=x(Yi);tr=w(la,"LI",{});var ef=x(tr);Po=A(ef,`Description: Lower scores are better. Scores on binary responses range
          from 0 to 2the minimum score is obtained by assigning 1 to yes_guess
          if yes is the actual answer and 1 to no_guess if no is the actual
          answer.`),ef.forEach(b),Vo=T(la),bi=w(la,"LI",{});var Sr=x(bi);Uo=A(Sr,`Equation:
          `),Xt(Gi.$$.fragment,Sr),$o=T(Sr),Ki=w(Sr,"UL",{});var ha=x(Ki);$n=w(ha,"LI",{});var Tu=x($n);Xt(Ji.$$.fragment,Tu),jo=A(Tu,` if actual answer is yes and
              0 otherwise`),Tu.forEach(b),zo=T(ha),jn=w(ha,"LI",{});var Cu=x(jn);Xt(Qi.$$.fragment,Cu),Wo=A(Cu,` if actual answer is no and 0
              otherwise`),Cu.forEach(b),ha.forEach(b),Sr.forEach(b),la.forEach(b),ua.forEach(b),aa.forEach(b),qo=T(N),zn=w(N,"H4",{class:!0});var nf=x(zn);Ho=A(nf,"Score  Payoff ($):"),nf.forEach(b),Yo=T(N),er=w(N,"P",{});var sf=x(er);Go=A(sf,`Once you have answered all questions in a block, i.e., a set of four
    questions about a dataset, we normalize your scores so they are all on the
    same scale, and translate the normalized scores into a payoff. This process
    is how we translate scores  money. your scores are normalized and
    translated to a payoff.`),sf.forEach(b),Ko=T(N),ir=w(N,"P",{});var rf=x(ir);Jo=A(rf,"First, we calculate a normalized score for each question:"),rf.forEach(b),Qo=T(N),nr=w(N,"UL",{});var af=x(nr);vi=w(af,"LI",{});var Ir=x(vi);sr=w(Ir,"SPAN",{});var of=x(sr);Xt(Zi.$$.fragment,of),of.forEach(b),Zo=A(Ir,", where "),rr=w(Ir,"SPAN",{});var cf=x(rr);Xt(Xi.$$.fragment,cf),cf.forEach(b),Xo=A(Ir,` is a constant based on the dataset
      & question (see bottom of doc)`),Ir.forEach(b),af.forEach(b),tc=T(N),ar=w(N,"P",{});var uf=x(ar);ec=A(uf,"Then, we calculate a normalized score for the block:"),uf.forEach(b),ic=T(N),or=w(N,"UL",{});var lf=x(or);Wn=w(lf,"LI",{});var ku=x(Wn);cr=w(ku,"SPAN",{});var hf=x(cr);Xt(tn.$$.fragment,hf),hf.forEach(b),nc=A(ku,", for each question in the block"),ku.forEach(b),lf.forEach(b),sc=T(N),ur=w(N,"P",{});var ff=x(ur);rc=A(ff,"Finally, we translate the normalized score into a dollar amount by defining a payoff function:"),ff.forEach(b),ac=T(N),lr=w(N,"UL",{});var df=x(lr);hr=w(df,"LI",{});var pf=x(hr);fr=w(pf,"SPAN",{});var mf=x(fr);Xt(en.$$.fragment,mf),mf.forEach(b),pf.forEach(b),df.forEach(b),oc=T(N),nn=w(N,"H4",{class:!0});var Ou=x(nn);Xt(sn.$$.fragment,Ou),cc=A(Ou," constants by dataset (ACS, DIA, STU) and question:"),Ou.forEach(b),uc=T(N),dr=w(N,"H5",{});var yf=x(dr);lc=A(yf,"ACS"),yf.forEach(b),hc=T(N),pr=w(N,"P",{});var gf=x(pr);fc=A(gf,"Census survey dataset"),gf.forEach(b),dc=T(N),wi=w(N,"TABLE",{class:!0});var fa=x(wi);mr=w(fa,"THEAD",{});var _f=x(mr);rn=w(_f,"TR",{});var da=x(rn);qn=w(da,"TH",{class:!0});var bf=x(qn);pc=A(bf,"Question"),bf.forEach(b),mc=T(da),an=w(da,"TH",{class:!0});var Bu=x(an);Xt(on.$$.fragment,Bu),yc=A(Bu," constant"),Bu.forEach(b),da.forEach(b),_f.forEach(b),gc=T(fa),we=w(fa,"TBODY",{});var Ii=x(we);cn=w(Ii,"TR",{});var pa=x(cn);Hn=w(pa,"TD",{class:!0});var vf=x(Hn);_c=A(vf,"(race, age)"),vf.forEach(b),bc=T(pa),Yn=w(pa,"TD",{class:!0});var wf=x(Yn);vc=A(wf,"4043.29"),wf.forEach(b),pa.forEach(b),wc=T(Ii),un=w(Ii,"TR",{});var ma=x(un);Gn=w(ma,"TD",{class:!0});var xf=x(Gn);xc=A(xf,"(race, number of children)"),xf.forEach(b),Sc=T(ma),Kn=w(ma,"TD",{class:!0});var Sf=x(Kn);Ic=A(Sf,"217.69"),Sf.forEach(b),ma.forEach(b),Ac=T(Ii),ln=w(Ii,"TR",{});var ya=x(ln);Jn=w(ya,"TD",{class:!0});var If=x(Jn);Ec=A(If,"(age, marital)"),If.forEach(b),Tc=T(ya),Qn=w(ya,"TD",{class:!0});var Af=x(Qn);Cc=A(Af,"56.80"),Af.forEach(b),ya.forEach(b),kc=T(Ii),hn=w(Ii,"TR",{});var ga=x(hn);Zn=w(ga,"TD",{class:!0});var Ef=x(Zn);Oc=A(Ef,"(marital, income)"),Ef.forEach(b),Bc=T(ga),Xn=w(ga,"TD",{class:!0});var Tf=x(Xn);Nc=A(Tf,"2.00"),Tf.forEach(b),ga.forEach(b),Ii.forEach(b),fa.forEach(b),Fc=T(N),yr=w(N,"H5",{});var Cf=x(yr);Lc=A(Cf,"DIA"),Cf.forEach(b),Dc=T(N),gr=w(N,"P",{});var kf=x(gr);Mc=A(kf,"Diabetes dataset"),kf.forEach(b),Rc=T(N),xi=w(N,"TABLE",{class:!0});var _a=x(xi);_r=w(_a,"THEAD",{});var Of=x(_r);fn=w(Of,"TR",{});var ba=x(fn);ts=w(ba,"TH",{class:!0});var Bf=x(ts);Pc=A(Bf,"Question"),Bf.forEach(b),Vc=T(ba),dn=w(ba,"TH",{class:!0});var Nu=x(dn);Xt(pn.$$.fragment,Nu),Uc=A(Nu," constant"),Nu.forEach(b),ba.forEach(b),Of.forEach(b),$c=T(_a),xe=w(_a,"TBODY",{});var Ai=x(xe);mn=w(Ai,"TR",{});var va=x(mn);es=w(va,"TD",{class:!0});var Nf=x(es);jc=A(Nf,"(admission type, days in hospital)"),Nf.forEach(b),zc=T(va),is=w(va,"TD",{class:!0});var Ff=x(is);Wc=A(Ff,"113.40"),Ff.forEach(b),va.forEach(b),qc=T(Ai),yn=w(Ai,"TR",{});var wa=x(yn);ns=w(wa,"TD",{class:!0});var Lf=x(ns);Hc=A(Lf,"(age, number of medications)"),Lf.forEach(b),Yc=T(wa),ss=w(wa,"TD",{class:!0});var Df=x(ss);Gc=A(Df,"283.30"),Df.forEach(b),wa.forEach(b),Kc=T(Ai),gn=w(Ai,"TR",{});var xa=x(gn);rs=w(xa,"TD",{class:!0});var Mf=x(rs);Jc=A(Mf,"(race, days in hospital)"),Mf.forEach(b),Qc=T(xa),as=w(xa,"TD",{class:!0});var Rf=x(as);Zc=A(Rf,"186.90"),Rf.forEach(b),xa.forEach(b),Xc=T(Ai),_n=w(Ai,"TR",{});var Sa=x(_n);os=w(Sa,"TD",{class:!0});var Pf=x(os);tu=A(Pf,"(admission type, age)"),Pf.forEach(b),eu=T(Sa),cs=w(Sa,"TD",{class:!0});var Vf=x(cs);iu=A(Vf,"2.00"),Vf.forEach(b),Sa.forEach(b),Ai.forEach(b),_a.forEach(b),nu=T(N),br=w(N,"H5",{});var Uf=x(br);su=A(Uf,"STU"),Uf.forEach(b),ru=T(N),vr=w(N,"P",{});var $f=x(vr);au=A($f,"Student evaluation dataset"),$f.forEach(b),ou=T(N),Si=w(N,"TABLE",{class:!0});var Ia=x(Si);wr=w(Ia,"THEAD",{});var jf=x(wr);bn=w(jf,"TR",{});var Aa=x(bn);us=w(Aa,"TH",{class:!0});var zf=x(us);cu=A(zf,"Question"),zf.forEach(b),uu=T(Aa),vn=w(Aa,"TH",{class:!0});var Fu=x(vn);Xt(wn.$$.fragment,Fu),lu=A(Fu," constant"),Fu.forEach(b),Aa.forEach(b),jf.forEach(b),hu=T(Ia),Se=w(Ia,"TBODY",{});var Ei=x(Se);xn=w(Ei,"TR",{});var Ea=x(xn);ls=w(Ea,"TD",{class:!0});var Wf=x(ls);fu=A(Wf,"(instructor, instructor's knowledge)"),Wf.forEach(b),du=T(Ea),hs=w(Ea,"TD",{class:!0});var qf=x(hs);pu=A(qf,"3703.00"),qf.forEach(b),Ea.forEach(b),mu=T(Ei),Sn=w(Ei,"TR",{});var Ta=x(Sn);fs=w(Ta,"TD",{class:!0});var Hf=x(fs);yu=A(Hf,"(enjoyed class, instructor)"),Hf.forEach(b),gu=T(Ta),ds=w(Ta,"TD",{class:!0});var Yf=x(ds);_u=A(Yf,"185.60"),Yf.forEach(b),Ta.forEach(b),bu=T(Ei),In=w(Ei,"TR",{});var Ca=x(In);ps=w(Ca,"TD",{class:!0});var Gf=x(ps);vu=A(Gf,"(instructor's knowledge, difficulty)"),Gf.forEach(b),wu=T(Ca),ms=w(Ca,"TD",{class:!0});var Kf=x(ms);xu=A(Kf,"56.80"),Kf.forEach(b),Ca.forEach(b),Su=T(Ei),An=w(Ei,"TR",{});var ka=x(An);ys=w(ka,"TD",{class:!0});var Jf=x(ys);Iu=A(Jf,"(attendance, difficulty)"),Jf.forEach(b),Au=T(ka),gs=w(ka,"TD",{class:!0});var Qf=x(gs);Eu=A(Qf,"2.00"),Qf.forEach(b),ka.forEach(b),Ei.forEach(b),Ia.forEach(b),N.forEach(b),this.h()},h(){Y(c,"class","svelte-1yg5ujb"),Y(zn,"class","svelte-1yg5ujb"),Y(nn,"class","svelte-1yg5ujb"),Y(qn,"class","svelte-1yg5ujb"),Y(an,"class","svelte-1yg5ujb"),Y(Hn,"class","svelte-1yg5ujb"),Y(Yn,"class","svelte-1yg5ujb"),Y(Gn,"class","svelte-1yg5ujb"),Y(Kn,"class","svelte-1yg5ujb"),Y(Jn,"class","svelte-1yg5ujb"),Y(Qn,"class","svelte-1yg5ujb"),Y(Zn,"class","svelte-1yg5ujb"),Y(Xn,"class","svelte-1yg5ujb"),Y(wi,"class","svelte-1yg5ujb"),Y(ts,"class","svelte-1yg5ujb"),Y(dn,"class","svelte-1yg5ujb"),Y(es,"class","svelte-1yg5ujb"),Y(is,"class","svelte-1yg5ujb"),Y(ns,"class","svelte-1yg5ujb"),Y(ss,"class","svelte-1yg5ujb"),Y(rs,"class","svelte-1yg5ujb"),Y(as,"class","svelte-1yg5ujb"),Y(os,"class","svelte-1yg5ujb"),Y(cs,"class","svelte-1yg5ujb"),Y(xi,"class","svelte-1yg5ujb"),Y(us,"class","svelte-1yg5ujb"),Y(vn,"class","svelte-1yg5ujb"),Y(ls,"class","svelte-1yg5ujb"),Y(hs,"class","svelte-1yg5ujb"),Y(fs,"class","svelte-1yg5ujb"),Y(ds,"class","svelte-1yg5ujb"),Y(ps,"class","svelte-1yg5ujb"),Y(ms,"class","svelte-1yg5ujb"),Y(ys,"class","svelte-1yg5ujb"),Y(gs,"class","svelte-1yg5ujb"),Y(Si,"class","svelte-1yg5ujb"),Y(t,"class","svelte-1yg5ujb")},m(tt,N){ep(tt,t,N),m(t,i),m(i,n),m(t,s),m(t,r),m(r,a),m(t,o),m(t,c),m(c,u),m(t,l),m(t,p),m(p,d),m(d,y),m(y,g),m(d,_),m(d,S),m(S,C),m(C,H),m(S,yt),m(S,k),m(k,vt),te(q,k,null),m(k,Lt),te(at,k,null),m(p,kt),m(p,Tt),m(Tt,Qt),m(Qt,Mo),m(Tt,Ro),m(Tt,Yi),m(Yi,tr),m(tr,Po),m(Yi,Vo),m(Yi,bi),m(bi,Uo),te(Gi,bi,null),m(bi,$o),m(bi,Ki),m(Ki,$n),te(Ji,$n,null),m($n,jo),m(Ki,zo),m(Ki,jn),te(Qi,jn,null),m(jn,Wo),m(t,qo),m(t,zn),m(zn,Ho),m(t,Yo),m(t,er),m(er,Go),m(t,Ko),m(t,ir),m(ir,Jo),m(t,Qo),m(t,nr),m(nr,vi),m(vi,sr),te(Zi,sr,null),m(vi,Zo),m(vi,rr),te(Xi,rr,null),m(vi,Xo),m(t,tc),m(t,ar),m(ar,ec),m(t,ic),m(t,or),m(or,Wn),m(Wn,cr),te(tn,cr,null),m(Wn,nc),m(t,sc),m(t,ur),m(ur,rc),m(t,ac),m(t,lr),m(lr,hr),m(hr,fr),te(en,fr,null),m(t,oc),m(t,nn),te(sn,nn,null),m(nn,cc),m(t,uc),m(t,dr),m(dr,lc),m(t,hc),m(t,pr),m(pr,fc),m(t,dc),m(t,wi),m(wi,mr),m(mr,rn),m(rn,qn),m(qn,pc),m(rn,mc),m(rn,an),te(on,an,null),m(an,yc),m(wi,gc),m(wi,we),m(we,cn),m(cn,Hn),m(Hn,_c),m(cn,bc),m(cn,Yn),m(Yn,vc),m(we,wc),m(we,un),m(un,Gn),m(Gn,xc),m(un,Sc),m(un,Kn),m(Kn,Ic),m(we,Ac),m(we,ln),m(ln,Jn),m(Jn,Ec),m(ln,Tc),m(ln,Qn),m(Qn,Cc),m(we,kc),m(we,hn),m(hn,Zn),m(Zn,Oc),m(hn,Bc),m(hn,Xn),m(Xn,Nc),m(t,Fc),m(t,yr),m(yr,Lc),m(t,Dc),m(t,gr),m(gr,Mc),m(t,Rc),m(t,xi),m(xi,_r),m(_r,fn),m(fn,ts),m(ts,Pc),m(fn,Vc),m(fn,dn),te(pn,dn,null),m(dn,Uc),m(xi,$c),m(xi,xe),m(xe,mn),m(mn,es),m(es,jc),m(mn,zc),m(mn,is),m(is,Wc),m(xe,qc),m(xe,yn),m(yn,ns),m(ns,Hc),m(yn,Yc),m(yn,ss),m(ss,Gc),m(xe,Kc),m(xe,gn),m(gn,rs),m(rs,Jc),m(gn,Qc),m(gn,as),m(as,Zc),m(xe,Xc),m(xe,_n),m(_n,os),m(os,tu),m(_n,eu),m(_n,cs),m(cs,iu),m(t,nu),m(t,br),m(br,su),m(t,ru),m(t,vr),m(vr,au),m(t,ou),m(t,Si),m(Si,wr),m(wr,bn),m(bn,us),m(us,cu),m(bn,uu),m(bn,vn),te(wn,vn,null),m(vn,lu),m(Si,hu),m(Si,Se),m(Se,xn),m(xn,ls),m(ls,fu),m(xn,du),m(xn,hs),m(hs,pu),m(Se,mu),m(Se,Sn),m(Sn,fs),m(fs,yu),m(Sn,gu),m(Sn,ds),m(ds,_u),m(Se,bu),m(Se,In),m(In,ps),m(ps,vu),m(In,wu),m(In,ms),m(ms,xu),m(Se,Su),m(Se,An),m(An,ys),m(ys,Iu),m(An,Au),m(An,gs),m(gs,Eu),ra=!0},p:el,i(tt){ra||(ee(q.$$.fragment,tt),ee(at.$$.fragment,tt),ee(Gi.$$.fragment,tt),ee(Ji.$$.fragment,tt),ee(Qi.$$.fragment,tt),ee(Zi.$$.fragment,tt),ee(Xi.$$.fragment,tt),ee(tn.$$.fragment,tt),ee(en.$$.fragment,tt),ee(sn.$$.fragment,tt),ee(on.$$.fragment,tt),ee(pn.$$.fragment,tt),ee(wn.$$.fragment,tt),ra=!0)},o(tt){ie(q.$$.fragment,tt),ie(at.$$.fragment,tt),ie(Gi.$$.fragment,tt),ie(Ji.$$.fragment,tt),ie(Qi.$$.fragment,tt),ie(Zi.$$.fragment,tt),ie(Xi.$$.fragment,tt),ie(tn.$$.fragment,tt),ie(en.$$.fragment,tt),ie(sn.$$.fragment,tt),ie(on.$$.fragment,tt),ie(pn.$$.fragment,tt),ie(wn.$$.fragment,tt),ra=!1},d(tt){tt&&b(t),ne(q),ne(at),ne(Gi),ne(Ji),ne(Qi),ne(Zi),ne(Xi),ne(tn),ne(en),ne(sn),ne(on),ne(pn),ne(wn)}}}class WI extends Zd{constructor(t){super(),Xd(this,t,null,fI,tp,{})}}export{uI as B,cI as D,aI as I,oI as J,qr as P,WI as S,ip as T,Hr as a,Yr as b,Al as c,UI as d,j as e,VI as f,_I as g,jI as h,bI as i,K0 as j,X0 as k,sI as l,zI as m,gI as n,II as o,vI as p,yI as q,mI as r,$I as s,PI as u,Vh as w};
